(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-vendors"],{"00ee":function(e,t,n){var i=n("b622"),r=i("toStringTag"),o={};o[r]="z",e.exports="[object z]"===String(o)},"0366":function(e,t,n){var i=n("1c0b");e.exports=function(e,t,n){if(i(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,i){return e.call(t,n,i)};case 3:return function(n,i,r){return e.call(t,n,i,r)}}return function(){return e.apply(t,arguments)}}},"06cf":function(e,t,n){var i=n("83ab"),r=n("d1e7"),o=n("5c6c"),a=n("fc6a"),s=n("c04e"),l=n("5135"),c=n("0cfb"),u=Object.getOwnPropertyDescriptor;t.f=i?u:function(e,t){if(e=a(e),t=s(t,!0),c)try{return u(e,t)}catch(n){}if(l(e,t))return o(!r.f.call(e,t),e[t])}},"0cfb":function(e,t,n){var i=n("83ab"),r=n("d039"),o=n("cc12");e.exports=!i&&!r((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},"159b":function(e,t,n){var i=n("da84"),r=n("fdbc"),o=n("17c2"),a=n("9112");for(var s in r){var l=i[s],c=l&&l.prototype;if(c&&c.forEach!==o)try{a(c,"forEach",o)}catch(u){c.forEach=o}}},"17c2":function(e,t,n){"use strict";var i=n("b727").forEach,r=n("a640"),o=r("forEach");e.exports=o?[].forEach:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}},"19aa":function(e,t){e.exports=function(e,t,n){if(!(e instanceof t))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return e}},"1be4":function(e,t,n){var i=n("d066");e.exports=i("document","documentElement")},"1c0b":function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},"1c7e":function(e,t,n){var i=n("b622"),r=i("iterator"),o=!1;try{var a=0,s={next:function(){return{done:!!a++}},return:function(){o=!0}};s[r]=function(){return this},Array.from(s,(function(){throw 2}))}catch(l){}e.exports=function(e,t){if(!t&&!o)return!1;var n=!1;try{var i={};i[r]=function(){return{next:function(){return{done:n=!0}}}},e(i)}catch(l){}return n}},"1cdc":function(e,t,n){var i=n("342f");e.exports=/(?:iphone|ipod|ipad).*applewebkit/i.test(i)},"1d80":function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on "+e);return e}},"1dde":function(e,t,n){var i=n("d039"),r=n("b622"),o=n("2d00"),a=r("species");e.exports=function(e){return o>=51||!i((function(){var t=[],n=t.constructor={};return n[a]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},2266:function(e,t,n){var i=n("825a"),r=n("e95a"),o=n("50c4"),a=n("0366"),s=n("35a1"),l=n("2a62"),c=function(e,t){this.stopped=e,this.result=t};e.exports=function(e,t,n){var u,d,h,p,f,m,g,y=n&&n.that,v=!(!n||!n.AS_ENTRIES),b=!(!n||!n.IS_ITERATOR),_=!(!n||!n.INTERRUPTED),x=a(t,y,1+v+_),k=function(e){return u&&l(u),new c(!0,e)},w=function(e){return v?(i(e),_?x(e[0],e[1],k):x(e[0],e[1])):_?x(e,k):x(e)};if(b)u=e;else{if(d=s(e),"function"!=typeof d)throw TypeError("Target is not iterable");if(r(d)){for(h=0,p=o(e.length);p>h;h++)if(f=w(e[h]),f&&f instanceof c)return f;return new c(!1)}u=d.call(e)}m=u.next;while(!(g=m.call(u)).done){try{f=w(g.value)}catch(S){throw l(u),S}if("object"==typeof f&&f&&f instanceof c)return f}return new c(!1)}},"23cb":function(e,t,n){var i=n("a691"),r=Math.max,o=Math.min;e.exports=function(e,t){var n=i(e);return n<0?r(n+t,0):o(n,t)}},"23e7":function(e,t,n){var i=n("da84"),r=n("06cf").f,o=n("9112"),a=n("6eeb"),s=n("ce4e"),l=n("e893"),c=n("94ca");e.exports=function(e,t){var n,u,d,h,p,f,m=e.target,g=e.global,y=e.stat;if(u=g?i:y?i[m]||s(m,{}):(i[m]||{}).prototype,u)for(d in t){if(p=t[d],e.noTargetGet?(f=r(u,d),h=f&&f.value):h=u[d],n=c(g?d:m+(y?".":"#")+d,e.forced),!n&&void 0!==h){if(typeof p===typeof h)continue;l(p,h)}(e.sham||h&&h.sham)&&o(p,"sham",!0),a(u,d,p,e)}}},"241c":function(e,t,n){var i=n("ca84"),r=n("7839"),o=r.concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return i(e,o)}},"260b":function(e,t,n){"use strict";var i=n("cc84");n.d(t,"a",(function(){return i["a"]}));var r="firebase",o="8.8.0";
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
i["a"].registerVersion(r,o,"app"),i["a"].SDK_VERSION=o},2626:function(e,t,n){"use strict";var i=n("d066"),r=n("9bf2"),o=n("b622"),a=n("83ab"),s=o("species");e.exports=function(e){var t=i(e),n=r.f;a&&t&&!t[s]&&n(t,s,{configurable:!0,get:function(){return this}})}},"2a62":function(e,t,n){var i=n("825a");e.exports=function(e){var t=e["return"];if(void 0!==t)return i(t.call(e)).value}},"2cf4":function(e,t,n){var i,r,o,a=n("da84"),s=n("d039"),l=n("0366"),c=n("1be4"),u=n("cc12"),d=n("1cdc"),h=n("605d"),p=a.location,f=a.setImmediate,m=a.clearImmediate,g=a.process,y=a.MessageChannel,v=a.Dispatch,b=0,_={},x="onreadystatechange",k=function(e){if(_.hasOwnProperty(e)){var t=_[e];delete _[e],t()}},w=function(e){return function(){k(e)}},S=function(e){k(e.data)},M=function(e){a.postMessage(e+"",p.protocol+"//"+p.host)};f&&m||(f=function(e){var t=[],n=1;while(arguments.length>n)t.push(arguments[n++]);return _[++b]=function(){("function"==typeof e?e:Function(e)).apply(void 0,t)},i(b),b},m=function(e){delete _[e]},h?i=function(e){g.nextTick(w(e))}:v&&v.now?i=function(e){v.now(w(e))}:y&&!d?(r=new y,o=r.port2,r.port1.onmessage=S,i=l(o.postMessage,o,1)):a.addEventListener&&"function"==typeof postMessage&&!a.importScripts&&p&&"file:"!==p.protocol&&!s(M)?(i=M,a.addEventListener("message",S,!1)):i=x in u("script")?function(e){c.appendChild(u("script"))[x]=function(){c.removeChild(this),k(e)}}:function(e){setTimeout(w(e),0)}),e.exports={set:f,clear:m}},"2d00":function(e,t,n){var i,r,o=n("da84"),a=n("342f"),s=o.process,l=s&&s.versions,c=l&&l.v8;c?(i=c.split("."),r=i[0]<4?1:i[0]+i[1]):a&&(i=a.match(/Edge\/(\d+)/),(!i||i[1]>=74)&&(i=a.match(/Chrome\/(\d+)/),i&&(r=i[1]))),e.exports=r&&+r},"342f":function(e,t,n){var i=n("d066");e.exports=i("navigator","userAgent")||""},"35a1":function(e,t,n){var i=n("f5df"),r=n("3f8c"),o=n("b622"),a=o("iterator");e.exports=function(e){if(void 0!=e)return e[a]||e["@@iterator"]||r[i(e)]}},"37e8":function(e,t,n){var i=n("83ab"),r=n("9bf2"),o=n("825a"),a=n("df75");e.exports=i?Object.defineProperties:function(e,t){o(e);var n,i=a(t),s=i.length,l=0;while(s>l)r.f(e,n=i[l++],t[n]);return e}},"3bbe":function(e,t,n){var i=n("861d");e.exports=function(e){if(!i(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");return e}},"3f8c":function(e,t){e.exports={}},"428f":function(e,t,n){var i=n("da84");e.exports=i},4362:function(e,t,n){t.nextTick=function(e){var t=Array.prototype.slice.call(arguments);t.shift(),setTimeout((function(){e.apply(null,t)}),0)},t.platform=t.arch=t.execPath=t.title="browser",t.pid=1,t.browser=!0,t.env={},t.argv=[],t.binding=function(e){throw new Error("No such module. (Possibly not yet loaded)")},function(){var e,i="/";t.cwd=function(){return i},t.chdir=function(t){e||(e=n("df7c")),i=e.resolve(t,i)}}(),t.exit=t.kill=t.umask=t.dlopen=t.uptime=t.memoryUsage=t.uvCounters=function(){},t.features={}},"44ad":function(e,t,n){var i=n("d039"),r=n("c6b6"),o="".split;e.exports=i((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==r(e)?o.call(e,""):Object(e)}:Object},"44d2":function(e,t,n){var i=n("b622"),r=n("7c73"),o=n("9bf2"),a=i("unscopables"),s=Array.prototype;void 0==s[a]&&o.f(s,a,{configurable:!0,value:r(null)}),e.exports=function(e){s[a][e]=!0}},"44de":function(e,t,n){var i=n("da84");e.exports=function(e,t){var n=i.console;n&&n.error&&(1===arguments.length?n.error(e):n.error(e,t))}},4840:function(e,t,n){var i=n("825a"),r=n("1c0b"),o=n("b622"),a=o("species");e.exports=function(e,t){var n,o=i(e).constructor;return void 0===o||void 0==(n=i(o)[a])?t:r(n)}},4930:function(e,t,n){var i=n("2d00"),r=n("d039");e.exports=!!Object.getOwnPropertySymbols&&!r((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&i&&i<41}))},"4d64":function(e,t,n){var i=n("fc6a"),r=n("50c4"),o=n("23cb"),a=function(e){return function(t,n,a){var s,l=i(t),c=r(l.length),u=o(a,c);if(e&&n!=n){while(c>u)if(s=l[u++],s!=s)return!0}else for(;c>u;u++)if((e||u in l)&&l[u]===n)return e||u||0;return!e&&-1}};e.exports={includes:a(!0),indexOf:a(!1)}},"50c4":function(e,t,n){var i=n("a691"),r=Math.min;e.exports=function(e){return e>0?r(i(e),9007199254740991):0}},5135:function(e,t,n){var i=n("7b0b"),r={}.hasOwnProperty;e.exports=Object.hasOwn||function(e,t){return r.call(i(e),t)}},5692:function(e,t,n){var i=n("c430"),r=n("c6cd");(e.exports=function(e,t){return r[e]||(r[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.15.2",mode:i?"pure":"global",copyright:"Â© 2021 Denis Pushkarev (zloirock.ru)"})},"56ef":function(e,t,n){var i=n("d066"),r=n("241c"),o=n("7418"),a=n("825a");e.exports=i("Reflect","ownKeys")||function(e){var t=r.f(a(e)),n=o.f;return n?t.concat(n(e)):t}},"5c6c":function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},"605d":function(e,t,n){var i=n("c6b6"),r=n("da84");e.exports="process"==i(r.process)},6069:function(e,t){e.exports="object"==typeof window},"60da":function(e,t,n){"use strict";var i=n("83ab"),r=n("d039"),o=n("df75"),a=n("7418"),s=n("d1e7"),l=n("7b0b"),c=n("44ad"),u=Object.assign,d=Object.defineProperty;e.exports=!u||r((function(){if(i&&1!==u({b:1},u(d({},"a",{enumerable:!0,get:function(){d(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach((function(e){t[e]=e})),7!=u({},e)[n]||o(u({},t)).join("")!=r}))?function(e,t){var n=l(e),r=arguments.length,u=1,d=a.f,h=s.f;while(r>u){var p,f=c(arguments[u++]),m=d?o(f).concat(d(f)):o(f),g=m.length,y=0;while(g>y)p=m[y++],i&&!h.call(f,p)||(n[p]=f[p])}return n}:u},"65f0":function(e,t,n){var i=n("861d"),r=n("e8b5"),o=n("b622"),a=o("species");e.exports=function(e,t){var n;return r(e)&&(n=e.constructor,"function"!=typeof n||n!==Array&&!r(n.prototype)?i(n)&&(n=n[a],null===n&&(n=void 0)):n=void 0),new(void 0===n?Array:n)(0===t?0:t)}},"66ce":function(e,t,n){"use strict";n("e947")},"69f3":function(e,t,n){var i,r,o,a=n("7f9a"),s=n("da84"),l=n("861d"),c=n("9112"),u=n("5135"),d=n("c6cd"),h=n("f772"),p=n("d012"),f="Object already initialized",m=s.WeakMap,g=function(e){return o(e)?r(e):i(e,{})},y=function(e){return function(t){var n;if(!l(t)||(n=r(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}};if(a||d.state){var v=d.state||(d.state=new m),b=v.get,_=v.has,x=v.set;i=function(e,t){if(_.call(v,e))throw new TypeError(f);return t.facade=e,x.call(v,e,t),t},r=function(e){return b.call(v,e)||{}},o=function(e){return _.call(v,e)}}else{var k=h("state");p[k]=!0,i=function(e,t){if(u(e,k))throw new TypeError(f);return t.facade=e,c(e,k,t),t},r=function(e){return u(e,k)?e[k]:{}},o=function(e){return u(e,k)}}e.exports={set:i,get:r,has:o,enforce:g,getterFor:y}},"6eeb":function(e,t,n){var i=n("da84"),r=n("9112"),o=n("5135"),a=n("ce4e"),s=n("8925"),l=n("69f3"),c=l.get,u=l.enforce,d=String(String).split("String");(e.exports=function(e,t,n,s){var l,c=!!s&&!!s.unsafe,h=!!s&&!!s.enumerable,p=!!s&&!!s.noTargetGet;"function"==typeof n&&("string"!=typeof t||o(n,"name")||r(n,"name",t),l=u(n),l.source||(l.source=d.join("string"==typeof t?t:""))),e!==i?(c?!p&&e[t]&&(h=!0):delete e[t],h?e[t]=n:r(e,t,n)):h?e[t]=n:a(t,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&c(this).source||s(this)}))},7418:function(e,t){t.f=Object.getOwnPropertySymbols},7839:function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"7a23":function(e,t,n){"use strict";n.d(t,"l",(function(){return i["J"]})),n.d(t,"a",(function(){return ri})),n.d(t,"c",(function(){return fi})),n.d(t,"d",(function(){return Si})),n.d(t,"e",(function(){return wi})),n.d(t,"f",(function(){return _i})),n.d(t,"g",(function(){return ui})),n.d(t,"h",(function(){return dt})),n.d(t,"i",(function(){return ut})),n.d(t,"j",(function(){return Ai})),n.d(t,"k",(function(){return ei})),n.d(t,"n",(function(){return zn})),n.d(t,"o",(function(){return ht})),n.d(t,"b",(function(){return to})),n.d(t,"m",(function(){return Zr}));var i=n("9ff4");const r=new WeakMap,o=[];let a;const s=Symbol(""),l=Symbol("");function c(e){return e&&!0===e._isEffect}function u(e,t=i["b"]){c(e)&&(e=e.raw);const n=p(e,t);return t.lazy||n(),n}function d(e){e.active&&(f(e),e.options.onStop&&e.options.onStop(),e.active=!1)}let h=0;function p(e,t){const n=function(){if(!n.active)return e();if(!o.includes(n)){f(n);try{return v(),o.push(n),a=n,e()}finally{o.pop(),b(),a=o[o.length-1]}}};return n.id=h++,n.allowRecurse=!!t.allowRecurse,n._isEffect=!0,n.active=!0,n.raw=e,n.deps=[],n.options=t,n}function f(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let m=!0;const g=[];function y(){g.push(m),m=!1}function v(){g.push(m),m=!0}function b(){const e=g.pop();m=void 0===e||e}function _(e,t,n){if(!m||void 0===a)return;let i=r.get(e);i||r.set(e,i=new Map);let o=i.get(n);o||i.set(n,o=new Set),o.has(a)||(o.add(a),a.deps.push(o))}function x(e,t,n,o,c,u){const d=r.get(e);if(!d)return;const h=new Set,p=e=>{e&&e.forEach(e=>{(e!==a||e.allowRecurse)&&h.add(e)})};if("clear"===t)d.forEach(p);else if("length"===n&&Object(i["m"])(e))d.forEach((e,t)=>{("length"===t||t>=o)&&p(e)});else switch(void 0!==n&&p(d.get(n)),t){case"add":Object(i["m"])(e)?Object(i["q"])(n)&&p(d.get("length")):(p(d.get(s)),Object(i["r"])(e)&&p(d.get(l)));break;case"delete":Object(i["m"])(e)||(p(d.get(s)),Object(i["r"])(e)&&p(d.get(l)));break;case"set":Object(i["r"])(e)&&p(d.get(s));break}const f=e=>{e.options.scheduler?e.options.scheduler(e):e()};h.forEach(f)}const k=Object(i["F"])("__proto__,__v_isRef,__isVue"),w=new Set(Object.getOwnPropertyNames(Symbol).map(e=>Symbol[e]).filter(i["C"])),S=A(),M=A(!1,!0),C=A(!0),L=O();function O(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...e){const n=xe(this);for(let t=0,r=this.length;t<r;t++)_(n,"get",t+"");const i=n[t](...e);return-1===i||!1===i?n[t](...e.map(xe)):i}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...e){y();const n=xe(this)[t].apply(this,e);return b(),n}}),e}function A(e=!1,t=!1){return function(n,r,o){if("__v_isReactive"===r)return!e;if("__v_isReadonly"===r)return e;if("__v_raw"===r&&o===(e?t?de:ue:t?ce:le).get(n))return n;const a=Object(i["m"])(n);if(!e&&a&&Object(i["j"])(L,r))return Reflect.get(L,r,o);const s=Reflect.get(n,r,o);if(Object(i["C"])(r)?w.has(r):k(r))return s;if(e||_(n,"get",r),t)return s;if(we(s)){const e=!a||!Object(i["q"])(r);return e?s.value:s}return Object(i["t"])(s)?e?ge(s):fe(s):s}}const E=N(),T=N(!0);function N(e=!1){return function(t,n,r,o){let a=t[n];if(!e&&(r=xe(r),a=xe(a),!Object(i["m"])(t)&&we(a)&&!we(r)))return a.value=r,!0;const s=Object(i["m"])(t)&&Object(i["q"])(n)?Number(n)<t.length:Object(i["j"])(t,n),l=Reflect.set(t,n,r,o);return t===xe(o)&&(s?Object(i["i"])(r,a)&&x(t,"set",n,r,a):x(t,"add",n,r)),l}}function D(e,t){const n=Object(i["j"])(e,t),r=e[t],o=Reflect.deleteProperty(e,t);return o&&n&&x(e,"delete",t,void 0,r),o}function P(e,t){const n=Reflect.has(e,t);return Object(i["C"])(t)&&w.has(t)||_(e,"has",t),n}function q(e){return _(e,"iterate",Object(i["m"])(e)?"length":s),Reflect.ownKeys(e)}const I={get:S,set:E,deleteProperty:D,has:P,ownKeys:q},j={get:C,set(e,t){return!0},deleteProperty(e,t){return!0}},z=Object(i["h"])({},I,{get:M,set:T}),R=e=>Object(i["t"])(e)?fe(e):e,F=e=>Object(i["t"])(e)?ge(e):e,$=e=>e,B=e=>Reflect.getPrototypeOf(e);function K(e,t,n=!1,i=!1){e=e["__v_raw"];const r=xe(e),o=xe(t);t!==o&&!n&&_(r,"get",t),!n&&_(r,"get",o);const{has:a}=B(r),s=i?$:n?F:R;return a.call(r,t)?s(e.get(t)):a.call(r,o)?s(e.get(o)):void(e!==r&&e.get(t))}function W(e,t=!1){const n=this["__v_raw"],i=xe(n),r=xe(e);return e!==r&&!t&&_(i,"has",e),!t&&_(i,"has",r),e===r?n.has(e):n.has(e)||n.has(r)}function V(e,t=!1){return e=e["__v_raw"],!t&&_(xe(e),"iterate",s),Reflect.get(e,"size",e)}function U(e){e=xe(e);const t=xe(this),n=B(t),i=n.has.call(t,e);return i||(t.add(e),x(t,"add",e,e)),this}function H(e,t){t=xe(t);const n=xe(this),{has:r,get:o}=B(n);let a=r.call(n,e);a||(e=xe(e),a=r.call(n,e));const s=o.call(n,e);return n.set(e,t),a?Object(i["i"])(t,s)&&x(n,"set",e,t,s):x(n,"add",e,t),this}function G(e){const t=xe(this),{has:n,get:i}=B(t);let r=n.call(t,e);r||(e=xe(e),r=n.call(t,e));const o=i?i.call(t,e):void 0,a=t.delete(e);return r&&x(t,"delete",e,void 0,o),a}function X(){const e=xe(this),t=0!==e.size,n=void 0,i=e.clear();return t&&x(e,"clear",void 0,void 0,n),i}function Z(e,t){return function(n,i){const r=this,o=r["__v_raw"],a=xe(o),l=t?$:e?F:R;return!e&&_(a,"iterate",s),o.forEach((e,t)=>n.call(i,l(e),l(t),r))}}function Y(e,t,n){return function(...r){const o=this["__v_raw"],a=xe(o),c=Object(i["r"])(a),u="entries"===e||e===Symbol.iterator&&c,d="keys"===e&&c,h=o[e](...r),p=n?$:t?F:R;return!t&&_(a,"iterate",d?l:s),{next(){const{value:e,done:t}=h.next();return t?{value:e,done:t}:{value:u?[p(e[0]),p(e[1])]:p(e),done:t}},[Symbol.iterator](){return this}}}}function Q(e){return function(...t){return"delete"!==e&&this}}function J(){const e={get(e){return K(this,e)},get size(){return V(this)},has:W,add:U,set:H,delete:G,clear:X,forEach:Z(!1,!1)},t={get(e){return K(this,e,!1,!0)},get size(){return V(this)},has:W,add:U,set:H,delete:G,clear:X,forEach:Z(!1,!0)},n={get(e){return K(this,e,!0)},get size(){return V(this,!0)},has(e){return W.call(this,e,!0)},add:Q("add"),set:Q("set"),delete:Q("delete"),clear:Q("clear"),forEach:Z(!0,!1)},i={get(e){return K(this,e,!0,!0)},get size(){return V(this,!0)},has(e){return W.call(this,e,!0)},add:Q("add"),set:Q("set"),delete:Q("delete"),clear:Q("clear"),forEach:Z(!0,!0)},r=["keys","values","entries",Symbol.iterator];return r.forEach(r=>{e[r]=Y(r,!1,!1),n[r]=Y(r,!0,!1),t[r]=Y(r,!1,!0),i[r]=Y(r,!0,!0)}),[e,n,t,i]}const[ee,te,ne,ie]=J();function re(e,t){const n=t?e?ie:ne:e?te:ee;return(t,r,o)=>"__v_isReactive"===r?!e:"__v_isReadonly"===r?e:"__v_raw"===r?t:Reflect.get(Object(i["j"])(n,r)&&r in t?n:t,r,o)}const oe={get:re(!1,!1)},ae={get:re(!1,!0)},se={get:re(!0,!1)};const le=new WeakMap,ce=new WeakMap,ue=new WeakMap,de=new WeakMap;function he(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function pe(e){return e["__v_skip"]||!Object.isExtensible(e)?0:he(Object(i["M"])(e))}function fe(e){return e&&e["__v_isReadonly"]?e:ye(e,!1,I,oe,le)}function me(e){return ye(e,!1,z,ae,ce)}function ge(e){return ye(e,!0,j,se,ue)}function ye(e,t,n,r,o){if(!Object(i["t"])(e))return e;if(e["__v_raw"]&&(!t||!e["__v_isReactive"]))return e;const a=o.get(e);if(a)return a;const s=pe(e);if(0===s)return e;const l=new Proxy(e,2===s?r:n);return o.set(e,l),l}function ve(e){return be(e)?ve(e["__v_raw"]):!(!e||!e["__v_isReactive"])}function be(e){return!(!e||!e["__v_isReadonly"])}function _e(e){return ve(e)||be(e)}function xe(e){return e&&xe(e["__v_raw"])||e}function ke(e){return Object(i["g"])(e,"__v_skip",!0),e}function we(e){return Boolean(e&&!0===e.__v_isRef)}function Se(e){return we(e)?e.value:e}const Me={get:(e,t,n)=>Se(Reflect.get(e,t,n)),set:(e,t,n,i)=>{const r=e[t];return we(r)&&!we(n)?(r.value=n,!0):Reflect.set(e,t,n,i)}};function Ce(e){return ve(e)?e:new Proxy(e,Me)}class Le{constructor(e,t,n){this._setter=t,this._dirty=!0,this.__v_isRef=!0,this.effect=u(e,{lazy:!0,scheduler:()=>{this._dirty||(this._dirty=!0,x(xe(this),"set","value"))}}),this["__v_isReadonly"]=n}get value(){const e=xe(this);return e._dirty&&(e._value=this.effect(),e._dirty=!1),_(e,"get","value"),e._value}set value(e){this._setter(e)}}function Oe(e){let t,n;return Object(i["n"])(e)?(t=e,n=i["d"]):(t=e.get,n=e.set),new Le(t,n,Object(i["n"])(e)||!e.set)}function Ae(e,t,n,i){let r;try{r=i?e(...i):e()}catch(o){Te(o,t,n)}return r}function Ee(e,t,n,r){if(Object(i["n"])(e)){const o=Ae(e,t,n,r);return o&&Object(i["w"])(o)&&o.catch(e=>{Te(e,t,n)}),o}const o=[];for(let i=0;i<e.length;i++)o.push(Ee(e[i],t,n,r));return o}function Te(e,t,n,i=!0){const r=t?t.vnode:null;if(t){let i=t.parent;const r=t.proxy,o=n;while(i){const t=i.ec;if(t)for(let n=0;n<t.length;n++)if(!1===t[n](e,r,o))return;i=i.parent}const a=t.appContext.config.errorHandler;if(a)return void Ae(a,null,10,[e,r,o])}Ne(e,n,r,i)}function Ne(e,t,n,i=!0){console.error(e)}let De=!1,Pe=!1;const qe=[];let Ie=0;const je=[];let ze=null,Re=0;const Fe=[];let $e=null,Be=0;const Ke=Promise.resolve();let We=null,Ve=null;function Ue(e){const t=We||Ke;return e?t.then(this?e.bind(this):e):t}function He(e){let t=Ie+1,n=qe.length;const i=nt(e);while(t<n){const e=t+n>>>1,r=nt(qe[e]);r<i?t=e+1:n=e}return t}function Ge(e){if((!qe.length||!qe.includes(e,De&&e.allowRecurse?Ie+1:Ie))&&e!==Ve){const t=He(e);t>-1?qe.splice(t,0,e):qe.push(e),Xe()}}function Xe(){De||Pe||(Pe=!0,We=Ke.then(it))}function Ze(e){const t=qe.indexOf(e);t>Ie&&qe.splice(t,1)}function Ye(e,t,n,r){Object(i["m"])(e)?n.push(...e):t&&t.includes(e,e.allowRecurse?r+1:r)||n.push(e),Xe()}function Qe(e){Ye(e,ze,je,Re)}function Je(e){Ye(e,$e,Fe,Be)}function et(e,t=null){if(je.length){for(Ve=t,ze=[...new Set(je)],je.length=0,Re=0;Re<ze.length;Re++)ze[Re]();ze=null,Re=0,Ve=null,et(e,t)}}function tt(e){if(Fe.length){const e=[...new Set(Fe)];if(Fe.length=0,$e)return void $e.push(...e);for($e=e,$e.sort((e,t)=>nt(e)-nt(t)),Be=0;Be<$e.length;Be++)$e[Be]();$e=null,Be=0}}const nt=e=>null==e.id?1/0:e.id;function it(e){Pe=!1,De=!0,et(e),qe.sort((e,t)=>nt(e)-nt(t));try{for(Ie=0;Ie<qe.length;Ie++){const e=qe[Ie];e&&!1!==e.active&&Ae(e,null,14)}}finally{Ie=0,qe.length=0,tt(e),De=!1,We=null,(qe.length||je.length||Fe.length)&&it(e)}}new Set;new Map;Object.create(null),Object.create(null);function rt(e,t,...n){const r=e.vnode.props||i["b"];let o=n;const a=t.startsWith("update:"),s=a&&t.slice(7);if(s&&s in r){const e=("modelValue"===s?"model":s)+"Modifiers",{number:t,trim:a}=r[e]||i["b"];a?o=n.map(e=>e.trim()):t&&(o=n.map(i["L"]))}let l;let c=r[l=Object(i["K"])(t)]||r[l=Object(i["K"])(Object(i["e"])(t))];!c&&a&&(c=r[l=Object(i["K"])(Object(i["k"])(t))]),c&&Ee(c,e,6,o);const u=r[l+"Once"];if(u){if(e.emitted){if(e.emitted[l])return}else e.emitted={};e.emitted[l]=!0,Ee(u,e,6,o)}}function ot(e,t,n=!1){const r=t.emitsCache,o=r.get(e);if(void 0!==o)return o;const a=e.emits;let s={},l=!1;if(!Object(i["n"])(e)){const r=e=>{const n=ot(e,t,!0);n&&(l=!0,Object(i["h"])(s,n))};!n&&t.mixins.length&&t.mixins.forEach(r),e.extends&&r(e.extends),e.mixins&&e.mixins.forEach(r)}return a||l?(Object(i["m"])(a)?a.forEach(e=>s[e]=null):Object(i["h"])(s,a),r.set(e,s),s):(r.set(e,null),null)}function at(e,t){return!(!e||!Object(i["u"])(t))&&(t=t.slice(2).replace(/Once$/,""),Object(i["j"])(e,t[0].toLowerCase()+t.slice(1))||Object(i["j"])(e,Object(i["k"])(t))||Object(i["j"])(e,t))}let st=null,lt=null;function ct(e){const t=st;return st=e,lt=e&&e.type.__scopeId||null,t}function ut(e){lt=e}function dt(){lt=null}const ht=e=>pt;function pt(e,t=st,n){if(!t)return e;if(e._n)return e;const i=(...n)=>{i._d&&pi(-1);const r=ct(t),o=e(...n);return ct(r),i._d&&pi(1),o};return i._n=!0,i._c=!0,i._d=!0,i}function ft(e){const{type:t,vnode:n,proxy:r,withProxy:o,props:a,propsOptions:[s],slots:l,attrs:c,emit:u,render:d,renderCache:h,data:p,setupState:f,ctx:m,inheritAttrs:g}=e;let y;const v=ct(e);try{let e;if(4&n.shapeFlag){const t=o||r;y=Mi(d.call(t,t,h,a,f,p,m)),e=c}else{const n=t;0,y=Mi(n.length>1?n(a,{attrs:c,slots:l,emit:u}):n(a,null)),e=t.props?c:mt(c)}let v=y;if(e&&!1!==g){const t=Object.keys(e),{shapeFlag:n}=v;t.length&&(1&n||6&n)&&(s&&t.some(i["s"])&&(e=gt(e,s)),v=ki(v,e))}0,n.dirs&&(v.dirs=v.dirs?v.dirs.concat(n.dirs):n.dirs),n.transition&&(v.transition=n.transition),y=v}catch(b){li.length=0,Te(b,e,1),y=_i(ai)}return ct(v),y}const mt=e=>{let t;for(const n in e)("class"===n||"style"===n||Object(i["u"])(n))&&((t||(t={}))[n]=e[n]);return t},gt=(e,t)=>{const n={};for(const r in e)Object(i["s"])(r)&&r.slice(9)in t||(n[r]=e[r]);return n};function yt(e,t,n){const{props:i,children:r,component:o}=e,{props:a,children:s,patchFlag:l}=t,c=o.emitsOptions;if(t.dirs||t.transition)return!0;if(!(n&&l>=0))return!(!r&&!s||s&&s.$stable)||i!==a&&(i?!a||vt(i,a,c):!!a);if(1024&l)return!0;if(16&l)return i?vt(i,a,c):!!a;if(8&l){const e=t.dynamicProps;for(let t=0;t<e.length;t++){const n=e[t];if(a[n]!==i[n]&&!at(c,n))return!0}}return!1}function vt(e,t,n){const i=Object.keys(t);if(i.length!==Object.keys(e).length)return!0;for(let r=0;r<i.length;r++){const o=i[r];if(t[o]!==e[o]&&!at(n,o))return!0}return!1}function bt({vnode:e,parent:t},n){while(t&&t.subTree===e)(e=t.vnode).el=n,t=t.parent}const _t=e=>e.__isSuspense;function xt(e,t){t&&t.pendingBranch?Object(i["m"])(e)?t.effects.push(...e):t.effects.push(e):Je(e)}function kt(e,t){if(ji){let n=ji.provides;const i=ji.parent&&ji.parent.provides;i===n&&(n=ji.provides=Object.create(i)),n[e]=t}else 0}function wt(e,t,n=!1){const r=ji||st;if(r){const o=null==r.parent?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides;if(o&&e in o)return o[e];if(arguments.length>1)return n&&Object(i["n"])(t)?t.call(r.proxy):t}else 0}const St={};function Mt(e,t,n){return Ct(e,t,n)}function Ct(e,t,{immediate:n,deep:r,flush:o,onTrack:a,onTrigger:s}=i["b"],l=ji){let c,h,p=!1,f=!1;if(we(e)?(c=()=>e.value,p=!!e._shallow):ve(e)?(c=()=>e,r=!0):Object(i["m"])(e)?(f=!0,p=e.some(ve),c=()=>e.map(e=>we(e)?e.value:ve(e)?At(e):Object(i["n"])(e)?Ae(e,l,2):void 0)):c=Object(i["n"])(e)?t?()=>Ae(e,l,2):()=>{if(!l||!l.isUnmounted)return h&&h(),Ee(e,l,3,[m])}:i["d"],t&&r){const e=c;c=()=>At(e())}let m=e=>{h=b.options.onStop=()=>{Ae(e,l,4)}},g=f?[]:St;const y=()=>{if(b.active)if(t){const e=b();(r||p||(f?e.some((e,t)=>Object(i["i"])(e,g[t])):Object(i["i"])(e,g)))&&(h&&h(),Ee(t,l,3,[e,g===St?void 0:g,m]),g=e)}else b()};let v;y.allowRecurse=!!t,v="sync"===o?y:"post"===o?()=>Vn(y,l&&l.suspense):()=>{!l||l.isMounted?Qe(y):y()};const b=u(c,{lazy:!0,onTrack:a,onTrigger:s,scheduler:v});return Xi(b,l),t?n?y():g=b():"post"===o?Vn(b,l&&l.suspense):b(),()=>{d(b),l&&Object(i["I"])(l.effects,b)}}function Lt(e,t,n){const r=this.proxy,o=Object(i["B"])(e)?e.includes(".")?Ot(r,e):()=>r[e]:e.bind(r,r);let a;return Object(i["n"])(t)?a=t:(a=t.handler,n=t),Ct(o,a.bind(r),n,this)}function Ot(e,t){const n=t.split(".");return()=>{let t=e;for(let e=0;e<n.length&&t;e++)t=t[n[e]];return t}}function At(e,t=new Set){if(!Object(i["t"])(e)||e["__v_skip"])return e;if(t=t||new Set,t.has(e))return e;if(t.add(e),we(e))At(e.value,t);else if(Object(i["m"])(e))for(let n=0;n<e.length;n++)At(e[n],t);else if(Object(i["z"])(e)||Object(i["r"])(e))e.forEach(e=>{At(e,t)});else if(Object(i["v"])(e))for(const n in e)At(e[n],t);return e}function Et(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Qt(()=>{e.isMounted=!0}),tn(()=>{e.isUnmounting=!0}),e}const Tt=[Function,Array],Nt={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Tt,onEnter:Tt,onAfterEnter:Tt,onEnterCancelled:Tt,onBeforeLeave:Tt,onLeave:Tt,onAfterLeave:Tt,onLeaveCancelled:Tt,onBeforeAppear:Tt,onAppear:Tt,onAfterAppear:Tt,onAppearCancelled:Tt},setup(e,{slots:t}){const n=zi(),i=Et();let r;return()=>{const o=t.default&&Rt(t.default(),!0);if(!o||!o.length)return;const a=xe(e),{mode:s}=a;const l=o[0];if(i.isLeaving)return It(l);const c=jt(l);if(!c)return It(l);const u=qt(c,a,i,n);zt(c,u);const d=n.subTree,h=d&&jt(d);let p=!1;const{getTransitionKey:f}=c.type;if(f){const e=f();void 0===r?r=e:e!==r&&(r=e,p=!0)}if(h&&h.type!==ai&&(!gi(c,h)||p)){const e=qt(h,a,i,n);if(zt(h,e),"out-in"===s)return i.isLeaving=!0,e.afterLeave=()=>{i.isLeaving=!1,n.update()},It(l);"in-out"===s&&c.type!==ai&&(e.delayLeave=(e,t,n)=>{const r=Pt(i,h);r[String(h.key)]=h,e._leaveCb=()=>{t(),e._leaveCb=void 0,delete u.delayedLeave},u.delayedLeave=n})}return l}}},Dt=Nt;function Pt(e,t){const{leavingVNodes:n}=e;let i=n.get(t.type);return i||(i=Object.create(null),n.set(t.type,i)),i}function qt(e,t,n,i){const{appear:r,mode:o,persisted:a=!1,onBeforeEnter:s,onEnter:l,onAfterEnter:c,onEnterCancelled:u,onBeforeLeave:d,onLeave:h,onAfterLeave:p,onLeaveCancelled:f,onBeforeAppear:m,onAppear:g,onAfterAppear:y,onAppearCancelled:v}=t,b=String(e.key),_=Pt(n,e),x=(e,t)=>{e&&Ee(e,i,9,t)},k={mode:o,persisted:a,beforeEnter(t){let i=s;if(!n.isMounted){if(!r)return;i=m||s}t._leaveCb&&t._leaveCb(!0);const o=_[b];o&&gi(e,o)&&o.el._leaveCb&&o.el._leaveCb(),x(i,[t])},enter(e){let t=l,i=c,o=u;if(!n.isMounted){if(!r)return;t=g||l,i=y||c,o=v||u}let a=!1;const s=e._enterCb=t=>{a||(a=!0,x(t?o:i,[e]),k.delayedLeave&&k.delayedLeave(),e._enterCb=void 0)};t?(t(e,s),t.length<=1&&s()):s()},leave(t,i){const r=String(e.key);if(t._enterCb&&t._enterCb(!0),n.isUnmounting)return i();x(d,[t]);let o=!1;const a=t._leaveCb=n=>{o||(o=!0,i(),x(n?f:p,[t]),t._leaveCb=void 0,_[r]===e&&delete _[r])};_[r]=e,h?(h(t,a),h.length<=1&&a()):a()},clone(e){return qt(e,t,n,i)}};return k}function It(e){if($t(e))return e=ki(e),e.children=null,e}function jt(e){return $t(e)?e.children?e.children[0]:void 0:e}function zt(e,t){6&e.shapeFlag&&e.component?zt(e.component.subTree,t):128&e.shapeFlag?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Rt(e,t=!1){let n=[],i=0;for(let r=0;r<e.length;r++){const o=e[r];o.type===ri?(128&o.patchFlag&&i++,n=n.concat(Rt(o.children,t))):(t||o.type!==ai)&&n.push(o)}if(i>1)for(let r=0;r<n.length;r++)n[r].patchFlag=-2;return n}const Ft=e=>!!e.type.__asyncLoader;const $t=e=>e.type.__isKeepAlive;RegExp,RegExp;function Bt(e,t){return Object(i["m"])(e)?e.some(e=>Bt(e,t)):Object(i["B"])(e)?e.split(",").indexOf(t)>-1:!!e.test&&e.test(t)}function Kt(e,t){Vt(e,"a",t)}function Wt(e,t){Vt(e,"da",t)}function Vt(e,t,n=ji){const i=e.__wdc||(e.__wdc=()=>{let t=n;while(t){if(t.isDeactivated)return;t=t.parent}e()});if(Xt(t,i,n),n){let e=n.parent;while(e&&e.parent)$t(e.parent.vnode)&&Ut(i,t,n,e),e=e.parent}}function Ut(e,t,n,r){const o=Xt(t,e,r,!0);nn(()=>{Object(i["I"])(r[t],o)},n)}function Ht(e){let t=e.shapeFlag;256&t&&(t-=256),512&t&&(t-=512),e.shapeFlag=t}function Gt(e){return 128&e.shapeFlag?e.ssContent:e}function Xt(e,t,n=ji,i=!1){if(n){const r=n[e]||(n[e]=[]),o=t.__weh||(t.__weh=(...i)=>{if(n.isUnmounted)return;y(),Ri(n);const r=Ee(t,n,e,i);return Ri(null),b(),r});return i?r.unshift(o):r.push(o),o}}const Zt=e=>(t,n=ji)=>(!Bi||"sp"===e)&&Xt(e,t,n),Yt=Zt("bm"),Qt=Zt("m"),Jt=Zt("bu"),en=Zt("u"),tn=Zt("bum"),nn=Zt("um"),rn=Zt("sp"),on=Zt("rtg"),an=Zt("rtc");function sn(e,t=ji){Xt("ec",e,t)}let ln=!0;function cn(e){const t=pn(e),n=e.proxy,r=e.ctx;ln=!1,t.beforeCreate&&dn(t.beforeCreate,e,"bc");const{data:o,computed:a,methods:s,watch:l,provide:c,inject:u,created:d,beforeMount:h,mounted:p,beforeUpdate:f,updated:m,activated:g,deactivated:y,beforeDestroy:v,beforeUnmount:b,destroyed:_,unmounted:x,render:k,renderTracked:w,renderTriggered:S,errorCaptured:M,serverPrefetch:C,expose:L,inheritAttrs:O,components:A,directives:E,filters:T}=t,N=null;if(u&&un(u,r,N),s)for(const P in s){const e=s[P];Object(i["n"])(e)&&(r[P]=e.bind(n))}if(o){0;const t=o.call(n,n);0,Object(i["t"])(t)&&(e.data=fe(t))}if(ln=!0,a)for(const P in a){const e=a[P],t=Object(i["n"])(e)?e.bind(n,n):Object(i["n"])(e.get)?e.get.bind(n,n):i["d"];0;const o=!Object(i["n"])(e)&&Object(i["n"])(e.set)?e.set.bind(n):i["d"],s=Qi({get:t,set:o});Object.defineProperty(r,P,{enumerable:!0,configurable:!0,get:()=>s.value,set:e=>s.value=e})}if(l)for(const i in l)hn(l[i],r,n,i);if(c){const e=Object(i["n"])(c)?c.call(n):c;Reflect.ownKeys(e).forEach(t=>{kt(t,e[t])})}function D(e,t){Object(i["m"])(t)?t.forEach(t=>e(t.bind(n))):t&&e(t.bind(n))}if(d&&dn(d,e,"c"),D(Yt,h),D(Qt,p),D(Jt,f),D(en,m),D(Kt,g),D(Wt,y),D(sn,M),D(an,w),D(on,S),D(tn,b),D(nn,x),D(rn,C),Object(i["m"])(L))if(L.length){const t=e.exposed||(e.exposed={});L.forEach(e=>{Object.defineProperty(t,e,{get:()=>n[e],set:t=>n[e]=t})})}else e.exposed||(e.exposed={});k&&e.render===i["d"]&&(e.render=k),null!=O&&(e.inheritAttrs=O),A&&(e.components=A),E&&(e.directives=E)}function un(e,t,n=i["d"]){Object(i["m"])(e)&&(e=vn(e));for(const r in e){const n=e[r];Object(i["t"])(n)?t[r]="default"in n?wt(n.from||r,n.default,!0):wt(n.from||r):t[r]=wt(n)}}function dn(e,t,n){Ee(Object(i["m"])(e)?e.map(e=>e.bind(t.proxy)):e.bind(t.proxy),t,n)}function hn(e,t,n,r){const o=r.includes(".")?Ot(n,r):()=>n[r];if(Object(i["B"])(e)){const n=t[e];Object(i["n"])(n)&&Mt(o,n)}else if(Object(i["n"])(e))Mt(o,e.bind(n));else if(Object(i["t"])(e))if(Object(i["m"])(e))e.forEach(e=>hn(e,t,n,r));else{const r=Object(i["n"])(e.handler)?e.handler.bind(n):t[e.handler];Object(i["n"])(r)&&Mt(o,r,e)}else 0}function pn(e){const t=e.type,{mixins:n,extends:i}=t,{mixins:r,optionsCache:o,config:{optionMergeStrategies:a}}=e.appContext,s=o.get(t);let l;return s?l=s:r.length||n||i?(l={},r.length&&r.forEach(e=>fn(l,e,a,!0)),fn(l,t,a)):l=t,o.set(t,l),l}function fn(e,t,n,i=!1){const{mixins:r,extends:o}=t;o&&fn(e,o,n,!0),r&&r.forEach(t=>fn(e,t,n,!0));for(const a in t)if(i&&"expose"===a);else{const i=mn[a]||n&&n[a];e[a]=i?i(e[a],t[a]):t[a]}return e}const mn={data:gn,props:_n,emits:_n,methods:_n,computed:_n,beforeCreate:bn,created:bn,beforeMount:bn,mounted:bn,beforeUpdate:bn,updated:bn,beforeDestroy:bn,destroyed:bn,activated:bn,deactivated:bn,errorCaptured:bn,serverPrefetch:bn,components:_n,directives:_n,watch:xn,provide:gn,inject:yn};function gn(e,t){return t?e?function(){return Object(i["h"])(Object(i["n"])(e)?e.call(this,this):e,Object(i["n"])(t)?t.call(this,this):t)}:t:e}function yn(e,t){return _n(vn(e),vn(t))}function vn(e){if(Object(i["m"])(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function bn(e,t){return e?[...new Set([].concat(e,t))]:t}function _n(e,t){return e?Object(i["h"])(Object(i["h"])(Object.create(null),e),t):t}function xn(e,t){if(!e)return t;if(!t)return e;const n=Object(i["h"])(Object.create(null),e);for(const i in t)n[i]=bn(e[i],t[i]);return n}function kn(e,t,n,r=!1){const o={},a={};Object(i["g"])(a,yi,1),e.propsDefaults=Object.create(null),Sn(e,t,o,a);for(const i in e.propsOptions[0])i in o||(o[i]=void 0);n?e.props=r?o:me(o):e.type.props?e.props=o:e.props=a,e.attrs=a}function wn(e,t,n,r){const{props:o,attrs:a,vnode:{patchFlag:s}}=e,l=xe(o),[c]=e.propsOptions;let u=!1;if(!(r||s>0)||16&s){let r;Sn(e,t,o,a)&&(u=!0);for(const a in l)t&&(Object(i["j"])(t,a)||(r=Object(i["k"])(a))!==a&&Object(i["j"])(t,r))||(c?!n||void 0===n[a]&&void 0===n[r]||(o[a]=Mn(c,l,a,void 0,e,!0)):delete o[a]);if(a!==l)for(const e in a)t&&Object(i["j"])(t,e)||(delete a[e],u=!0)}else if(8&s){const n=e.vnode.dynamicProps;for(let r=0;r<n.length;r++){let s=n[r];const d=t[s];if(c)if(Object(i["j"])(a,s))d!==a[s]&&(a[s]=d,u=!0);else{const t=Object(i["e"])(s);o[t]=Mn(c,l,t,d,e,!1)}else d!==a[s]&&(a[s]=d,u=!0)}}u&&x(e,"set","$attrs")}function Sn(e,t,n,r){const[o,a]=e.propsOptions;let s,l=!1;if(t)for(let c in t){if(Object(i["x"])(c))continue;const u=t[c];let d;o&&Object(i["j"])(o,d=Object(i["e"])(c))?a&&a.includes(d)?(s||(s={}))[d]=u:n[d]=u:at(e.emitsOptions,c)||u!==r[c]&&(r[c]=u,l=!0)}if(a){const t=xe(n),r=s||i["b"];for(let s=0;s<a.length;s++){const l=a[s];n[l]=Mn(o,t,l,r[l],e,!Object(i["j"])(r,l))}}return l}function Mn(e,t,n,r,o,a){const s=e[n];if(null!=s){const e=Object(i["j"])(s,"default");if(e&&void 0===r){const e=s.default;if(s.type!==Function&&Object(i["n"])(e)){const{propsDefaults:i}=o;n in i?r=i[n]:(Ri(o),r=i[n]=e.call(null,t),Ri(null))}else r=e}s[0]&&(a&&!e?r=!1:!s[1]||""!==r&&r!==Object(i["k"])(n)||(r=!0))}return r}function Cn(e,t,n=!1){const r=t.propsCache,o=r.get(e);if(o)return o;const a=e.props,s={},l=[];let c=!1;if(!Object(i["n"])(e)){const r=e=>{c=!0;const[n,r]=Cn(e,t,!0);Object(i["h"])(s,n),r&&l.push(...r)};!n&&t.mixins.length&&t.mixins.forEach(r),e.extends&&r(e.extends),e.mixins&&e.mixins.forEach(r)}if(!a&&!c)return r.set(e,i["a"]),i["a"];if(Object(i["m"])(a))for(let d=0;d<a.length;d++){0;const e=Object(i["e"])(a[d]);Ln(e)&&(s[e]=i["b"])}else if(a){0;for(const e in a){const t=Object(i["e"])(e);if(Ln(t)){const n=a[e],r=s[t]=Object(i["m"])(n)||Object(i["n"])(n)?{type:n}:n;if(r){const e=En(Boolean,r.type),n=En(String,r.type);r[0]=e>-1,r[1]=n<0||e<n,(e>-1||Object(i["j"])(r,"default"))&&l.push(t)}}}}const u=[s,l];return r.set(e,u),u}function Ln(e){return"$"!==e[0]}function On(e){const t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:""}function An(e,t){return On(e)===On(t)}function En(e,t){return Object(i["m"])(t)?t.findIndex(t=>An(t,e)):Object(i["n"])(t)&&An(t,e)?0:-1}const Tn=e=>"_"===e[0]||"$stable"===e,Nn=e=>Object(i["m"])(e)?e.map(Mi):[Mi(e)],Dn=(e,t,n)=>{const i=pt(e=>Nn(t(e)),n);return i._c=!1,i},Pn=(e,t,n)=>{const r=e._ctx;for(const o in e){if(Tn(o))continue;const n=e[o];if(Object(i["n"])(n))t[o]=Dn(o,n,r);else if(null!=n){0;const e=Nn(n);t[o]=()=>e}}},qn=(e,t)=>{const n=Nn(t);e.slots.default=()=>n},In=(e,t)=>{if(32&e.vnode.shapeFlag){const n=t._;n?(e.slots=xe(t),Object(i["g"])(t,"_",n)):Pn(t,e.slots={})}else e.slots={},t&&qn(e,t);Object(i["g"])(e.slots,yi,1)},jn=(e,t,n)=>{const{vnode:r,slots:o}=e;let a=!0,s=i["b"];if(32&r.shapeFlag){const e=t._;e?n&&1===e?a=!1:(Object(i["h"])(o,t),n||1!==e||delete o._):(a=!t.$stable,Pn(t,o)),s=t}else t&&(qn(e,t),s={default:1});if(a)for(const i in o)Tn(i)||i in s||delete o[i]};function zn(e,t){const n=st;if(null===n)return e;const r=n.proxy,o=e.dirs||(e.dirs=[]);for(let a=0;a<t.length;a++){let[e,n,s,l=i["b"]]=t[a];Object(i["n"])(e)&&(e={mounted:e,updated:e}),e.deep&&At(n),o.push({dir:e,instance:r,value:n,oldValue:void 0,arg:s,modifiers:l})}return e}function Rn(e,t,n,i){const r=e.dirs,o=t&&t.dirs;for(let a=0;a<r.length;a++){const s=r[a];o&&(s.oldValue=o[a].value);let l=s.dir[i];l&&(y(),Ee(l,n,8,[e.el,s,e,t]),b())}}function Fn(){return{app:null,config:{isNativeTag:i["c"],performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let $n=0;function Bn(e,t){return function(n,r=null){null==r||Object(i["t"])(r)||(r=null);const o=Fn(),a=new Set;let s=!1;const l=o.app={_uid:$n++,_component:n,_props:r,_container:null,_context:o,_instance:null,version:er,get config(){return o.config},set config(e){0},use(e,...t){return a.has(e)||(e&&Object(i["n"])(e.install)?(a.add(e),e.install(l,...t)):Object(i["n"])(e)&&(a.add(e),e(l,...t))),l},mixin(e){return o.mixins.includes(e)||o.mixins.push(e),l},component(e,t){return t?(o.components[e]=t,l):o.components[e]},directive(e,t){return t?(o.directives[e]=t,l):o.directives[e]},mount(i,a,c){if(!s){const u=_i(n,r);return u.appContext=o,a&&t?t(u,i):e(u,i,c),s=!0,l._container=i,i.__vue_app__=l,u.component.proxy}},unmount(){s&&(e(null,l._container),delete l._container.__vue_app__)},provide(e,t){return o.provides[e]=t,l}};return l}}function Kn(){}const Wn={scheduler:Ge,allowRecurse:!0};const Vn=xt,Un=(e,t,n,r,o=!1)=>{if(Object(i["m"])(e))return void e.forEach((e,a)=>Un(e,t&&(Object(i["m"])(t)?t[a]:t),n,r,o));if(Ft(r)&&!o)return;const a=4&r.shapeFlag?Gi(r.component)||r.component.proxy:r.el,s=o?null:a,{i:l,r:c}=e;const u=t&&t.r,d=l.refs===i["b"]?l.refs={}:l.refs,h=l.setupState;if(null!=u&&u!==c&&(Object(i["B"])(u)?(d[u]=null,Object(i["j"])(h,u)&&(h[u]=null)):we(u)&&(u.value=null)),Object(i["B"])(c)){const e=()=>{d[c]=s,Object(i["j"])(h,c)&&(h[c]=s)};s?(e.id=-1,Vn(e,n)):e()}else if(we(c)){const e=()=>{c.value=s};s?(e.id=-1,Vn(e,n)):e()}else Object(i["n"])(c)&&Ae(c,l,12,[s,d])};function Hn(e){return Gn(e)}function Gn(e,t){Kn();const{insert:n,remove:r,patchProp:o,forcePatchProp:a,createElement:s,createText:l,createComment:c,setText:h,setElementText:p,parentNode:f,nextSibling:m,setScopeId:g=i["d"],cloneNode:v,insertStaticContent:_}=e,x=(e,t,n,i=null,r=null,o=null,a=!1,s=null,l=!!t.dynamicChildren)=>{e&&!gi(e,t)&&(i=X(e),W(e,r,o,!0),e=null),-2===t.patchFlag&&(l=!1,t.dynamicChildren=null);const{type:c,ref:u,shapeFlag:d}=t;switch(c){case oi:k(e,t,n,i);break;case ai:w(e,t,n,i);break;case si:null==e&&S(t,n,i,a);break;case ri:P(e,t,n,i,r,o,a,s,l);break;default:1&d?L(e,t,n,i,r,o,a,s,l):6&d?q(e,t,n,i,r,o,a,s,l):(64&d||128&d)&&c.process(e,t,n,i,r,o,a,s,l,Y)}null!=u&&r&&Un(u,e&&e.ref,o,t||e,!t)},k=(e,t,i,r)=>{if(null==e)n(t.el=l(t.children),i,r);else{const n=t.el=e.el;t.children!==e.children&&h(n,t.children)}},w=(e,t,i,r)=>{null==e?n(t.el=c(t.children||""),i,r):t.el=e.el},S=(e,t,n,i)=>{[e.el,e.anchor]=_(e.children,t,n,i)},M=({el:e,anchor:t},i,r)=>{let o;while(e&&e!==t)o=m(e),n(e,i,r),e=o;n(t,i,r)},C=({el:e,anchor:t})=>{let n;while(e&&e!==t)n=m(e),r(e),e=n;r(t)},L=(e,t,n,i,r,o,a,s,l)=>{a=a||"svg"===t.type,null==e?O(t,n,i,r,o,a,s,l):T(e,t,r,o,a,s,l)},O=(e,t,r,a,l,c,u,d)=>{let h,f;const{type:m,props:g,shapeFlag:y,transition:b,patchFlag:_,dirs:x}=e;if(e.el&&void 0!==v&&-1===_)h=e.el=v(e.el);else{if(h=e.el=s(e.type,c,g&&g.is,g),8&y?p(h,e.children):16&y&&E(e.children,h,null,a,l,c&&"foreignObject"!==m,u,d),x&&Rn(e,null,a,"created"),g){for(const t in g)Object(i["x"])(t)||o(h,t,null,g[t],c,e.children,a,l,G);(f=g.onVnodeBeforeMount)&&Xn(f,a,e)}A(h,e,e.scopeId,u,a)}x&&Rn(e,null,a,"beforeMount");const k=(!l||l&&!l.pendingBranch)&&b&&!b.persisted;k&&b.beforeEnter(h),n(h,t,r),((f=g&&g.onVnodeMounted)||k||x)&&Vn(()=>{f&&Xn(f,a,e),k&&b.enter(h),x&&Rn(e,null,a,"mounted")},l)},A=(e,t,n,i,r)=>{if(n&&g(e,n),i)for(let o=0;o<i.length;o++)g(e,i[o]);if(r){let n=r.subTree;if(t===n){const t=r.vnode;A(e,t,t.scopeId,t.slotScopeIds,r.parent)}}},E=(e,t,n,i,r,o,a,s,l=0)=>{for(let c=l;c<e.length;c++){const l=e[c]=s?Ci(e[c]):Mi(e[c]);x(null,l,t,n,i,r,o,a,s)}},T=(e,t,n,r,s,l,c)=>{const u=t.el=e.el;let{patchFlag:d,dynamicChildren:h,dirs:f}=t;d|=16&e.patchFlag;const m=e.props||i["b"],g=t.props||i["b"];let y;if((y=g.onVnodeBeforeUpdate)&&Xn(y,n,t,e),f&&Rn(t,e,n,"beforeUpdate"),d>0){if(16&d)D(u,t,m,g,n,r,s);else if(2&d&&m.class!==g.class&&o(u,"class",null,g.class,s),4&d&&o(u,"style",m.style,g.style,s),8&d){const i=t.dynamicProps;for(let t=0;t<i.length;t++){const l=i[t],c=m[l],d=g[l];(d!==c||a&&a(u,l))&&o(u,l,c,d,s,e.children,n,r,G)}}1&d&&e.children!==t.children&&p(u,t.children)}else c||null!=h||D(u,t,m,g,n,r,s);const v=s&&"foreignObject"!==t.type;h?N(e.dynamicChildren,h,u,n,r,v,l):c||F(e,t,u,null,n,r,v,l,!1),((y=g.onVnodeUpdated)||f)&&Vn(()=>{y&&Xn(y,n,t,e),f&&Rn(t,e,n,"updated")},r)},N=(e,t,n,i,r,o,a)=>{for(let s=0;s<t.length;s++){const l=e[s],c=t[s],u=l.el&&(l.type===ri||!gi(l,c)||6&l.shapeFlag||64&l.shapeFlag)?f(l.el):n;x(l,c,u,null,i,r,o,a,!0)}},D=(e,t,n,r,s,l,c)=>{if(n!==r){for(const u in r){if(Object(i["x"])(u))continue;const d=r[u],h=n[u];(d!==h||a&&a(e,u))&&o(e,u,h,d,c,t.children,s,l,G)}if(n!==i["b"])for(const a in n)Object(i["x"])(a)||a in r||o(e,a,n[a],null,c,t.children,s,l,G)}},P=(e,t,i,r,o,a,s,c,u)=>{const d=t.el=e?e.el:l(""),h=t.anchor=e?e.anchor:l("");let{patchFlag:p,dynamicChildren:f,slotScopeIds:m}=t;f&&(u=!0),m&&(c=c?c.concat(m):m),null==e?(n(d,i,r),n(h,i,r),E(t.children,i,h,o,a,s,c,u)):p>0&&64&p&&f&&e.dynamicChildren?(N(e.dynamicChildren,f,i,o,a,s,c),(null!=t.key||o&&t===o.subTree)&&Zn(e,t,!0)):F(e,t,i,h,o,a,s,c,u)},q=(e,t,n,i,r,o,a,s,l)=>{t.slotScopeIds=s,null==e?512&t.shapeFlag?r.ctx.activate(t,n,i,a,l):I(t,n,i,r,o,a,l):j(e,t,l)},I=(e,t,n,i,r,o,a)=>{const s=e.component=Ii(e,i,r);if($t(e)&&(s.ctx.renderer=Y),Ki(s),s.asyncDep){if(r&&r.registerDep(s,z),!e.el){const e=s.subTree=_i(ai);w(null,e,t,n)}}else z(s,e,t,n,r,o,a)},j=(e,t,n)=>{const i=t.component=e.component;if(yt(e,t,n)){if(i.asyncDep&&!i.asyncResolved)return void R(i,t,n);i.next=t,Ze(i.update),i.update()}else t.component=e.component,t.el=e.el,i.vnode=t},z=(e,t,n,r,o,a,s)=>{e.update=u((function(){if(e.isMounted){let t,{next:n,bu:r,u:l,parent:c,vnode:u}=e,d=n;0,n?(n.el=u.el,R(e,n,s)):n=u,r&&Object(i["l"])(r),(t=n.props&&n.props.onVnodeBeforeUpdate)&&Xn(t,c,n,u);const h=ft(e);0;const p=e.subTree;e.subTree=h,x(p,h,f(p.el),X(p),e,o,a),n.el=h.el,null===d&&bt(e,h.el),l&&Vn(l,o),(t=n.props&&n.props.onVnodeUpdated)&&Vn(()=>Xn(t,c,n,u),o)}else{let s;const{el:l,props:c}=t,{bm:u,m:d,parent:h}=e;if(u&&Object(i["l"])(u),(s=c&&c.onVnodeBeforeMount)&&Xn(s,h,t),l&&J){const n=()=>{e.subTree=ft(e),J(l,e.subTree,e,o,null)};Ft(t)?t.type.__asyncLoader().then(()=>!e.isUnmounted&&n()):n()}else{0;const i=e.subTree=ft(e);0,x(null,i,n,r,e,o,a),t.el=i.el}if(d&&Vn(d,o),s=c&&c.onVnodeMounted){const e=t;Vn(()=>Xn(s,h,e),o)}256&t.shapeFlag&&e.a&&Vn(e.a,o),e.isMounted=!0,t=n=r=null}}),Wn)},R=(e,t,n)=>{t.component=e;const i=e.vnode.props;e.vnode=t,e.next=null,wn(e,t.props,i,n),jn(e,t.children,n),y(),et(void 0,e.update),b()},F=(e,t,n,i,r,o,a,s,l=!1)=>{const c=e&&e.children,u=e?e.shapeFlag:0,d=t.children,{patchFlag:h,shapeFlag:f}=t;if(h>0){if(128&h)return void B(c,d,n,i,r,o,a,s,l);if(256&h)return void $(c,d,n,i,r,o,a,s,l)}8&f?(16&u&&G(c,r,o),d!==c&&p(n,d)):16&u?16&f?B(c,d,n,i,r,o,a,s,l):G(c,r,o,!0):(8&u&&p(n,""),16&f&&E(d,n,i,r,o,a,s,l))},$=(e,t,n,r,o,a,s,l,c)=>{e=e||i["a"],t=t||i["a"];const u=e.length,d=t.length,h=Math.min(u,d);let p;for(p=0;p<h;p++){const i=t[p]=c?Ci(t[p]):Mi(t[p]);x(e[p],i,n,null,o,a,s,l,c)}u>d?G(e,o,a,!0,!1,h):E(t,n,r,o,a,s,l,c,h)},B=(e,t,n,r,o,a,s,l,c)=>{let u=0;const d=t.length;let h=e.length-1,p=d-1;while(u<=h&&u<=p){const i=e[u],r=t[u]=c?Ci(t[u]):Mi(t[u]);if(!gi(i,r))break;x(i,r,n,null,o,a,s,l,c),u++}while(u<=h&&u<=p){const i=e[h],r=t[p]=c?Ci(t[p]):Mi(t[p]);if(!gi(i,r))break;x(i,r,n,null,o,a,s,l,c),h--,p--}if(u>h){if(u<=p){const e=p+1,i=e<d?t[e].el:r;while(u<=p)x(null,t[u]=c?Ci(t[u]):Mi(t[u]),n,i,o,a,s,l,c),u++}}else if(u>p)while(u<=h)W(e[u],o,a,!0),u++;else{const f=u,m=u,g=new Map;for(u=m;u<=p;u++){const e=t[u]=c?Ci(t[u]):Mi(t[u]);null!=e.key&&g.set(e.key,u)}let y,v=0;const b=p-m+1;let _=!1,k=0;const w=new Array(b);for(u=0;u<b;u++)w[u]=0;for(u=f;u<=h;u++){const i=e[u];if(v>=b){W(i,o,a,!0);continue}let r;if(null!=i.key)r=g.get(i.key);else for(y=m;y<=p;y++)if(0===w[y-m]&&gi(i,t[y])){r=y;break}void 0===r?W(i,o,a,!0):(w[r-m]=u+1,r>=k?k=r:_=!0,x(i,t[r],n,null,o,a,s,l,c),v++)}const S=_?Yn(w):i["a"];for(y=S.length-1,u=b-1;u>=0;u--){const e=m+u,i=t[e],h=e+1<d?t[e+1].el:r;0===w[u]?x(null,i,n,h,o,a,s,l,c):_&&(y<0||u!==S[y]?K(i,n,h,2):y--)}}},K=(e,t,i,r,o=null)=>{const{el:a,type:s,transition:l,children:c,shapeFlag:u}=e;if(6&u)return void K(e.component.subTree,t,i,r);if(128&u)return void e.suspense.move(t,i,r);if(64&u)return void s.move(e,t,i,Y);if(s===ri){n(a,t,i);for(let e=0;e<c.length;e++)K(c[e],t,i,r);return void n(e.anchor,t,i)}if(s===si)return void M(e,t,i);const d=2!==r&&1&u&&l;if(d)if(0===r)l.beforeEnter(a),n(a,t,i),Vn(()=>l.enter(a),o);else{const{leave:e,delayLeave:r,afterLeave:o}=l,s=()=>n(a,t,i),c=()=>{e(a,()=>{s(),o&&o()})};r?r(a,s,c):c()}else n(a,t,i)},W=(e,t,n,i=!1,r=!1)=>{const{type:o,props:a,ref:s,children:l,dynamicChildren:c,shapeFlag:u,patchFlag:d,dirs:h}=e;if(null!=s&&Un(s,null,n,e,!0),256&u)return void t.ctx.deactivate(e);const p=1&u&&h;let f;if((f=a&&a.onVnodeBeforeUnmount)&&Xn(f,t,e),6&u)H(e.component,n,i);else{if(128&u)return void e.suspense.unmount(n,i);p&&Rn(e,null,t,"beforeUnmount"),64&u?e.type.remove(e,t,n,r,Y,i):c&&(o!==ri||d>0&&64&d)?G(c,t,n,!1,!0):(o===ri&&(128&d||256&d)||!r&&16&u)&&G(l,t,n),i&&V(e)}((f=a&&a.onVnodeUnmounted)||p)&&Vn(()=>{f&&Xn(f,t,e),p&&Rn(e,null,t,"unmounted")},n)},V=e=>{const{type:t,el:n,anchor:i,transition:o}=e;if(t===ri)return void U(n,i);if(t===si)return void C(e);const a=()=>{r(n),o&&!o.persisted&&o.afterLeave&&o.afterLeave()};if(1&e.shapeFlag&&o&&!o.persisted){const{leave:t,delayLeave:i}=o,r=()=>t(n,a);i?i(e.el,a,r):r()}else a()},U=(e,t)=>{let n;while(e!==t)n=m(e),r(e),e=n;r(t)},H=(e,t,n)=>{const{bum:r,effects:o,update:a,subTree:s,um:l}=e;if(r&&Object(i["l"])(r),o)for(let i=0;i<o.length;i++)d(o[i]);a&&(d(a),W(s,e,t,n)),l&&Vn(l,t),Vn(()=>{e.isUnmounted=!0},t),t&&t.pendingBranch&&!t.isUnmounted&&e.asyncDep&&!e.asyncResolved&&e.suspenseId===t.pendingId&&(t.deps--,0===t.deps&&t.resolve())},G=(e,t,n,i=!1,r=!1,o=0)=>{for(let a=o;a<e.length;a++)W(e[a],t,n,i,r)},X=e=>6&e.shapeFlag?X(e.component.subTree):128&e.shapeFlag?e.suspense.next():m(e.anchor||e.el),Z=(e,t,n)=>{null==e?t._vnode&&W(t._vnode,null,null,!0):x(t._vnode||null,e,t,null,null,null,n),tt(),t._vnode=e},Y={p:x,um:W,m:K,r:V,mt:I,mc:E,pc:F,pbc:N,n:X,o:e};let Q,J;return t&&([Q,J]=t(Y)),{render:Z,hydrate:Q,createApp:Bn(Z,Q)}}function Xn(e,t,n,i=null){Ee(e,t,7,[n,i])}function Zn(e,t,n=!1){const r=e.children,o=t.children;if(Object(i["m"])(r)&&Object(i["m"])(o))for(let i=0;i<r.length;i++){const e=r[i];let t=o[i];1&t.shapeFlag&&!t.dynamicChildren&&((t.patchFlag<=0||32===t.patchFlag)&&(t=o[i]=Ci(o[i]),t.el=e.el),n||Zn(e,t))}}function Yn(e){const t=e.slice(),n=[0];let i,r,o,a,s;const l=e.length;for(i=0;i<l;i++){const l=e[i];if(0!==l){if(r=n[n.length-1],e[r]<l){t[i]=r,n.push(i);continue}o=0,a=n.length-1;while(o<a)s=(o+a)/2|0,e[n[s]]<l?o=s+1:a=s;l<e[n[o]]&&(o>0&&(t[i]=n[o-1]),n[o]=i)}}o=n.length,a=n[o-1];while(o-- >0)n[o]=a,a=t[a];return n}const Qn=e=>e.__isTeleport;const Jn="components";function ei(e,t){return ni(Jn,e,!0,t)||e}const ti=Symbol();function ni(e,t,n=!0,r=!1){const o=st||ji;if(o){const n=o.type;if(e===Jn){const e=Zi(n);if(e&&(e===t||e===Object(i["e"])(t)||e===Object(i["f"])(Object(i["e"])(t))))return n}const a=ii(o[e]||n[e],t)||ii(o.appContext[e],t);return!a&&r?n:a}}function ii(e,t){return e&&(e[t]||e[Object(i["e"])(t)]||e[Object(i["f"])(Object(i["e"])(t))])}const ri=Symbol(void 0),oi=Symbol(void 0),ai=Symbol(void 0),si=Symbol(void 0),li=[];let ci=null;function ui(e=!1){li.push(ci=e?null:[])}function di(){li.pop(),ci=li[li.length-1]||null}let hi=1;function pi(e){hi+=e}function fi(e,t,n,r,o){const a=_i(e,t,n,r,o,!0);return a.dynamicChildren=hi>0?ci||i["a"]:null,di(),hi>0&&ci&&ci.push(a),a}function mi(e){return!!e&&!0===e.__v_isVNode}function gi(e,t){return e.type===t.type&&e.key===t.key}const yi="__vInternal",vi=({key:e})=>null!=e?e:null,bi=({ref:e})=>null!=e?Object(i["B"])(e)||we(e)||Object(i["n"])(e)?{i:st,r:e}:e:null,_i=xi;function xi(e,t=null,n=null,r=0,o=null,a=!1){if(e&&e!==ti||(e=ai),mi(e)){const i=ki(e,t,!0);return n&&Li(i,n),i}if(Yi(e)&&(e=e.__vccOpts),t){(_e(t)||yi in t)&&(t=Object(i["h"])({},t));let{class:e,style:n}=t;e&&!Object(i["B"])(e)&&(t.class=Object(i["G"])(e)),Object(i["t"])(n)&&(_e(n)&&!Object(i["m"])(n)&&(n=Object(i["h"])({},n)),t.style=Object(i["H"])(n))}const s=Object(i["B"])(e)?1:_t(e)?128:Qn(e)?64:Object(i["t"])(e)?4:Object(i["n"])(e)?2:0;const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&vi(t),ref:t&&bi(t),scopeId:lt,slotScopeIds:null,children:null,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,shapeFlag:s,patchFlag:r,dynamicProps:o,dynamicChildren:null,appContext:null};return Li(l,n),128&s&&e.normalize(l),hi>0&&!a&&ci&&(r>0||6&s)&&32!==r&&ci.push(l),l}function ki(e,t,n=!1){const{props:r,ref:o,patchFlag:a,children:s}=e,l=t?Oi(r||{},t):r,c={__v_isVNode:!0,__v_skip:!0,type:e.type,props:l,key:l&&vi(l),ref:t&&t.ref?n&&o?Object(i["m"])(o)?o.concat(bi(t)):[o,bi(t)]:bi(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:s,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==ri?-1===a?16:16|a:a,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&ki(e.ssContent),ssFallback:e.ssFallback&&ki(e.ssFallback),el:e.el,anchor:e.anchor};return c}function wi(e=" ",t=0){return _i(oi,null,e,t)}function Si(e="",t=!1){return t?(ui(),fi(ai,null,e)):_i(ai,null,e)}function Mi(e){return null==e||"boolean"===typeof e?_i(ai):Object(i["m"])(e)?_i(ri,null,e.slice()):"object"===typeof e?Ci(e):_i(oi,null,String(e))}function Ci(e){return null===e.el?e:ki(e)}function Li(e,t){let n=0;const{shapeFlag:r}=e;if(null==t)t=null;else if(Object(i["m"])(t))n=16;else if("object"===typeof t){if(1&r||64&r){const n=t.default;return void(n&&(n._c&&(n._d=!1),Li(e,n()),n._c&&(n._d=!0)))}{n=32;const i=t._;i||yi in t?3===i&&st&&(1===st.slots._?t._=1:(t._=2,e.patchFlag|=1024)):t._ctx=st}}else Object(i["n"])(t)?(t={default:t,_ctx:st},n=32):(t=String(t),64&r?(n=16,t=[wi(t)]):n=8);e.children=t,e.shapeFlag|=n}function Oi(...e){const t=Object(i["h"])({},e[0]);for(let n=1;n<e.length;n++){const r=e[n];for(const e in r)if("class"===e)t.class!==r.class&&(t.class=Object(i["G"])([t.class,r.class]));else if("style"===e)t.style=Object(i["H"])([t.style,r.style]);else if(Object(i["u"])(e)){const n=t[e],i=r[e];n!==i&&(t[e]=n?[].concat(n,i):i)}else""!==e&&(t[e]=r[e])}return t}function Ai(e,t){let n;if(Object(i["m"])(e)||Object(i["B"])(e)){n=new Array(e.length);for(let i=0,r=e.length;i<r;i++)n[i]=t(e[i],i)}else if("number"===typeof e){0,n=new Array(e);for(let i=0;i<e;i++)n[i]=t(i+1,i)}else if(Object(i["t"])(e))if(e[Symbol.iterator])n=Array.from(e,t);else{const i=Object.keys(e);n=new Array(i.length);for(let r=0,o=i.length;r<o;r++){const o=i[r];n[r]=t(e[o],o,r)}}else n=[];return n}const Ei=e=>e?Fi(e)?Gi(e)||e.proxy:Ei(e.parent):null,Ti=Object(i["h"])(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Ei(e.parent),$root:e=>Ei(e.root),$emit:e=>e.emit,$options:e=>pn(e),$forceUpdate:e=>()=>Ge(e.update),$nextTick:e=>Ue.bind(e.proxy),$watch:e=>Lt.bind(e)}),Ni={get({_:e},t){const{ctx:n,setupState:r,data:o,props:a,accessCache:s,type:l,appContext:c}=e;let u;if("$"!==t[0]){const l=s[t];if(void 0!==l)switch(l){case 0:return r[t];case 1:return o[t];case 3:return n[t];case 2:return a[t]}else{if(r!==i["b"]&&Object(i["j"])(r,t))return s[t]=0,r[t];if(o!==i["b"]&&Object(i["j"])(o,t))return s[t]=1,o[t];if((u=e.propsOptions[0])&&Object(i["j"])(u,t))return s[t]=2,a[t];if(n!==i["b"]&&Object(i["j"])(n,t))return s[t]=3,n[t];ln&&(s[t]=4)}}const d=Ti[t];let h,p;return d?("$attrs"===t&&_(e,"get",t),d(e)):(h=l.__cssModules)&&(h=h[t])?h:n!==i["b"]&&Object(i["j"])(n,t)?(s[t]=3,n[t]):(p=c.config.globalProperties,Object(i["j"])(p,t)?p[t]:void 0)},set({_:e},t,n){const{data:r,setupState:o,ctx:a}=e;if(o!==i["b"]&&Object(i["j"])(o,t))o[t]=n;else if(r!==i["b"]&&Object(i["j"])(r,t))r[t]=n;else if(Object(i["j"])(e.props,t))return!1;return("$"!==t[0]||!(t.slice(1)in e))&&(a[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:o,propsOptions:a}},s){let l;return void 0!==n[s]||e!==i["b"]&&Object(i["j"])(e,s)||t!==i["b"]&&Object(i["j"])(t,s)||(l=a[0])&&Object(i["j"])(l,s)||Object(i["j"])(r,s)||Object(i["j"])(Ti,s)||Object(i["j"])(o.config.globalProperties,s)}};const Di=Object(i["h"])({},Ni,{get(e,t){if(t!==Symbol.unscopables)return Ni.get(e,t,e)},has(e,t){const n="_"!==t[0]&&!Object(i["o"])(t);return n}});const Pi=Fn();let qi=0;function Ii(e,t,n){const r=e.type,o=(t?t.appContext:e.appContext)||Pi,a={uid:qi++,vnode:e,type:r,parent:t,appContext:o,root:null,next:null,subTree:null,update:null,render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,effects:null,provides:t?t.provides:Object.create(o.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Cn(r,o),emitsOptions:ot(r,o),emit:null,emitted:null,propsDefaults:i["b"],inheritAttrs:r.inheritAttrs,ctx:i["b"],data:i["b"],props:i["b"],attrs:i["b"],slots:i["b"],refs:i["b"],setupState:i["b"],setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return a.ctx={_:a},a.root=t?t.root:a,a.emit=rt.bind(null,a),a}let ji=null;const zi=()=>ji||st,Ri=e=>{ji=e};function Fi(e){return 4&e.vnode.shapeFlag}let $i,Bi=!1;function Ki(e,t=!1){Bi=t;const{props:n,children:i}=e.vnode,r=Fi(e);kn(e,n,r,t),In(e,i);const o=r?Wi(e,t):void 0;return Bi=!1,o}function Wi(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=ke(new Proxy(e.ctx,Ni));const{setup:r}=n;if(r){const n=e.setupContext=r.length>1?Hi(e):null;ji=e,y();const o=Ae(r,e,0,[e.props,n]);if(b(),ji=null,Object(i["w"])(o)){const n=()=>{ji=null};if(o.then(n,n),t)return o.then(n=>{Vi(e,n,t)}).catch(t=>{Te(t,e,0)});e.asyncDep=o}else Vi(e,o,t)}else Ui(e,t)}function Vi(e,t,n){Object(i["n"])(t)?e.render=t:Object(i["t"])(t)&&(e.setupState=Ce(t)),Ui(e,n)}function Ui(e,t,n){const r=e.type;if(!e.render){if($i&&!r.render){const t=r.template;if(t){0;const{isCustomElement:n,compilerOptions:o}=e.appContext.config,{delimiters:a,compilerOptions:s}=r,l=Object(i["h"])(Object(i["h"])({isCustomElement:n,delimiters:a},o),s);r.render=$i(t,l)}}e.render=r.render||i["d"],e.render._rc&&(e.withProxy=new Proxy(e.ctx,Di))}ji=e,y(),cn(e),b(),ji=null}function Hi(e){const t=t=>{e.exposed=t||{}};return{attrs:e.attrs,slots:e.slots,emit:e.emit,expose:t}}function Gi(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(Ce(ke(e.exposed)),{get(t,n){return n in t?t[n]:n in Ti?Ti[n](e):void 0}}))}function Xi(e,t=ji){t&&(t.effects||(t.effects=[])).push(e)}function Zi(e){return Object(i["n"])(e)&&e.displayName||e.name}function Yi(e){return Object(i["n"])(e)&&"__vccOpts"in e}function Qi(e){const t=Oe(e);return Xi(t.effect),t}function Ji(e,t,n){const r=arguments.length;return 2===r?Object(i["t"])(t)&&!Object(i["m"])(t)?mi(t)?_i(e,null,[t]):_i(e,t):_i(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):3===r&&mi(n)&&(n=[n]),_i(e,t,n))}Symbol("");const er="3.1.5",tr="http://www.w3.org/2000/svg",nr="undefined"!==typeof document?document:null,ir=new Map,rr={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,i)=>{const r=t?nr.createElementNS(tr,e):nr.createElement(e,n?{is:n}:void 0);return"select"===e&&i&&null!=i.multiple&&r.setAttribute("multiple",i.multiple),r},createText:e=>nr.createTextNode(e),createComment:e=>nr.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>nr.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},cloneNode(e){const t=e.cloneNode(!0);return"_value"in e&&(t._value=e._value),t},insertStaticContent(e,t,n,i){const r=n?n.previousSibling:t.lastChild;let o=ir.get(e);if(!o){const t=nr.createElement("template");if(t.innerHTML=i?`<svg>${e}</svg>`:e,o=t.content,i){const e=o.firstChild;while(e.firstChild)o.appendChild(e.firstChild);o.removeChild(e)}ir.set(e,o)}return t.insertBefore(o.cloneNode(!0),n),[r?r.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};function or(e,t,n){const i=e._vtc;i&&(t=(t?[t,...i]:[...i]).join(" ")),null==t?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}function ar(e,t,n){const r=e.style;if(n)if(Object(i["B"])(n)){if(t!==n){const t=r.display;r.cssText=n,"_vod"in e&&(r.display=t)}}else{for(const e in n)lr(r,e,n[e]);if(t&&!Object(i["B"])(t))for(const e in t)null==n[e]&&lr(r,e,"")}else e.removeAttribute("style")}const sr=/\s*!important$/;function lr(e,t,n){if(Object(i["m"])(n))n.forEach(n=>lr(e,t,n));else if(t.startsWith("--"))e.setProperty(t,n);else{const r=dr(e,t);sr.test(n)?e.setProperty(Object(i["k"])(r),n.replace(sr,""),"important"):e[r]=n}}const cr=["Webkit","Moz","ms"],ur={};function dr(e,t){const n=ur[t];if(n)return n;let r=Object(i["e"])(t);if("filter"!==r&&r in e)return ur[t]=r;r=Object(i["f"])(r);for(let i=0;i<cr.length;i++){const n=cr[i]+r;if(n in e)return ur[t]=n}return t}const hr="http://www.w3.org/1999/xlink";function pr(e,t,n,r,o){if(r&&t.startsWith("xlink:"))null==n?e.removeAttributeNS(hr,t.slice(6,t.length)):e.setAttributeNS(hr,t,n);else{const r=Object(i["A"])(t);null==n||r&&!1===n?e.removeAttribute(t):e.setAttribute(t,r?"":n)}}function fr(e,t,n,i,r,o,a){if("innerHTML"===t||"textContent"===t)return i&&a(i,r,o),void(e[t]=null==n?"":n);if("value"===t&&"PROGRESS"!==e.tagName){e._value=n;const i=null==n?"":n;return e.value!==i&&(e.value=i),void(null==n&&e.removeAttribute(t))}if(""===n||null==n){const i=typeof e[t];if(""===n&&"boolean"===i)return void(e[t]=!0);if(null==n&&"string"===i)return e[t]="",void e.removeAttribute(t);if("number"===i){try{e[t]=0}catch(s){}return void e.removeAttribute(t)}}try{e[t]=n}catch(l){0}}let mr=Date.now,gr=!1;if("undefined"!==typeof window){mr()>document.createEvent("Event").timeStamp&&(mr=()=>performance.now());const e=navigator.userAgent.match(/firefox\/(\d+)/i);gr=!!(e&&Number(e[1])<=53)}let yr=0;const vr=Promise.resolve(),br=()=>{yr=0},_r=()=>yr||(vr.then(br),yr=mr());function xr(e,t,n,i){e.addEventListener(t,n,i)}function kr(e,t,n,i){e.removeEventListener(t,n,i)}function wr(e,t,n,i,r=null){const o=e._vei||(e._vei={}),a=o[t];if(i&&a)a.value=i;else{const[n,s]=Mr(t);if(i){const a=o[t]=Cr(i,r);xr(e,n,a,s)}else a&&(kr(e,n,a,s),o[t]=void 0)}}const Sr=/(?:Once|Passive|Capture)$/;function Mr(e){let t;if(Sr.test(e)){let n;t={};while(n=e.match(Sr))e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[Object(i["k"])(e.slice(2)),t]}function Cr(e,t){const n=e=>{const i=e.timeStamp||mr();(gr||i>=n.attached-1)&&Ee(Lr(e,n.value),t,5,[e])};return n.value=e,n.attached=_r(),n}function Lr(e,t){if(Object(i["m"])(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(e=>t=>!t._stopped&&e(t))}return t}const Or=/^on[a-z]/,Ar=(e,t)=>"value"===t,Er=(e,t,n,r,o=!1,a,s,l,c)=>{switch(t){case"class":or(e,r,o);break;case"style":ar(e,n,r);break;default:Object(i["u"])(t)?Object(i["s"])(t)||wr(e,t,n,r,s):Tr(e,t,r,o)?fr(e,t,r,a,s,l,c):("true-value"===t?e._trueValue=r:"false-value"===t&&(e._falseValue=r),pr(e,t,r,o));break}};function Tr(e,t,n,r){return r?"innerHTML"===t||!!(t in e&&Or.test(t)&&Object(i["n"])(n)):"spellcheck"!==t&&"draggable"!==t&&("form"!==t&&(("list"!==t||"INPUT"!==e.tagName)&&(("type"!==t||"TEXTAREA"!==e.tagName)&&((!Or.test(t)||!Object(i["B"])(n))&&t in e))))}const Nr="transition",Dr="animation",Pr=(e,{slots:t})=>Ji(Dt,zr(e),t);Pr.displayName="Transition";const qr={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},Ir=(Pr.props=Object(i["h"])({},Dt.props,qr),(e,t=[])=>{Object(i["m"])(e)?e.forEach(e=>e(...t)):e&&e(...t)}),jr=e=>!!e&&(Object(i["m"])(e)?e.some(e=>e.length>1):e.length>1);function zr(e){const t={};for(const i in e)i in qr||(t[i]=e[i]);if(!1===e.css)return t;const{name:n="v",type:r,duration:o,enterFromClass:a=n+"-enter-from",enterActiveClass:s=n+"-enter-active",enterToClass:l=n+"-enter-to",appearFromClass:c=a,appearActiveClass:u=s,appearToClass:d=l,leaveFromClass:h=n+"-leave-from",leaveActiveClass:p=n+"-leave-active",leaveToClass:f=n+"-leave-to"}=e,m=Rr(o),g=m&&m[0],y=m&&m[1],{onBeforeEnter:v,onEnter:b,onEnterCancelled:_,onLeave:x,onLeaveCancelled:k,onBeforeAppear:w=v,onAppear:S=b,onAppearCancelled:M=_}=t,C=(e,t,n)=>{Br(e,t?d:l),Br(e,t?u:s),n&&n()},L=(e,t)=>{Br(e,f),Br(e,p),t&&t()},O=e=>(t,n)=>{const i=e?S:b,o=()=>C(t,e,n);Ir(i,[t,o]),Kr(()=>{Br(t,e?c:a),$r(t,e?d:l),jr(i)||Vr(t,r,g,o)})};return Object(i["h"])(t,{onBeforeEnter(e){Ir(v,[e]),$r(e,a),$r(e,s)},onBeforeAppear(e){Ir(w,[e]),$r(e,c),$r(e,u)},onEnter:O(!1),onAppear:O(!0),onLeave(e,t){const n=()=>L(e,t);$r(e,h),Xr(),$r(e,p),Kr(()=>{Br(e,h),$r(e,f),jr(x)||Vr(e,r,y,n)}),Ir(x,[e,n])},onEnterCancelled(e){C(e,!1),Ir(_,[e])},onAppearCancelled(e){C(e,!0),Ir(M,[e])},onLeaveCancelled(e){L(e),Ir(k,[e])}})}function Rr(e){if(null==e)return null;if(Object(i["t"])(e))return[Fr(e.enter),Fr(e.leave)];{const t=Fr(e);return[t,t]}}function Fr(e){const t=Object(i["L"])(e);return t}function $r(e,t){t.split(/\s+/).forEach(t=>t&&e.classList.add(t)),(e._vtc||(e._vtc=new Set)).add(t)}function Br(e,t){t.split(/\s+/).forEach(t=>t&&e.classList.remove(t));const{_vtc:n}=e;n&&(n.delete(t),n.size||(e._vtc=void 0))}function Kr(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let Wr=0;function Vr(e,t,n,i){const r=e._endId=++Wr,o=()=>{r===e._endId&&i()};if(n)return setTimeout(o,n);const{type:a,timeout:s,propCount:l}=Ur(e,t);if(!a)return i();const c=a+"end";let u=0;const d=()=>{e.removeEventListener(c,h),o()},h=t=>{t.target===e&&++u>=l&&d()};setTimeout(()=>{u<l&&d()},s+1),e.addEventListener(c,h)}function Ur(e,t){const n=window.getComputedStyle(e),i=e=>(n[e]||"").split(", "),r=i(Nr+"Delay"),o=i(Nr+"Duration"),a=Hr(r,o),s=i(Dr+"Delay"),l=i(Dr+"Duration"),c=Hr(s,l);let u=null,d=0,h=0;t===Nr?a>0&&(u=Nr,d=a,h=o.length):t===Dr?c>0&&(u=Dr,d=c,h=l.length):(d=Math.max(a,c),u=d>0?a>c?Nr:Dr:null,h=u?u===Nr?o.length:l.length:0);const p=u===Nr&&/\b(transform|all)(,|$)/.test(n[Nr+"Property"]);return{type:u,timeout:d,propCount:h,hasTransform:p}}function Hr(e,t){while(e.length<t.length)e=e.concat(e);return Math.max(...t.map((t,n)=>Gr(t)+Gr(e[n])))}function Gr(e){return 1e3*Number(e.slice(0,-1).replace(",","."))}function Xr(){return document.body.offsetHeight}new WeakMap,new WeakMap;const Zr={beforeMount(e,{value:t},{transition:n}){e._vod="none"===e.style.display?"":e.style.display,n&&t?n.beforeEnter(e):Yr(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:i}){!t!==!n&&(i?t?(i.beforeEnter(e),Yr(e,!0),i.enter(e)):i.leave(e,()=>{Yr(e,!1)}):Yr(e,t))},beforeUnmount(e,{value:t}){Yr(e,t)}};function Yr(e,t){e.style.display=t?e._vod:"none"}const Qr=Object(i["h"])({patchProp:Er,forcePatchProp:Ar},rr);let Jr;function eo(){return Jr||(Jr=Hn(Qr))}const to=(...e)=>{const t=eo().createApp(...e);const{mount:n}=t;return t.mount=e=>{const r=no(e);if(!r)return;const o=t._component;Object(i["n"])(o)||o.render||o.template||(o.template=r.innerHTML),r.innerHTML="";const a=n(r,!1,r instanceof SVGElement);return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),a},t};function no(e){if(Object(i["B"])(e)){const t=document.querySelector(e);return t}return e}},"7b0b":function(e,t,n){var i=n("1d80");e.exports=function(e){return Object(i(e))}},"7c73":function(e,t,n){var i,r=n("825a"),o=n("37e8"),a=n("7839"),s=n("d012"),l=n("1be4"),c=n("cc12"),u=n("f772"),d=">",h="<",p="prototype",f="script",m=u("IE_PROTO"),g=function(){},y=function(e){return h+f+d+e+h+"/"+f+d},v=function(e){e.write(y("")),e.close();var t=e.parentWindow.Object;return e=null,t},b=function(){var e,t=c("iframe"),n="java"+f+":";return t.style.display="none",l.appendChild(t),t.src=String(n),e=t.contentWindow.document,e.open(),e.write(y("document.F=Object")),e.close(),e.F},_=function(){try{i=document.domain&&new ActiveXObject("htmlfile")}catch(t){}_=i?v(i):b();var e=a.length;while(e--)delete _[p][a[e]];return _()};s[m]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(g[p]=r(e),n=new g,g[p]=null,n[m]=e):n=_(),void 0===t?n:o(n,t)}},"7dd0":function(e,t,n){"use strict";var i=n("23e7"),r=n("9ed3"),o=n("e163"),a=n("d2bb"),s=n("d44e"),l=n("9112"),c=n("6eeb"),u=n("b622"),d=n("c430"),h=n("3f8c"),p=n("ae93"),f=p.IteratorPrototype,m=p.BUGGY_SAFARI_ITERATORS,g=u("iterator"),y="keys",v="values",b="entries",_=function(){return this};e.exports=function(e,t,n,u,p,x,k){r(n,t,u);var w,S,M,C=function(e){if(e===p&&T)return T;if(!m&&e in A)return A[e];switch(e){case y:return function(){return new n(this,e)};case v:return function(){return new n(this,e)};case b:return function(){return new n(this,e)}}return function(){return new n(this)}},L=t+" Iterator",O=!1,A=e.prototype,E=A[g]||A["@@iterator"]||p&&A[p],T=!m&&E||C(p),N="Array"==t&&A.entries||E;if(N&&(w=o(N.call(new e)),f!==Object.prototype&&w.next&&(d||o(w)===f||(a?a(w,f):"function"!=typeof w[g]&&l(w,g,_)),s(w,L,!0,!0),d&&(h[L]=_))),p==v&&E&&E.name!==v&&(O=!0,T=function(){return E.call(this)}),d&&!k||A[g]===T||l(A,g,T),h[t]=T,p)if(S={values:C(v),keys:x?T:C(y),entries:C(b)},k)for(M in S)(m||O||!(M in A))&&c(A,M,S[M]);else i({target:t,proto:!0,forced:m||O},S);return S}},"7f9a":function(e,t,n){var i=n("da84"),r=n("8925"),o=i.WeakMap;e.exports="function"===typeof o&&/native code/.test(r(o))},"825a":function(e,t,n){var i=n("861d");e.exports=function(e){if(!i(e))throw TypeError(String(e)+" is not an object");return e}},"83ab":function(e,t,n){var i=n("d039");e.exports=!i((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},8418:function(e,t,n){"use strict";var i=n("c04e"),r=n("9bf2"),o=n("5c6c");e.exports=function(e,t,n){var a=i(t);a in e?r.f(e,a,o(0,n)):e[a]=n}},"861d":function(e,t){e.exports=function(e){return"object"===typeof e?null!==e:"function"===typeof e}},8925:function(e,t,n){var i=n("c6cd"),r=Function.toString;"function"!=typeof i.inspectSource&&(i.inspectSource=function(e){return r.call(e)}),e.exports=i.inspectSource},"90e3":function(e,t){var n=0,i=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++n+i).toString(36)}},9112:function(e,t,n){var i=n("83ab"),r=n("9bf2"),o=n("5c6c");e.exports=i?function(e,t,n){return r.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},"94ca":function(e,t,n){var i=n("d039"),r=/#|\.prototype\./,o=function(e,t){var n=s[a(e)];return n==c||n!=l&&("function"==typeof t?i(t):!!t)},a=o.normalize=function(e){return String(e).replace(r,".").toLowerCase()},s=o.data={},l=o.NATIVE="N",c=o.POLYFILL="P";e.exports=o},9802:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return a})),n.d(t,"d",(function(){return s})),n.d(t,"g",(function(){return l})),n.d(t,"e",(function(){return c})),n.d(t,"f",(function(){return u}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},i(e,t)};function r(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return o=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},o.apply(this,arguments)};function a(e,t,n,i){function r(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function a(e){try{l(i.next(e))}catch(t){o(t)}}function s(e){try{l(i["throw"](e))}catch(t){o(t)}}function l(e){e.done?n(e.value):r(e.value).then(a,s)}l((i=i.apply(e,t||[])).next())}))}function s(e,t){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(e){return function(t){return l([e,t])}}function l(o){if(n)throw new TypeError("Generator is already executing.");while(a)try{if(n=1,i&&(r=2&o[0]?i["return"]:o[0]?i["throw"]||((r=i["return"])&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(r=a.trys,!(r=r.length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}}Object.create;function l(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,r,o=n.call(e),a=[];try{while((void 0===t||t-- >0)&&!(i=o.next()).done)a.push(i.value)}catch(s){r={error:s}}finally{try{i&&!i.done&&(n=o["return"])&&n.call(o)}finally{if(r)throw r.error}}return a}function u(e,t,n){if(n||2===arguments.length)for(var i,r=0,o=t.length;r<o;r++)!i&&r in t||(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||t)}Object.create},"9bf2":function(e,t,n){var i=n("83ab"),r=n("0cfb"),o=n("825a"),a=n("c04e"),s=Object.defineProperty;t.f=i?s:function(e,t,n){if(o(e),t=a(t,!0),o(n),r)try{return s(e,t,n)}catch(i){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},"9ed3":function(e,t,n){"use strict";var i=n("ae93").IteratorPrototype,r=n("7c73"),o=n("5c6c"),a=n("d44e"),s=n("3f8c"),l=function(){return this};e.exports=function(e,t,n){var c=t+" Iterator";return e.prototype=r(i,{next:o(1,n)}),a(e,c,!1,!0),s[c]=l,e}},"9ff4":function(e,t,n){"use strict";(function(e){function i(e,t){const n=Object.create(null),i=e.split(",");for(let r=0;r<i.length;r++)n[i[r]]=!0;return t?e=>!!n[e.toLowerCase()]:e=>!!n[e]}n.d(t,"a",(function(){return w})),n.d(t,"b",(function(){return k})),n.d(t,"c",(function(){return M})),n.d(t,"d",(function(){return S})),n.d(t,"e",(function(){return Z})),n.d(t,"f",(function(){return J})),n.d(t,"g",(function(){return ie})),n.d(t,"h",(function(){return A})),n.d(t,"i",(function(){return te})),n.d(t,"j",(function(){return N})),n.d(t,"k",(function(){return Q})),n.d(t,"l",(function(){return ne})),n.d(t,"m",(function(){return D})),n.d(t,"n",(function(){return j})),n.d(t,"o",(function(){return o})),n.d(t,"p",(function(){return m})),n.d(t,"q",(function(){return U})),n.d(t,"r",(function(){return P})),n.d(t,"s",(function(){return O})),n.d(t,"t",(function(){return F})),n.d(t,"u",(function(){return L})),n.d(t,"v",(function(){return V})),n.d(t,"w",(function(){return $})),n.d(t,"x",(function(){return H})),n.d(t,"y",(function(){return g})),n.d(t,"z",(function(){return q})),n.d(t,"A",(function(){return s})),n.d(t,"B",(function(){return z})),n.d(t,"C",(function(){return R})),n.d(t,"D",(function(){return v})),n.d(t,"E",(function(){return b})),n.d(t,"F",(function(){return i})),n.d(t,"G",(function(){return h})),n.d(t,"H",(function(){return l})),n.d(t,"I",(function(){return E})),n.d(t,"J",(function(){return _})),n.d(t,"K",(function(){return ee})),n.d(t,"L",(function(){return re})),n.d(t,"M",(function(){return W}));const r="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt",o=i(r);const a="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",s=i(a);function l(e){if(D(e)){const t={};for(let n=0;n<e.length;n++){const i=e[n],r=l(z(i)?d(i):i);if(r)for(const e in r)t[e]=r[e]}return t}if(F(e))return e}const c=/;(?![^(]*\))/g,u=/:(.+)/;function d(e){const t={};return e.split(c).forEach(e=>{if(e){const n=e.split(u);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}function h(e){let t="";if(z(e))t=e;else if(D(e))for(let n=0;n<e.length;n++){const i=h(e[n]);i&&(t+=i+" ")}else if(F(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const p="html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot",f="svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistanceLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view",m=i(p),g=i(f);function y(e,t){if(e.length!==t.length)return!1;let n=!0;for(let i=0;n&&i<e.length;i++)n=v(e[i],t[i]);return n}function v(e,t){if(e===t)return!0;let n=I(e),i=I(t);if(n||i)return!(!n||!i)&&e.getTime()===t.getTime();if(n=D(e),i=D(t),n||i)return!(!n||!i)&&y(e,t);if(n=F(e),i=F(t),n||i){if(!n||!i)return!1;const r=Object.keys(e).length,o=Object.keys(t).length;if(r!==o)return!1;for(const n in e){const i=e.hasOwnProperty(n),r=t.hasOwnProperty(n);if(i&&!r||!i&&r||!v(e[n],t[n]))return!1}}return String(e)===String(t)}function b(e,t){return e.findIndex(e=>v(e,t))}const _=e=>null==e?"":F(e)?JSON.stringify(e,x,2):String(e),x=(e,t)=>P(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((e,[t,n])=>(e[t+" =>"]=n,e),{})}:q(t)?{[`Set(${t.size})`]:[...t.values()]}:!F(t)||D(t)||V(t)?t:String(t),k={},w=[],S=()=>{},M=()=>!1,C=/^on[^a-z]/,L=e=>C.test(e),O=e=>e.startsWith("onUpdate:"),A=Object.assign,E=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},T=Object.prototype.hasOwnProperty,N=(e,t)=>T.call(e,t),D=Array.isArray,P=e=>"[object Map]"===K(e),q=e=>"[object Set]"===K(e),I=e=>e instanceof Date,j=e=>"function"===typeof e,z=e=>"string"===typeof e,R=e=>"symbol"===typeof e,F=e=>null!==e&&"object"===typeof e,$=e=>F(e)&&j(e.then)&&j(e.catch),B=Object.prototype.toString,K=e=>B.call(e),W=e=>K(e).slice(8,-1),V=e=>"[object Object]"===K(e),U=e=>z(e)&&"NaN"!==e&&"-"!==e[0]&&""+parseInt(e,10)===e,H=i(",key,ref,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),G=e=>{const t=Object.create(null);return n=>{const i=t[n];return i||(t[n]=e(n))}},X=/-(\w)/g,Z=G(e=>e.replace(X,(e,t)=>t?t.toUpperCase():"")),Y=/\B([A-Z])/g,Q=G(e=>e.replace(Y,"-$1").toLowerCase()),J=G(e=>e.charAt(0).toUpperCase()+e.slice(1)),ee=G(e=>e?"on"+J(e):""),te=(e,t)=>e!==t&&(e===e||t===t),ne=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},ie=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},re=e=>{const t=parseFloat(e);return isNaN(t)?e:t}}).call(this,n("c8ba"))},a4b4:function(e,t,n){var i=n("342f");e.exports=/web0s(?!.*chrome)/i.test(i)},a640:function(e,t,n){"use strict";var i=n("d039");e.exports=function(e,t){var n=[][e];return!!n&&i((function(){n.call(null,t||function(){throw 1},1)}))}},a691:function(e,t){var n=Math.ceil,i=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?i:n)(e)}},a79d:function(e,t,n){"use strict";var i=n("23e7"),r=n("c430"),o=n("fea9"),a=n("d039"),s=n("d066"),l=n("4840"),c=n("cdf9"),u=n("6eeb"),d=!!o&&a((function(){o.prototype["finally"].call({then:function(){}},(function(){}))}));if(i({target:"Promise",proto:!0,real:!0,forced:d},{finally:function(e){var t=l(this,s("Promise")),n="function"==typeof e;return this.then(n?function(n){return c(t,e()).then((function(){return n}))}:e,n?function(n){return c(t,e()).then((function(){throw n}))}:e)}}),!r&&"function"==typeof o){var h=s("Promise").prototype["finally"];o.prototype["finally"]!==h&&u(o.prototype,"finally",h,{unsafe:!0})}},a8e9:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return M})),n.d(t,"c",(function(){return z})),n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return a})),n.d(t,"f",(function(){return c})),n.d(t,"g",(function(){return u})),n.d(t,"h",(function(){return D})),n.d(t,"i",(function(){return g})),n.d(t,"j",(function(){return R})),n.d(t,"k",(function(){return h})),n.d(t,"l",(function(){return p})),n.d(t,"m",(function(){return W})),n.d(t,"n",(function(){return X})),n.d(t,"o",(function(){return N})),n.d(t,"p",(function(){return _})),n.d(t,"q",(function(){return q})),n.d(t,"r",(function(){return v})),n.d(t,"s",(function(){return b})),n.d(t,"t",(function(){return k})),n.d(t,"u",(function(){return x})),n.d(t,"v",(function(){return T})),n.d(t,"w",(function(){return O})),n.d(t,"x",(function(){return I})),n.d(t,"y",(function(){return j})),n.d(t,"z",(function(){return P})),n.d(t,"A",(function(){return G})),n.d(t,"B",(function(){return H})),n.d(t,"C",(function(){return A})),n.d(t,"D",(function(){return K})),n.d(t,"E",(function(){return V})),n.d(t,"F",(function(){return U}));var i=n("fbb0"),r={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},o=function(e,t){if(!e)throw a(t)},a=function(e){return new Error("Firebase Database ("+r.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)},s=function(e){for(var t=[],n=0,i=0;i<e.length;i++){var r=e.charCodeAt(i);r<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=63&r|128):55296===(64512&r)&&i+1<e.length&&56320===(64512&e.charCodeAt(i+1))?(r=65536+((1023&r)<<10)+(1023&e.charCodeAt(++i)),t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=63&r|128):(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=63&r|128)}return t},l=function(e){var t=[],n=0,i=0;while(n<e.length){var r=e[n++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){var o=e[n++];t[i++]=String.fromCharCode((31&r)<<6|63&o)}else if(r>239&&r<365){o=e[n++];var a=e[n++],s=e[n++],l=((7&r)<<18|(63&o)<<12|(63&a)<<6|63&s)-65536;t[i++]=String.fromCharCode(55296+(l>>10)),t[i++]=String.fromCharCode(56320+(1023&l))}else{o=e[n++],a=e[n++];t[i++]=String.fromCharCode((15&r)<<12|(63&o)<<6|63&a)}}return t.join("")},c={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[],r=0;r<e.length;r+=3){var o=e[r],a=r+1<e.length,s=a?e[r+1]:0,l=r+2<e.length,c=l?e[r+2]:0,u=o>>2,d=(3&o)<<4|s>>4,h=(15&s)<<2|c>>6,p=63&c;l||(p=64,a||(h=64)),i.push(n[u],n[d],n[h],n[p])}return i.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(s(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):l(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[],r=0;r<e.length;){var o=n[e.charAt(r++)],a=r<e.length,s=a?n[e.charAt(r)]:0;++r;var l=r<e.length,c=l?n[e.charAt(r)]:64;++r;var u=r<e.length,d=u?n[e.charAt(r)]:64;if(++r,null==o||null==s||null==c||null==d)throw Error();var h=o<<2|s>>4;if(i.push(h),64!==c){var p=s<<4&240|c>>2;if(i.push(p),64!==d){var f=c<<6&192|d;i.push(f)}}}return i},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},u=function(e){var t=s(e);return c.encodeByteArray(t,!0)},d=function(e){try{return c.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function h(e){return p(void 0,e)}function p(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:var n=t;return new Date(n.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var i in t)t.hasOwnProperty(i)&&f(i)&&(e[i]=p(e[i],t[i]));return e}function f(e){return"__proto__"!==e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var m=function(){function e(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))}return e.prototype.wrapCallback=function(e){var t=this;return function(n,i){n?t.reject(n):t.resolve(i),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,i))}},e}();
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n={alg:"none",type:"JWT"},r=t||"demo-project",o=e.iat||0,a=e.sub||e.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var s=Object(i["a"])({iss:"https://securetoken.google.com/"+r,aud:r,iat:o,exp:o+3600,auth_time:o,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},e),l="";return[c.encodeString(JSON.stringify(n),!1),c.encodeString(JSON.stringify(s),!1),l].join(".")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y(){return"undefined"!==typeof navigator&&"string"===typeof navigator["userAgent"]?navigator["userAgent"]:""}function v(){return"undefined"!==typeof window&&!!(window["cordova"]||window["phonegap"]||window["PhoneGap"])&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(y())}function b(){try{return"[object process]"===Object.prototype.toString.call(e.process)}catch(t){return!1}}function _(){return"object"===typeof self&&self.self===self}function x(){return"object"===typeof navigator&&"ReactNative"===navigator["product"]}function k(){return!0===r.NODE_CLIENT||!0===r.NODE_ADMIN}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var w="FirebaseError",S=function(e){function t(n,i,r){var o=e.call(this,i)||this;return o.code=n,o.customData=r,o.name=w,Object.setPrototypeOf(o,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,M.prototype.create),o}return Object(i["b"])(t,e),t}(Error),M=function(){function e(e,t,n){this.service=e,this.serviceName=t,this.errors=n}return e.prototype.create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=t[0]||{},r=this.service+"/"+e,o=this.errors[e],a=o?C(o,i):"Error",s=this.serviceName+": "+a+" ("+r+").",l=new S(r,s,i);return l},e}();function C(e,t){return e.replace(L,(function(e,n){var i=t[n];return null!=i?String(i):"<"+n+"?>"}))}var L=/\{\$([^}]+)}/g;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O(e){return JSON.parse(e)}function A(e){return JSON.stringify(e)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var E=function(e){var t={},n={},i={},r="";try{var o=e.split(".");t=O(d(o[0])||""),n=O(d(o[1])||""),r=o[2],i=n["d"]||{},delete n["d"]}catch(a){}return{header:t,claims:n,data:i,signature:r}},T=function(e){var t=E(e),n=t.claims;return!!n&&"object"===typeof n&&n.hasOwnProperty("iat")},N=function(e){var t=E(e).claims;return"object"===typeof t&&!0===t["admin"]};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function D(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function P(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function q(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function I(e,t,n){var i={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(i[r]=t.call(n,e[r],r,e));return i}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j(e){for(var t=[],n=function(e,n){Array.isArray(n)?n.forEach((function(n){t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))})):t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))},i=0,r=Object.entries(e);i<r.length;i++){var o=r[i],a=o[0],s=o[1];n(a,s)}return t.length?"&"+t.join("&"):""}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var z=function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}return e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(e,t){t||(t=0);var n=this.W_;if("string"===typeof e)for(var i=0;i<16;i++)n[i]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(i=0;i<16;i++)n[i]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(i=16;i<80;i++){var r=n[i-3]^n[i-8]^n[i-14]^n[i-16];n[i]=4294967295&(r<<1|r>>>31)}var o,a,s=this.chain_[0],l=this.chain_[1],c=this.chain_[2],u=this.chain_[3],d=this.chain_[4];for(i=0;i<80;i++){i<40?i<20?(o=u^l&(c^u),a=1518500249):(o=l^c^u,a=1859775393):i<60?(o=l&c|u&(l|c),a=2400959708):(o=l^c^u,a=3395469782);r=(s<<5|s>>>27)+o+d+a+n[i]&4294967295;d=u,u=c,c=4294967295&(l<<30|l>>>2),l=s,s=r}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+l&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+u&4294967295,this.chain_[4]=this.chain_[4]+d&4294967295},e.prototype.update=function(e,t){if(null!=e){void 0===t&&(t=e.length);var n=t-this.blockSize,i=0,r=this.buf_,o=this.inbuf_;while(i<t){if(0===o)while(i<=n)this.compress_(e,i),i+=this.blockSize;if("string"===typeof e){while(i<t)if(r[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(r),o=0;break}}else while(i<t)if(r[o]=e[i],++o,++i,o===this.blockSize){this.compress_(r),o=0;break}}this.inbuf_=o,this.total_+=t}},e.prototype.digest=function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);var i=0;for(n=0;n<5;n++)for(var r=24;r>=0;r-=8)e[i]=this.chain_[n]>>r&255,++i;return e},e}();function R(e,t){var n=new F(e,t);return n.subscribe.bind(n)}var F=function(){function e(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((function(){e(n)})).catch((function(e){n.error(e)}))}return e.prototype.next=function(e){this.forEachObserver((function(t){t.next(e)}))},e.prototype.error=function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)},e.prototype.complete=function(){this.forEachObserver((function(e){e.complete()})),this.close()},e.prototype.subscribe=function(e,t,n){var i,r=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");i=$(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===i.next&&(i.next=B),void 0===i.error&&(i.error=B),void 0===i.complete&&(i.complete=B);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{r.finalError?i.error(r.finalError):i.complete()}catch(e){}})),this.observers.push(i),o},e.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},e.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},e.prototype.sendOne=function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(i){"undefined"!==typeof console&&console.error&&console.error(i)}}))},e.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))},e}();function $(e,t){if("object"!==typeof e||null===e)return!1;for(var n=0,i=t;n<i.length;n++){var r=i[n];if(r in e&&"function"===typeof e[r])return!0}return!1}function B(){}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var K=function(e,t,n,i){var r;if(i<t?r="at least "+t:i>n&&(r=0===n?"none":"no more than "+n),r){var o=e+" failed: Was called with "+i+(1===i?" argument.":" arguments.")+" Expects "+r+".";throw new Error(o)}};function W(e,t){return e+" failed: "+t+" argument "}function V(e,t,n,i){if((!i||n)&&"function"!==typeof n)throw new Error(W(e,t)+"must be a valid function.")}function U(e,t,n,i){if((!i||n)&&("object"!==typeof n||null===n))throw new Error(W(e,t)+"must be a valid context object.")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var H=function(e){for(var t=[],n=0,i=0;i<e.length;i++){var r=e.charCodeAt(i);if(r>=55296&&r<=56319){var a=r-55296;i++,o(i<e.length,"Surrogate pair missing trail surrogate.");var s=e.charCodeAt(i)-56320;r=65536+(a<<10)+s}r<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=63&r|128):r<65536?(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=63&r|128):(t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=63&r|128)}return t},G=function(e){for(var t=0,n=0;n<e.length;n++){var i=e.charCodeAt(n);i<128?t++:i<2048?t+=2:i>=55296&&i<=56319?(t+=4,n++):t+=3}return t};
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function X(e){return e&&e._delegate?e._delegate:e}}).call(this,n("c8ba"))},abfd:function(e,t,n){"use strict";
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
function i(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var i=Array(e),r=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,r++)i[r]=o[a];return i}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var r;n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return h})),n.d(t,"d",(function(){return p}));var o,a=[];(function(e){e[e["DEBUG"]=0]="DEBUG",e[e["VERBOSE"]=1]="VERBOSE",e[e["INFO"]=2]="INFO",e[e["WARN"]=3]="WARN",e[e["ERROR"]=4]="ERROR",e[e["SILENT"]=5]="SILENT"})(o||(o={}));var s={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},l=o.INFO,c=(r={},r[o.DEBUG]="log",r[o.VERBOSE]="log",r[o.INFO]="info",r[o.WARN]="warn",r[o.ERROR]="error",r),u=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(t<e.logLevel)){var o=(new Date).toISOString(),a=c[t];if(!a)throw new Error("Attempted to log a message with an invalid logType (value: "+t+")");console[a].apply(console,i(["["+o+"]  "+e.name+":"],n))}},d=function(){function e(e){this.name=e,this._logLevel=l,this._logHandler=u,this._userLogHandler=null,a.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in o))throw new TypeError('Invalid value "'+e+'" assigned to `logLevel`');this._logLevel=e},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(e){this._logLevel="string"===typeof e?s[e]:e},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,i([this,o.DEBUG],e)),this._logHandler.apply(this,i([this,o.DEBUG],e))},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,i([this,o.VERBOSE],e)),this._logHandler.apply(this,i([this,o.VERBOSE],e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,i([this,o.INFO],e)),this._logHandler.apply(this,i([this,o.INFO],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,i([this,o.WARN],e)),this._logHandler.apply(this,i([this,o.WARN],e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,i([this,o.ERROR],e)),this._logHandler.apply(this,i([this,o.ERROR],e))},e}();function h(e){a.forEach((function(t){t.setLogLevel(e)}))}function p(e,t){for(var n=function(n){var i=null;t&&t.level&&(i=s[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var r=[],a=2;a<arguments.length;a++)r[a-2]=arguments[a];var s=r.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:o[n].toLowerCase(),message:s,args:r,type:t.name})}},i=0,r=a;i<r.length;i++){var l=r[i];n(l)}}},ae93:function(e,t,n){"use strict";var i,r,o,a=n("d039"),s=n("e163"),l=n("9112"),c=n("5135"),u=n("b622"),d=n("c430"),h=u("iterator"),p=!1,f=function(){return this};[].keys&&(o=[].keys(),"next"in o?(r=s(s(o)),r!==Object.prototype&&(i=r)):p=!0);var m=void 0==i||a((function(){var e={};return i[h].call(e)!==e}));m&&(i={}),d&&!m||c(i,h)||l(i,h,f),e.exports={IteratorPrototype:i,BUGGY_SAFARI_ITERATORS:p}},b575:function(e,t,n){var i,r,o,a,s,l,c,u,d=n("da84"),h=n("06cf").f,p=n("2cf4").set,f=n("1cdc"),m=n("a4b4"),g=n("605d"),y=d.MutationObserver||d.WebKitMutationObserver,v=d.document,b=d.process,_=d.Promise,x=h(d,"queueMicrotask"),k=x&&x.value;k||(i=function(){var e,t;g&&(e=b.domain)&&e.exit();while(r){t=r.fn,r=r.next;try{t()}catch(n){throw r?a():o=void 0,n}}o=void 0,e&&e.enter()},f||g||m||!y||!v?_&&_.resolve?(c=_.resolve(void 0),c.constructor=_,u=c.then,a=function(){u.call(c,i)}):a=g?function(){b.nextTick(i)}:function(){p.call(d,i)}:(s=!0,l=v.createTextNode(""),new y(i).observe(l,{characterData:!0}),a=function(){l.data=s=!s})),e.exports=k||function(e){var t={fn:e,next:void 0};o&&(o.next=t),r||(r=t,a()),o=t}},b622:function(e,t,n){var i=n("da84"),r=n("5692"),o=n("5135"),a=n("90e3"),s=n("4930"),l=n("fdbf"),c=r("wks"),u=i.Symbol,d=l?u:u&&u.withoutSetter||a;e.exports=function(e){return o(c,e)&&(s||"string"==typeof c[e])||(s&&o(u,e)?c[e]=u[e]:c[e]=d("Symbol."+e)),c[e]}},b727:function(e,t,n){var i=n("0366"),r=n("44ad"),o=n("7b0b"),a=n("50c4"),s=n("65f0"),l=[].push,c=function(e){var t=1==e,n=2==e,c=3==e,u=4==e,d=6==e,h=7==e,p=5==e||d;return function(f,m,g,y){for(var v,b,_=o(f),x=r(_),k=i(m,g,3),w=a(x.length),S=0,M=y||s,C=t?M(f,w):n||h?M(f,0):void 0;w>S;S++)if((p||S in x)&&(v=x[S],b=k(v,S,_),e))if(t)C[S]=b;else if(b)switch(e){case 3:return!0;case 5:return v;case 6:return S;case 2:l.call(C,v)}else switch(e){case 4:return!1;case 7:l.call(C,v)}return d?-1:c||u?u:C}};e.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6),filterOut:c(7)}},c04e:function(e,t,n){var i=n("861d");e.exports=function(e,t){if(!i(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!i(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!i(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!i(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")}},c430:function(e,t){e.exports=!1},c6b6:function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},c6cd:function(e,t,n){var i=n("da84"),r=n("ce4e"),o="__core-js_shared__",a=i[o]||r(o,{});e.exports=a},c8ba:function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(i){"object"===typeof window&&(n=window)}e.exports=n},ca84:function(e,t,n){var i=n("5135"),r=n("fc6a"),o=n("4d64").indexOf,a=n("d012");e.exports=function(e,t){var n,s=r(e),l=0,c=[];for(n in s)!i(a,n)&&i(s,n)&&c.push(n);while(t.length>l)i(s,n=t[l++])&&(~o(c,n)||c.push(n));return c}},cc12:function(e,t,n){var i=n("da84"),r=n("861d"),o=i.document,a=r(o)&&r(o.createElement);e.exports=function(e){return a?o.createElement(e):{}}},cc84:function(e,t,n){"use strict";
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var i=function(){return i=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},i.apply(this,arguments)};Object.create;Object.create;var r,o,a=n("a8e9"),s=n("ffa6"),l=n("abfd"),c=(r={},r["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),u=new a["b"]("app","Firebase",c),d="@firebase/app",h="0.6.28",p="@firebase/analytics",f="@firebase/app-check",m="@firebase/auth",g="@firebase/database",y="@firebase/functions",v="@firebase/installations",b="@firebase/messaging",_="@firebase/performance",x="@firebase/remote-config",k="@firebase/storage",w="@firebase/firestore",S="firebase-wrapper",M="[DEFAULT]",C=(o={},o[d]="fire-core",o[p]="fire-analytics",o[f]="fire-app-check",o[m]="fire-auth",o[g]="fire-rtdb",o[y]="fire-fn",o[v]="fire-iid",o[b]="fire-fcm",o[_]="fire-perf",o[x]="fire-rc",o[k]="fire-gcs",o[w]="fire-fst",o["fire-js"]="fire-js",o[S]="fire-js-all",o),L=new l["b"]("@firebase/app"),O=function(){function e(e,t,n){var i=this;this.firebase_=n,this.isDeleted_=!1,this.name_=t.name,this.automaticDataCollectionEnabled_=t.automaticDataCollectionEnabled||!1,this.options_=Object(a["k"])(e),this.container=new s["b"](t.name),this._addComponent(new s["a"]("app",(function(){return i}),"PUBLIC")),this.firebase_.INTERNAL.components.forEach((function(e){return i._addComponent(e)}))}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var e=this;return new Promise((function(t){e.checkDestroyed_(),t()})).then((function(){return e.firebase_.INTERNAL.removeApp(e.name_),Promise.all(e.container.getProviders().map((function(e){return e.delete()})))})).then((function(){e.isDeleted_=!0}))},e.prototype._getService=function(e,t){var n;void 0===t&&(t=M),this.checkDestroyed_();var i=this.container.getProvider(e);return i.isInitialized()||"EXPLICIT"!==(null===(n=i.getComponent())||void 0===n?void 0:n.instantiationMode)||i.initialize(),i.getImmediate({identifier:t})},e.prototype._removeServiceInstance=function(e,t){void 0===t&&(t=M),this.container.getProvider(e).clearInstance(t)},e.prototype._addComponent=function(e){try{this.container.addComponent(e)}catch(t){L.debug("Component "+e.name+" failed to register with FirebaseApp "+this.name,t)}},e.prototype._addOrOverwriteComponent=function(e){this.container.addOrOverwriteComponent(e)},e.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw u.create("app-deleted",{appName:this.name_})},e}();O.prototype.name&&O.prototype.options||O.prototype.delete||console.log("dc");var A="8.7.0";
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E(e){var t={},n=new Map,i={__esModule:!0,initializeApp:c,app:o,registerVersion:p,setLogLevel:l["c"],onLog:f,apps:null,SDK_VERSION:A,INTERNAL:{registerComponent:h,removeApp:r,components:n,useAsService:m}};function r(e){delete t[e]}function o(e){if(e=e||M,!Object(a["h"])(t,e))throw u.create("no-app",{appName:e});return t[e]}function c(n,r){if(void 0===r&&(r={}),"object"!==typeof r||null===r){var o=r;r={name:o}}var s=r;void 0===s.name&&(s.name=M);var l=s.name;if("string"!==typeof l||!l)throw u.create("bad-app-name",{appName:String(l)});if(Object(a["h"])(t,l))throw u.create("duplicate-app",{appName:l});var c=new e(n,s,i);return t[l]=c,c}function d(){return Object.keys(t).map((function(e){return t[e]}))}function h(r){var s=r.name;if(n.has(s))return L.debug("There were multiple attempts to register component "+s+"."),"PUBLIC"===r.type?i[s]:null;if(n.set(s,r),"PUBLIC"===r.type){var l=function(e){if(void 0===e&&(e=o()),"function"!==typeof e[s])throw u.create("invalid-app-argument",{appName:s});return e[s]()};void 0!==r.serviceProps&&Object(a["l"])(l,r.serviceProps),i[s]=l,e.prototype[s]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this._getService.bind(this,s);return n.apply(this,r.multipleInstances?e:[])}}for(var c=0,d=Object.keys(t);c<d.length;c++){var h=d[c];t[h]._addComponent(r)}return"PUBLIC"===r.type?i[s]:null}function p(e,t,n){var i,r=null!==(i=C[e])&&void 0!==i?i:e;n&&(r+="-"+n);var o=r.match(/\s|\//),a=t.match(/\s|\//);if(o||a){var l=['Unable to register library "'+r+'" with version "'+t+'":'];return o&&l.push('library name "'+r+'" contains illegal characters (whitespace or "/")'),o&&a&&l.push("and"),a&&l.push('version name "'+t+'" contains illegal characters (whitespace or "/")'),void L.warn(l.join(" "))}h(new s["a"](r+"-version",(function(){return{library:r,version:t}}),"VERSION"))}function f(e,t){if(null!==e&&"function"!==typeof e)throw u.create("invalid-log-argument");Object(l["d"])(e,t)}function m(e,t){if("serverAuth"===t)return null;var n=t;return n}return i["default"]=i,Object.defineProperty(i,"apps",{get:d}),o["App"]=e,i}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T(){var e=E(O);function t(t){Object(a["l"])(e,t)}return e.INTERNAL=i(i({},e.INTERNAL),{createFirebaseNamespace:T,extendNamespace:t,createSubscribe:a["j"],ErrorFactory:a["b"],deepExtend:a["l"]}),e}var N=T(),D=function(){function e(e){this.container=e}return e.prototype.getPlatformInfoString=function(){var e=this.container.getProviders();return e.map((function(e){if(P(e)){var t=e.getImmediate();return t.library+"/"+t.version}return null})).filter((function(e){return e})).join(" ")},e}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q(e,t){e.INTERNAL.registerComponent(new s["a"]("platform-logger",(function(e){return new D(e)}),"PRIVATE")),e.registerVersion(d,h,t),e.registerVersion("fire-js","")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(Object(a["p"])()&&void 0!==self.firebase){L.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var I=self.firebase.SDK_VERSION;I&&I.indexOf("LITE")>=0&&L.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var j=N.initializeApp;N.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Object(a["s"])()&&L.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),j.apply(void 0,e)};var z=N;q(z);t["a"]=z},cca6:function(e,t,n){var i=n("23e7"),r=n("60da");i({target:"Object",stat:!0,forced:Object.assign!==r},{assign:r})},cdf9:function(e,t,n){var i=n("825a"),r=n("861d"),o=n("f069");e.exports=function(e,t){if(i(e),r(t)&&t.constructor===e)return t;var n=o.f(e),a=n.resolve;return a(t),n.promise}},ce4e:function(e,t,n){var i=n("da84"),r=n("9112");e.exports=function(e,t){try{r(i,e,t)}catch(n){i[e]=t}return t}},d012:function(e,t){e.exports={}},d039:function(e,t){e.exports=function(e){try{return!!e()}catch(t){return!0}}},d066:function(e,t,n){var i=n("428f"),r=n("da84"),o=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?o(i[e])||o(r[e]):i[e]&&i[e][t]||r[e]&&r[e][t]}},d1e7:function(e,t,n){"use strict";var i={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,o=r&&!i.call({1:2},1);t.f=o?function(e){var t=r(this,e);return!!t&&t.enumerable}:i},d2bb:function(e,t,n){var i=n("825a"),r=n("3bbe");e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,e.call(n,[]),t=n instanceof Array}catch(o){}return function(n,o){return i(n),r(o),t?e.call(n,o):n.__proto__=o,n}}():void 0)},d44e:function(e,t,n){var i=n("9bf2").f,r=n("5135"),o=n("b622"),a=o("toStringTag");e.exports=function(e,t,n){e&&!r(e=n?e:e.prototype,a)&&i(e,a,{configurable:!0,value:t})}},d959:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=(e,t)=>{const n=e.__vccOpts||e;for(const[i,r]of t)n[i]=r;return n}},da84:function(e,t,n){(function(t){var n=function(e){return e&&e.Math==Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof t&&t)||function(){return this}()||Function("return this")()}).call(this,n("c8ba"))},dd40:function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},df75:function(e,t,n){var i=n("ca84"),r=n("7839");e.exports=Object.keys||function(e){return i(e,r)}},df7c:function(e,t,n){(function(e){function n(e,t){for(var n=0,i=e.length-1;i>=0;i--){var r=e[i];"."===r?e.splice(i,1):".."===r?(e.splice(i,1),n++):n&&(e.splice(i,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}function i(e){"string"!==typeof e&&(e+="");var t,n=0,i=-1,r=!0;for(t=e.length-1;t>=0;--t)if(47===e.charCodeAt(t)){if(!r){n=t+1;break}}else-1===i&&(r=!1,i=t+1);return-1===i?"":e.slice(n,i)}function r(e,t){if(e.filter)return e.filter(t);for(var n=[],i=0;i<e.length;i++)t(e[i],i,e)&&n.push(e[i]);return n}t.resolve=function(){for(var t="",i=!1,o=arguments.length-1;o>=-1&&!i;o--){var a=o>=0?arguments[o]:e.cwd();if("string"!==typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(t=a+"/"+t,i="/"===a.charAt(0))}return t=n(r(t.split("/"),(function(e){return!!e})),!i).join("/"),(i?"/":"")+t||"."},t.normalize=function(e){var i=t.isAbsolute(e),a="/"===o(e,-1);return e=n(r(e.split("/"),(function(e){return!!e})),!i).join("/"),e||i||(e="."),e&&a&&(e+="/"),(i?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(r(e,(function(e,t){if("string"!==typeof e)throw new TypeError("Arguments to path.join must be strings");return e})).join("/"))},t.relative=function(e,n){function i(e){for(var t=0;t<e.length;t++)if(""!==e[t])break;for(var n=e.length-1;n>=0;n--)if(""!==e[n])break;return t>n?[]:e.slice(t,n-t+1)}e=t.resolve(e).substr(1),n=t.resolve(n).substr(1);for(var r=i(e.split("/")),o=i(n.split("/")),a=Math.min(r.length,o.length),s=a,l=0;l<a;l++)if(r[l]!==o[l]){s=l;break}var c=[];for(l=s;l<r.length;l++)c.push("..");return c=c.concat(o.slice(s)),c.join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){if("string"!==typeof e&&(e+=""),0===e.length)return".";for(var t=e.charCodeAt(0),n=47===t,i=-1,r=!0,o=e.length-1;o>=1;--o)if(t=e.charCodeAt(o),47===t){if(!r){i=o;break}}else r=!1;return-1===i?n?"/":".":n&&1===i?"/":e.slice(0,i)},t.basename=function(e,t){var n=i(e);return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},t.extname=function(e){"string"!==typeof e&&(e+="");for(var t=-1,n=0,i=-1,r=!0,o=0,a=e.length-1;a>=0;--a){var s=e.charCodeAt(a);if(47!==s)-1===i&&(r=!1,i=a+1),46===s?-1===t?t=a:1!==o&&(o=1):-1!==t&&(o=-1);else if(!r){n=a+1;break}}return-1===t||-1===i||0===o||1===o&&t===i-1&&t===n+1?"":e.slice(t,i)};var o="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)}}).call(this,n("4362"))},e163:function(e,t,n){var i=n("5135"),r=n("7b0b"),o=n("f772"),a=n("e177"),s=o("IE_PROTO"),l=Object.prototype;e.exports=a?Object.getPrototypeOf:function(e){return e=r(e),i(e,s)?e[s]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?l:null}},e177:function(e,t,n){var i=n("d039");e.exports=!i((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},e260:function(e,t,n){"use strict";var i=n("fc6a"),r=n("44d2"),o=n("3f8c"),a=n("69f3"),s=n("7dd0"),l="Array Iterator",c=a.set,u=a.getterFor(l);e.exports=s(Array,"Array",(function(e,t){c(this,{type:l,target:i(e),index:0,kind:t})}),(function(){var e=u(this),t=e.target,n=e.kind,i=e.index++;return!t||i>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:i,done:!1}:"values"==n?{value:t[i],done:!1}:{value:[i,t[i]],done:!1}}),"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},e2cc:function(e,t,n){var i=n("6eeb");e.exports=function(e,t,n){for(var r in t)i(e,r,t[r],n);return e}},e667:function(e,t){e.exports=function(e){try{return{error:!1,value:e()}}catch(t){return{error:!0,value:t}}}},e6cf:function(e,t,n){"use strict";var i,r,o,a,s=n("23e7"),l=n("c430"),c=n("da84"),u=n("d066"),d=n("fea9"),h=n("6eeb"),p=n("e2cc"),f=n("d2bb"),m=n("d44e"),g=n("2626"),y=n("861d"),v=n("1c0b"),b=n("19aa"),_=n("8925"),x=n("2266"),k=n("1c7e"),w=n("4840"),S=n("2cf4").set,M=n("b575"),C=n("cdf9"),L=n("44de"),O=n("f069"),A=n("e667"),E=n("69f3"),T=n("94ca"),N=n("b622"),D=n("6069"),P=n("605d"),q=n("2d00"),I=N("species"),j="Promise",z=E.get,R=E.set,F=E.getterFor(j),$=d&&d.prototype,B=d,K=$,W=c.TypeError,V=c.document,U=c.process,H=O.f,G=H,X=!!(V&&V.createEvent&&c.dispatchEvent),Z="function"==typeof PromiseRejectionEvent,Y="unhandledrejection",Q="rejectionhandled",J=0,ee=1,te=2,ne=1,ie=2,re=!1,oe=T(j,(function(){var e=_(B),t=e!==String(B);if(!t&&66===q)return!0;if(l&&!K["finally"])return!0;if(q>=51&&/native code/.test(e))return!1;var n=new B((function(e){e(1)})),i=function(e){e((function(){}),(function(){}))},r=n.constructor={};return r[I]=i,re=n.then((function(){}))instanceof i,!re||!t&&D&&!Z})),ae=oe||!k((function(e){B.all(e)["catch"]((function(){}))})),se=function(e){var t;return!(!y(e)||"function"!=typeof(t=e.then))&&t},le=function(e,t){if(!e.notified){e.notified=!0;var n=e.reactions;M((function(){var i=e.value,r=e.state==ee,o=0;while(n.length>o){var a,s,l,c=n[o++],u=r?c.ok:c.fail,d=c.resolve,h=c.reject,p=c.domain;try{u?(r||(e.rejection===ie&&he(e),e.rejection=ne),!0===u?a=i:(p&&p.enter(),a=u(i),p&&(p.exit(),l=!0)),a===c.promise?h(W("Promise-chain cycle")):(s=se(a))?s.call(a,d,h):d(a)):h(i)}catch(f){p&&!l&&p.exit(),h(f)}}e.reactions=[],e.notified=!1,t&&!e.rejection&&ue(e)}))}},ce=function(e,t,n){var i,r;X?(i=V.createEvent("Event"),i.promise=t,i.reason=n,i.initEvent(e,!1,!0),c.dispatchEvent(i)):i={promise:t,reason:n},!Z&&(r=c["on"+e])?r(i):e===Y&&L("Unhandled promise rejection",n)},ue=function(e){S.call(c,(function(){var t,n=e.facade,i=e.value,r=de(e);if(r&&(t=A((function(){P?U.emit("unhandledRejection",i,n):ce(Y,n,i)})),e.rejection=P||de(e)?ie:ne,t.error))throw t.value}))},de=function(e){return e.rejection!==ne&&!e.parent},he=function(e){S.call(c,(function(){var t=e.facade;P?U.emit("rejectionHandled",t):ce(Q,t,e.value)}))},pe=function(e,t,n){return function(i){e(t,i,n)}},fe=function(e,t,n){e.done||(e.done=!0,n&&(e=n),e.value=t,e.state=te,le(e,!0))},me=function(e,t,n){if(!e.done){e.done=!0,n&&(e=n);try{if(e.facade===t)throw W("Promise can't be resolved itself");var i=se(t);i?M((function(){var n={done:!1};try{i.call(t,pe(me,n,e),pe(fe,n,e))}catch(r){fe(n,r,e)}})):(e.value=t,e.state=ee,le(e,!1))}catch(r){fe({done:!1},r,e)}}};if(oe&&(B=function(e){b(this,B,j),v(e),i.call(this);var t=z(this);try{e(pe(me,t),pe(fe,t))}catch(n){fe(t,n)}},K=B.prototype,i=function(e){R(this,{type:j,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:J,value:void 0})},i.prototype=p(K,{then:function(e,t){var n=F(this),i=H(w(this,B));return i.ok="function"!=typeof e||e,i.fail="function"==typeof t&&t,i.domain=P?U.domain:void 0,n.parent=!0,n.reactions.push(i),n.state!=J&&le(n,!1),i.promise},catch:function(e){return this.then(void 0,e)}}),r=function(){var e=new i,t=z(e);this.promise=e,this.resolve=pe(me,t),this.reject=pe(fe,t)},O.f=H=function(e){return e===B||e===o?new r(e):G(e)},!l&&"function"==typeof d&&$!==Object.prototype)){a=$.then,re||(h($,"then",(function(e,t){var n=this;return new B((function(e,t){a.call(n,e,t)})).then(e,t)}),{unsafe:!0}),h($,"catch",K["catch"],{unsafe:!0}));try{delete $.constructor}catch(ge){}f&&f($,K)}s({global:!0,wrap:!0,forced:oe},{Promise:B}),m(B,j,!1,!0),g(j),o=u(j),s({target:j,stat:!0,forced:oe},{reject:function(e){var t=H(this);return t.reject.call(void 0,e),t.promise}}),s({target:j,stat:!0,forced:l||oe},{resolve:function(e){return C(l&&this===o?B:this,e)}}),s({target:j,stat:!0,forced:ae},{all:function(e){var t=this,n=H(t),i=n.resolve,r=n.reject,o=A((function(){var n=v(t.resolve),o=[],a=0,s=1;x(e,(function(e){var l=a++,c=!1;o.push(void 0),s++,n.call(t,e).then((function(e){c||(c=!0,o[l]=e,--s||i(o))}),r)})),--s||i(o)}));return o.error&&r(o.value),n.promise},race:function(e){var t=this,n=H(t),i=n.reject,r=A((function(){var r=v(t.resolve);x(e,(function(e){r.call(t,e).then(n.resolve,i)}))}));return r.error&&i(r.value),n.promise}})},e893:function(e,t,n){var i=n("5135"),r=n("56ef"),o=n("06cf"),a=n("9bf2");e.exports=function(e,t){for(var n=r(t),s=a.f,l=o.f,c=0;c<n.length;c++){var u=n[c];i(e,u)||s(e,u,l(t,u))}}},e8b5:function(e,t,n){var i=n("c6b6");e.exports=Array.isArray||function(e){return"Array"==i(e)}},e947:function(e,t,n){"use strict";(function(e,t){var i=n("cc84"),r=n("ffa6"),o=n("a8e9"),a=n("9802"),s=n("abfd"),l="@firebase/database",c="0.10.8",u="";function d(e){u=e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var h=function(){function e(e){this.domStorage_=e,this.prefix_="firebase:"}return e.prototype.set=function(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Object(o["C"])(t))},e.prototype.get=function(e){var t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:Object(o["w"])(t)},e.prototype.remove=function(e){this.domStorage_.removeItem(this.prefixedName_(e))},e.prototype.prefixedName_=function(e){return this.prefix_+e},e.prototype.toString=function(){return this.domStorage_.toString()},e}(),p=function(){function e(){this.cache_={},this.isInMemoryStorage=!0}return e.prototype.set=function(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t},e.prototype.get=function(e){return Object(o["h"])(this.cache_,e)?this.cache_[e]:null},e.prototype.remove=function(e){delete this.cache_[e]},e}(),f=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new h(t)}}catch(n){}return new p},m=f("localStorage"),g=f("sessionStorage"),y=new s["b"]("@firebase/database"),v=function(){var e=1;return function(){return e++}}(),b=function(e){var t=Object(o["B"])(e),n=new o["c"];n.update(t);var i=n.digest();return o["f"].encodeByteArray(i)},_=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n="",i=0;i<e.length;i++){var r=e[i];Array.isArray(r)||r&&"object"===typeof r&&"number"===typeof r.length?n+=_.apply(null,r):n+="object"===typeof r?Object(o["C"])(r):r,n+=" "}return n},x=null,k=!0,w=function(e,t){Object(o["d"])(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(y.logLevel=s["a"].VERBOSE,x=y.log.bind(y),t&&g.set("logging_enabled",!0)):"function"===typeof e?x=e:(x=null,g.remove("logging_enabled"))},S=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(!0===k&&(k=!1,null===x&&!0===g.get("logging_enabled")&&w(!0)),x){var n=_.apply(null,e);x(n)}},M=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];S.apply(void 0,Object(a["f"])([e],Object(a["e"])(t)))}},C=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE INTERNAL ERROR: "+_.apply(void 0,Object(a["f"])([],Object(a["e"])(e)));y.error(n)},L=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE FATAL ERROR: "+_.apply(void 0,Object(a["f"])([],Object(a["e"])(e)));throw y.error(n),new Error(n)},O=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE WARNING: "+_.apply(void 0,Object(a["f"])([],Object(a["e"])(e)));y.warn(n)},A=function(){"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&O("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},E=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},T=function(e){if(Object(o["t"])()||"complete"===document.readyState)e();else{var t=!1,n=function(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}},N="[MIN_NAME]",D="[MAX_NAME]",P=function(e,t){if(e===t)return 0;if(e===N||t===D)return-1;if(t===N||e===D)return 1;var n=H(e),i=H(t);return null!==n?null!==i?n-i===0?e.length-t.length:n-i:-1:null!==i?1:e<t?-1:1},q=function(e,t){return e===t?0:e<t?-1:1},I=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+Object(o["C"])(t))},j=function(e){if("object"!==typeof e||null===e)return Object(o["C"])(e);var t=[];for(var n in e)t.push(n);t.sort();for(var i="{",r=0;r<t.length;r++)0!==r&&(i+=","),i+=Object(o["C"])(t[r]),i+=":",i+=j(e[t[r]]);return i+="}",i},z=function(e,t){var n=e.length;if(n<=t)return[e];for(var i=[],r=0;r<n;r+=t)r+t>n?i.push(e.substring(r,n)):i.push(e.substring(r,r+t));return i};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}var F=function(e){Object(o["d"])(!E(e),"Invalid JSON number");var t,n,i,r,a,s=11,l=52,c=(1<<s-1)-1;0===e?(n=0,i=0,t=1/e===-1/0?1:0):(t=e<0,e=Math.abs(e),e>=Math.pow(2,1-c)?(r=Math.min(Math.floor(Math.log(e)/Math.LN2),c),n=r+c,i=Math.round(e*Math.pow(2,l-r)-Math.pow(2,l))):(n=0,i=Math.round(e/Math.pow(2,1-c-l))));var u=[];for(a=l;a;a-=1)u.push(i%2?1:0),i=Math.floor(i/2);for(a=s;a;a-=1)u.push(n%2?1:0),n=Math.floor(n/2);u.push(t?1:0),u.reverse();var d=u.join(""),h="";for(a=0;a<64;a+=8){var p=parseInt(d.substr(a,8),2).toString(16);1===p.length&&(p="0"+p),h+=p}return h.toLowerCase()},$=function(){return!("object"!==typeof window||!window["chrome"]||!window["chrome"]["extension"]||/^chrome/.test(window.location.href))},B=function(){return"object"===typeof Windows&&"object"===typeof Windows.UI};function K(e,t){var n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");var i=new Error(e+" at "+t._path.toString()+": "+n);return i.code=e.toUpperCase(),i}var W=new RegExp("^-?(0*)\\d{1,10}$"),V=-2147483648,U=2147483647,H=function(e){if(W.test(e)){var t=Number(e);if(t>=V&&t<=U)return t}return null},G=function(e){try{e()}catch(t){setTimeout((function(){var e=t.stack||"";throw O("Exception was thrown by user callback.",e),t}),Math.floor(0))}},X=function(){var e="object"===typeof window&&window["navigator"]&&window["navigator"]["userAgent"]||"";return e.search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Z=function(e,t){var n=setTimeout(e,t);return"object"===typeof n&&n["unref"]&&n["unref"](),n},Y=function(){function e(e,t){var n=this;this.appName_=e,this.appCheckProvider=t,this.appCheck=null===t||void 0===t?void 0:t.getImmediate({optional:!0}),this.appCheck||null===t||void 0===t||t.get().then((function(e){return n.appCheck=e}))}return e.prototype.getToken=function(e){var t=this;return this.appCheck?this.appCheck.getToken(e):new Promise((function(n,i){setTimeout((function(){t.appCheck?t.getToken(e).then(n,i):n(null)}),0)}))},e.prototype.addTokenChangeListener=function(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((function(t){return t.addTokenListener(e)}))},e.prototype.notifyForInvalidToken=function(){O('Provided AppCheck credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly.')},e}(),Q=function(){function e(e,t,n){var i=this;this.appName_=e,this.firebaseOptions_=t,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit((function(e){return i.auth_=e}))}return e.prototype.getToken=function(e){var t=this;return this.auth_?this.auth_.getToken(e).catch((function(e){return e&&"auth/token-not-initialized"===e.code?(S("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)})):new Promise((function(n,i){setTimeout((function(){t.auth_?t.getToken(e).then(n,i):n(null)}),0)}))},e.prototype.addTokenChangeListener=function(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((function(t){return t.addAuthTokenListener(e)}))},e.prototype.removeTokenChangeListener=function(e){this.authProvider_.get().then((function(t){return t.removeAuthTokenListener(e)}))},e.prototype.notifyForInvalidToken=function(){var e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',O(e)},e}(),J=function(){function e(e){this.accessToken=e}return e.prototype.getToken=function(e){return Promise.resolve({accessToken:this.accessToken})},e.prototype.addTokenChangeListener=function(e){e(this.accessToken)},e.prototype.removeTokenChangeListener=function(e){},e.prototype.notifyForInvalidToken=function(){},e.OWNER="owner",e}(),ee="5",te="v",ne="s",ie="r",re="f",oe=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,ae="ls",se="p",le="ac",ce="websocket",ue="long_polling",de=function(){function e(e,t,n,i,r,o,a){void 0===r&&(r=!1),void 0===o&&(o=""),void 0===a&&(a=!1),this.secure=t,this.namespace=n,this.webSocketOnly=i,this.nodeAdmin=r,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=m.get("host:"+e)||this._host}return e.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},e.prototype.isCustomHost=function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain},Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&m.set("host:"+this._host,this.internalHost))},enumerable:!1,configurable:!0}),e.prototype.toString=function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e},e.prototype.toURLString=function(){var e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns="+this.namespace:"";return""+e+this.host+"/"+t},e}();function he(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams}function pe(e,t,n){var i;if(Object(o["d"])("string"===typeof t,"typeof type must == string"),Object(o["d"])("object"===typeof n,"typeof params must == object"),t===ce)i=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==ue)throw new Error("Unknown connection type: "+t);i=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}he(e)&&(n["ns"]=e.namespace);var r=[];return R(n,(function(e,t){r.push(e+"="+t)})),i+r.join("&")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fe=function(){function e(){this.counters_={}}return e.prototype.incrementCounter=function(e,t){void 0===t&&(t=1),Object(o["h"])(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t},e.prototype.get=function(){return Object(o["k"])(this.counters_)},e}(),me={},ge={};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ye(e){var t=e.toString();return me[t]||(me[t]=new fe),me[t]}function ve(e,t){var n=e.toString();return ge[n]||(ge[n]=t()),ge[n]}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var be=function(){function e(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return e.prototype.closeAfter=function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},e.prototype.handleResponse=function(e,t){var n=this;this.pendingResponses[e]=t;var i=function(){var e=r.pendingResponses[r.currentResponseNum];delete r.pendingResponses[r.currentResponseNum];for(var t=function(t){e[t]&&G((function(){n.onMessage_(e[t])}))},i=0;i<e.length;++i)t(i);if(r.currentResponseNum===r.closeAfterResponse)return r.onClose&&(r.onClose(),r.onClose=null),"break";r.currentResponseNum++},r=this;while(this.pendingResponses[this.currentResponseNum]){var o=i();if("break"===o)break}},e}(),_e="start",xe="close",ke="pLPCommand",we="pRTLPCB",Se="id",Me="pw",Ce="ser",Le="cb",Oe="seg",Ae="ts",Ee="d",Te="dframe",Ne=1870,De=30,Pe=Ne-De,qe=25e3,Ie=3e4,je=function(){function e(e,t,n,i,r,o,a){var s=this;this.connId=e,this.repoInfo=t,this.applicationId=n,this.appCheckToken=i,this.authToken=r,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=M(e),this.stats_=ye(t),this.urlFn=function(e){return s.appCheckToken&&(e[le]=s.appCheckToken),pe(t,ue,e)}}return e.prototype.open=function(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new be(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(Ie)),T((function(){if(!n.isClosed_){n.scriptTagHolder=new ze((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var i=Object(a["e"])(e,5),r=i[0],o=i[1],s=i[2];if(i[3],i[4],n.incrementIncomingBytes_(e),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,r===_e)n.id=o,n.password=s;else{if(r!==xe)throw new Error("Unrecognized command received: "+r);o?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(o,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var i=Object(a["e"])(e,2),r=i[0],o=i[1];n.incrementIncomingBytes_(e),n.myPacketOrderer.handleResponse(r,o)}),(function(){n.onClosed_()}),n.urlFn);var e={};e[_e]="t",e[Ce]=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(e[Le]=n.scriptTagHolder.uniqueCallbackIdentifier),e[te]=ee,n.transportSessionId&&(e[ne]=n.transportSessionId),n.lastSessionId&&(e[ae]=n.lastSessionId),n.applicationId&&(e[se]=n.applicationId),n.appCheckToken&&(e[le]=n.appCheckToken),"undefined"!==typeof location&&location.hostname&&oe.test(location.hostname)&&(e[ie]=re);var t=n.urlFn(e);n.log_("Connecting via long-poll to "+t),n.scriptTagHolder.addTag(t,(function(){}))}}))},e.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},e.forceAllow=function(){e.forceAllow_=!0},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){return!Object(o["t"])()&&(!!e.forceAllow_||!e.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!$()&&!B())},e.prototype.markConnectionHealthy=function(){},e.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},e.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},e.prototype.send=function(e){var t=Object(o["C"])(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var n=Object(o["g"])(t),i=z(n,Pe),r=0;r<i.length;r++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[r]),this.curSegmentNum++},e.prototype.addDisconnectPingFrame=function(e,t){if(!Object(o["t"])()){this.myDisconnFrame=document.createElement("iframe");var n={};n[Te]="t",n[Se]=e,n[Me]=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},e.prototype.incrementIncomingBytes_=function(e){var t=Object(o["C"])(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)},e}(),ze=function(){function e(t,n,i,r){if(this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,Object(o["t"])())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=v(),window[ke+this.uniqueCallbackIdentifier]=t,window[we+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var a="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)){var s=document.domain;a='<script>document.domain="'+s+'";<\/script>'}var l="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(l),this.myIFrame.doc.close()}catch(c){S("frame writing exception"),c.stack&&S(c.stack),S(c)}}}return e.createIFrame_=function(){var e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{var t=e.contentWindow.document;t||S("No IE domain setting required")}catch(i){var n=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+n+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e},e.prototype.close=function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)}),Math.floor(0)));var t=this.onDisconnect;t&&(this.onDisconnect=null,t())},e.prototype.startLongPoll=function(e,t){this.myID=e,this.myPW=t,this.alive=!0;while(this.newRequest_());},e.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e[Se]=this.myID,e[Me]=this.myPW,e[Ce]=this.currentSerial;var t=this.urlFn(e),n="",i=0;while(this.pendingSegs.length>0){var r=this.pendingSegs[0];if(!(r.d.length+De+n.length<=Ne))break;var o=this.pendingSegs.shift();n=n+"&"+Oe+i+"="+o.seg+"&"+Ae+i+"="+o.ts+"&"+Ee+i+"="+o.d,i++}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1},e.prototype.enqueueSegment=function(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()},e.prototype.addLongPollTag_=function(e,t){var n=this;this.outstandingRequests.add(t);var i=function(){n.outstandingRequests.delete(t),n.newRequest_()},r=setTimeout(i,Math.floor(qe)),o=function(){clearTimeout(r),i()};this.addTag(e,o)},e.prototype.addTag=function(e,t){var n=this;Object(o["t"])()?this.doNodeLongPoll(e,t):setTimeout((function(){try{if(!n.sendNewPolls)return;var i=n.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){var e=i.readyState;e&&"loaded"!==e&&"complete"!==e||(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),t())},i.onerror=function(){S("Long-poll script failed to load: "+e),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(i)}catch(r){}}),Math.floor(1))},e}(),Re=16384,Fe=45e3,$e=null;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */"undefined"!==typeof MozWebSocket?$e=MozWebSocket:"undefined"!==typeof WebSocket&&($e=WebSocket);var Be=function(){function t(e,n,i,r,o,a,s){this.connId=e,this.applicationId=i,this.appCheckToken=r,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=M(this.connId),this.stats_=ye(n),this.connURL=t.connectionURL_(n,a,s,r),this.nodeAdmin=n.nodeAdmin}return t.connectionURL_=function(e,t,n,i){var r={};return r[te]=ee,!Object(o["t"])()&&"undefined"!==typeof location&&location.hostname&&oe.test(location.hostname)&&(r[ie]=re),t&&(r[ne]=t),n&&(r[ae]=n),i&&(r[le]=i),pe(e,ce,r)},t.prototype.open=function(t,n){var i=this;this.onDisconnect=n,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,m.set("previous_websocket_failure",!0);try{if(Object(o["t"])()){var r=this.nodeAdmin?"AdminNode":"Node",a={headers:{"User-Agent":"Firebase/"+ee+"/"+u+"/"+e.platform+"/"+r,"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(a.headers["Authorization"]="Bearer "+this.authToken),this.appCheckToken&&(a.headers["X-Firebase-AppCheck"]=this.appCheckToken);var s=Object({NODE_ENV:"production",BASE_URL:"/theo-app/"}),l=0===this.connURL.indexOf("wss://")?s["HTTPS_PROXY"]||s["https_proxy"]:s["HTTP_PROXY"]||s["http_proxy"];l&&(a["proxy"]={origin:l}),this.mySock=new $e(this.connURL,[],a)}else{a={headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}};this.mySock=new $e(this.connURL,[],a)}}catch(d){this.log_("Error instantiating WebSocket.");var c=d.message||d.data;return c&&this.log_(c),void this.onClosed_()}this.mySock.onopen=function(){i.log_("Websocket connected."),i.everConnected_=!0},this.mySock.onclose=function(){i.log_("Websocket connection was disconnected."),i.mySock=null,i.onClosed_()},this.mySock.onmessage=function(e){i.handleIncomingFrame(e)},this.mySock.onerror=function(e){i.log_("WebSocket error.  Closing connection.");var t=e.message||e.data;t&&i.log_(t),i.onClosed_()}},t.prototype.start=function(){},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){var e=!1;if("undefined"!==typeof navigator&&navigator.userAgent){var n=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(n);i&&i.length>1&&parseFloat(i[1])<4.4&&(e=!0)}return!e&&null!==$e&&!t.forceDisallow_},t.previouslyFailed=function(){return m.isInMemoryStorage||!0===m.get("previous_websocket_failure")},t.prototype.markConnectionHealthy=function(){m.remove("previous_websocket_failure")},t.prototype.appendFrame_=function(e){if(this.frames.push(e),this.frames.length===this.totalFrames){var t=this.frames.join("");this.frames=null;var n=Object(o["w"])(t);this.onMessage(n)}},t.prototype.handleNewFrameCount_=function(e){this.totalFrames=e,this.frames=[]},t.prototype.extractFrameCount_=function(e){if(Object(o["d"])(null===this.frames,"We already have a frame buffer"),e.length<=6){var t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e},t.prototype.handleIncomingFrame=function(e){if(null!==this.mySock){var t=e["data"];if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{var n=this.extractFrameCount_(t);null!==n&&this.appendFrame_(n)}}},t.prototype.send=function(e){this.resetKeepAlive();var t=Object(o["C"])(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var n=z(t,Re);n.length>1&&this.sendString_(String(n.length));for(var i=0;i<n.length;i++)this.sendString_(n[i])},t.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},t.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},t.prototype.resetKeepAlive=function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()}),Math.floor(Fe))},t.prototype.sendString_=function(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t}(),Ke=function(){function e(e){this.initTransports_(e)}return Object.defineProperty(e,"ALL_TRANSPORTS",{get:function(){return[je,Be]},enumerable:!1,configurable:!0}),e.prototype.initTransports_=function(t){var n,i,r=Be&&Be["isAvailable"](),o=r&&!Be.previouslyFailed();if(t.webSocketOnly&&(r||O("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[Be];else{var s=this.transports_=[];try{for(var l=Object(a["g"])(e.ALL_TRANSPORTS),c=l.next();!c.done;c=l.next()){var u=c.value;u&&u["isAvailable"]()&&s.push(u)}}catch(d){n={error:d}}finally{try{c&&!c.done&&(i=l.return)&&i.call(l)}finally{if(n)throw n.error}}}},e.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},e.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},e}(),We=6e4,Ve=5e3,Ue=10240,He=102400,Ge="t",Xe="d",Ze="s",Ye="r",Qe="e",Je="o",et="a",tt="n",nt="p",it="h",rt=function(){function e(e,t,n,i,r,o,a,s,l,c){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.appCheckToken_=i,this.authToken_=r,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=s,this.onKill_=l,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=M("c:"+this.id+":"),this.transportManager_=new Ke(t),this.log_("Connection created"),this.start_()}return e.prototype.start_=function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t["responsesRequiredToBeHealthy"]||0;var n=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){e.conn_&&e.conn_.open(n,i)}),Math.floor(0));var r=t["healthyTimeout"]||0;r>0&&(this.healthyTimeout_=Z((function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>He?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>Ue?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))}),Math.floor(r)))},e.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},e.prototype.disconnReceiver_=function(e){var t=this;return function(n){e===t.conn_?t.onConnectionLost_(n):e===t.secondaryConn_?(t.log_("Secondary connection lost."),t.onSecondaryConnectionLost_()):t.log_("closing an old connection")}},e.prototype.connReceiver_=function(e){var t=this;return function(n){2!==t.state_&&(e===t.rx_?t.onPrimaryMessageReceived_(n):e===t.secondaryConn_?t.onSecondaryMessageReceived_(n):t.log_("message on old connection"))}},e.prototype.sendRequest=function(e){var t={t:"d",d:e};this.sendData_(t)},e.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},e.prototype.onSecondaryControl_=function(e){if(Ge in e){var t=e[Ge];t===et?this.upgradeIfSecondaryHealthy_():t===Ye?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):t===Je&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},e.prototype.onSecondaryMessageReceived_=function(e){var t=I("t",e),n=I("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}},e.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:nt,d:{}}}))},e.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:et,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:tt,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},e.prototype.onPrimaryMessageReceived_=function(e){var t=I("t",e),n=I("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)},e.prototype.onDataMessage_=function(e){this.onPrimaryResponse_(),this.onMessage_(e)},e.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},e.prototype.onControl_=function(e){var t=I(Ge,e);if(Xe in e){var n=e[Xe];if(t===it)this.onHandshake_(n);else if(t===tt){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else t===Ze?this.onConnectionShutdown_(n):t===Ye?this.onReset_(n):t===Qe?C("Server Error: "+n):t===Je?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):C("Unknown control packet command: "+t)}},e.prototype.onHandshake_=function(e){var t=e.ts,n=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),ee!==n&&O("Protocol version mismatch detected"),this.tryStartUpgrade_())},e.prototype.tryStartUpgrade_=function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)},e.prototype.startUpgrade_=function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e["responsesRequiredToBeHealthy"]||0;var n=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,i),Z((function(){t.secondaryConn_&&(t.log_("Timed out trying to upgrade."),t.secondaryConn_.close())}),Math.floor(We))},e.prototype.onReset_=function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())},e.prototype.onConnectionEstablished_=function(e,t){var n=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Z((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(Ve))},e.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:nt,d:{}}}))},e.prototype.onSecondaryConnectionLost_=function(){var e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()},e.prototype.onConnectionLost_=function(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(m.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},e.prototype.onConnectionShutdown_=function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()},e.prototype.sendData_=function(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)},e.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},e.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},e}(),ot=function(){function e(){}return e.prototype.put=function(e,t,n,i){},e.prototype.merge=function(e,t,n,i){},e.prototype.refreshAuthToken=function(e){},e.prototype.refreshAppCheckToken=function(e){},e.prototype.onDisconnectPut=function(e,t,n){},e.prototype.onDisconnectMerge=function(e,t,n){},e.prototype.onDisconnectCancel=function(e,t){},e.prototype.reportStats=function(e){},e}(),at=function(){function e(e){this.allowedEvents_=e,this.listeners_={},Object(o["d"])(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}return e.prototype.trigger=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Array.isArray(this.listeners_[e]))for(var i=Object(a["f"])([],Object(a["e"])(this.listeners_[e])),r=0;r<i.length;r++)i[r].callback.apply(i[r].context,t)},e.prototype.on=function(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});var i=this.getInitialEvent(e);i&&t.apply(n,i)},e.prototype.off=function(e,t,n){this.validateEventType_(e);for(var i=this.listeners_[e]||[],r=0;r<i.length;r++)if(i[r].callback===t&&(!n||n===i[r].context))return void i.splice(r,1)},e.prototype.validateEventType_=function(e){Object(o["d"])(this.allowedEvents_.find((function(t){return t===e})),"Unknown event: "+e)},e}(),st=function(e){function t(){var t=e.call(this,["online"])||this;return t.online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||Object(o["r"])()||(window.addEventListener("online",(function(){t.online_||(t.online_=!0,t.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){t.online_&&(t.online_=!1,t.trigger("online",!1))}),!1)),t}return Object(a["c"])(t,e),t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(e){return Object(o["d"])("online"===e,"Unknown event type: "+e),[this.online_]},t.prototype.currentlyOnline=function(){return this.online_},t}(at),lt=32,ct=768,ut=function(){function e(e,t){if(void 0===t){this.pieces_=e.split("/");for(var n=0,i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[n]=this.pieces_[i],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}return e.prototype.toString=function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"},e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dt(){return new ut("")}function ht(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function pt(e){return e.pieces_.length-e.pieceNum_}function ft(e){var t=e.pieceNum_;return t<e.pieces_.length&&t++,new ut(e.pieces_,t)}function mt(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function gt(e){for(var t="",n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}function yt(e,t){return void 0===t&&(t=0),e.pieces_.slice(e.pieceNum_+t)}function vt(e){if(e.pieceNum_>=e.pieces_.length)return null;for(var t=[],n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new ut(t,0)}function bt(e,t){for(var n=[],i=e.pieceNum_;i<e.pieces_.length;i++)n.push(e.pieces_[i]);if(t instanceof ut)for(i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);else{var r=t.split("/");for(i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new ut(n,0)}function _t(e){return e.pieceNum_>=e.pieces_.length}function xt(e,t){var n=ht(e),i=ht(t);if(null===n)return t;if(n===i)return xt(ft(e),ft(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function kt(e,t){for(var n=yt(e,0),i=yt(t,0),r=0;r<n.length&&r<i.length;r++){var o=P(n[r],i[r]);if(0!==o)return o}return n.length===i.length?0:n.length<i.length?-1:1}function wt(e,t){if(pt(e)!==pt(t))return!1;for(var n=e.pieceNum_,i=t.pieceNum_;n<=e.pieces_.length;n++,i++)if(e.pieces_[n]!==t.pieces_[i])return!1;return!0}function St(e,t){var n=e.pieceNum_,i=t.pieceNum_;if(pt(e)>pt(t))return!1;while(n<e.pieces_.length){if(e.pieces_[n]!==t.pieces_[i])return!1;++n,++i}return!0}var Mt=function(){function e(e,t){this.errorPrefix_=t,this.parts_=yt(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=Object(o["A"])(this.parts_[n]);Ot(this)}return e}();function Ct(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=Object(o["A"])(t),Ot(e)}function Lt(e){var t=e.parts_.pop();e.byteLength_-=Object(o["A"])(t),e.parts_.length>0&&(e.byteLength_-=1)}function Ot(e){if(e.byteLength_>ct)throw new Error(e.errorPrefix_+"has a key path longer than "+ct+" bytes ("+e.byteLength_+").");if(e.parts_.length>lt)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+lt+") or object contains a cycle "+At(e))}function At(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Et,Tt,Nt=function(e){function t(){var t,n,i=e.call(this,["visible"])||this;return"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document["hidden"]?(n="visibilitychange",t="hidden"):"undefined"!==typeof document["mozHidden"]?(n="mozvisibilitychange",t="mozHidden"):"undefined"!==typeof document["msHidden"]?(n="msvisibilitychange",t="msHidden"):"undefined"!==typeof document["webkitHidden"]&&(n="webkitvisibilitychange",t="webkitHidden")),i.visible_=!0,n&&document.addEventListener(n,(function(){var e=!document[t];e!==i.visible_&&(i.visible_=e,i.trigger("visible",e))}),!1),i}return Object(a["c"])(t,e),t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(e){return Object(o["d"])("visible"===e,"Unknown event type: "+e),[this.visible_]},t}(at),Dt=1e3,Pt=3e5,qt=3e3,It=3e4,jt=1.3,zt=3e4,Rt="server_kill",Ft=3,$t=function(e){function t(n,i,r,a,s,l,c,u){var d=e.call(this)||this;if(d.repoInfo_=n,d.applicationId_=i,d.onDataUpdate_=r,d.onConnectStatus_=a,d.onServerInfoUpdate_=s,d.authTokenProvider_=l,d.appCheckTokenProvider_=c,d.authOverride_=u,d.id=t.nextPersistentConnectionId_++,d.log_=M("p:"+d.id+":"),d.interruptReasons_={},d.listens=new Map,d.outstandingPuts_=[],d.outstandingGets_=[],d.outstandingPutCount_=0,d.outstandingGetCount_=0,d.onDisconnectRequestQueue_=[],d.connected_=!1,d.reconnectDelay_=Dt,d.maxReconnectDelay_=Pt,d.securityDebugCallback_=null,d.lastSessionId=null,d.establishConnectionTimer_=null,d.visible_=!1,d.requestCBHash_={},d.requestNumber_=0,d.realtime_=null,d.authToken_=null,d.appCheckToken_=null,d.forceTokenRefresh_=!1,d.invalidAuthTokenCount_=0,d.invalidAppCheckTokenCount_=0,d.firstConnection_=!0,d.lastConnectionAttemptTime_=null,d.lastConnectionEstablishedTime_=null,u&&!Object(o["t"])())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return Nt.getInstance().on("visible",d.onVisible_,d),-1===n.host.indexOf("fblocal")&&st.getInstance().on("online",d.onOnline_,d),d}return Object(a["c"])(t,e),t.prototype.sendRequest=function(e,t,n){var i=++this.requestNumber_,r={r:i,a:e,b:t};this.log_(Object(o["C"])(r)),Object(o["d"])(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(r),n&&(this.requestCBHash_[i]=n)},t.prototype.get=function(e){var t=this;this.initConnection_();var n=new o["a"],i={p:e._path.toString(),q:e._queryObject},r={action:"g",request:i,onComplete:function(e){var r=e["d"];"ok"===e["s"]?(t.onDataUpdate_(i["p"],r,!1,null),n.resolve(r)):n.reject(r)}};this.outstandingGets_.push(r),this.outstandingGetCount_++;var a=this.outstandingGets_.length-1;return this.connected_||setTimeout((function(){var e=t.outstandingGets_[a];void 0!==e&&r===e&&(delete t.outstandingGets_[a],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),t.log_("get "+a+" timed out on connection"),n.reject(new Error("Client is offline.")))}),qt),this.connected_&&this.sendGet_(a),n.promise},t.prototype.listen=function(e,t,n,i){this.initConnection_();var r=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+r),this.listens.has(a)||this.listens.set(a,new Map),Object(o["d"])(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Object(o["d"])(!this.listens.get(a).has(r),"listen() called twice for same path/queryId.");var s={onComplete:i,hashFn:t,query:e,tag:n};this.listens.get(a).set(r,s),this.connected_&&this.sendListen_(s)},t.prototype.sendGet_=function(e){var t=this,n=this.outstandingGets_[e];this.sendRequest("g",n.request,(function(i){delete t.outstandingGets_[e],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),n.onComplete&&n.onComplete(i)}))},t.prototype.sendListen_=function(e){var n=this,i=e.query,r=i._path.toString(),o=i._queryIdentifier;this.log_("Listen on "+r+" for "+o);var a={p:r},s="q";e.tag&&(a["q"]=i._queryObject,a["t"]=e.tag),a["h"]=e.hashFn(),this.sendRequest(s,a,(function(a){var s=a["d"],l=a["s"];t.warnOnListenWarnings_(s,i);var c=n.listens.get(r)&&n.listens.get(r).get(o);c===e&&(n.log_("listen response",a),"ok"!==l&&n.removeListen_(r,o),e.onComplete&&e.onComplete(l,s))}))},t.warnOnListenWarnings_=function(e,t){if(e&&"object"===typeof e&&Object(o["h"])(e,"w")){var n=Object(o["z"])(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var i='".indexOn": "'+t._queryParams.getIndex().toString()+'"',r=t._path.toString();O("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+i+" at "+r+" to your security rules for better performance.")}}},t.prototype.refreshAuthToken=function(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(e)},t.prototype.reduceReconnectDelayIfAdminCredential_=function(e){var t=e&&40===e.length;(t||Object(o["o"])(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=It)},t.prototype.refreshAppCheckToken=function(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(function(){}))},t.prototype.tryAuth=function(){var e=this;if(this.connected_&&this.authToken_){var t=this.authToken_,n=Object(o["v"])(t)?"auth":"gauth",i={cred:t};null===this.authOverride_?i["noauth"]=!0:"object"===typeof this.authOverride_&&(i["authvar"]=this.authOverride_),this.sendRequest(n,i,(function(n){var i=n["s"],r=n["d"]||"error";e.authToken_===t&&("ok"===i?e.invalidAuthTokenCount_=0:e.onAuthRevoked_(i,r))}))}},t.prototype.tryAppCheck=function(){var e=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(function(t){var n=t["s"],i=t["d"]||"error";"ok"===n?e.invalidAppCheckTokenCount_=0:e.onAppCheckRevoked_(n,i)}))},t.prototype.unlisten=function(e,t){var n=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+i),Object(o["d"])(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query");var r=this.removeListen_(n,i);r&&this.connected_&&this.sendUnlisten_(n,i,e._queryObject,t)},t.prototype.sendUnlisten_=function(e,t,n,i){this.log_("Unlisten on "+e+" for "+t);var r={p:e},o="n";i&&(r["q"]=n,r["t"]=i),this.sendRequest(o,r)},t.prototype.onDisconnectPut=function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})},t.prototype.onDisconnectMerge=function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})},t.prototype.onDisconnectCancel=function(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})},t.prototype.sendOnDisconnect_=function(e,t,n,i){var r={p:t,d:n};this.log_("onDisconnect "+e,r),this.sendRequest(e,r,(function(e){i&&setTimeout((function(){i(e["s"],e["d"])}),Math.floor(0))}))},t.prototype.put=function(e,t,n,i){this.putInternal("p",e,t,n,i)},t.prototype.merge=function(e,t,n,i){this.putInternal("m",e,t,n,i)},t.prototype.putInternal=function(e,t,n,i,r){this.initConnection_();var o={p:t,d:n};void 0!==r&&(o["h"]=r),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;var a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+t)},t.prototype.sendPut_=function(e){var t=this,n=this.outstandingPuts_[e].action,i=this.outstandingPuts_[e].request,r=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,i,(function(i){t.log_(n+" response",i),delete t.outstandingPuts_[e],t.outstandingPutCount_--,0===t.outstandingPutCount_&&(t.outstandingPuts_=[]),r&&r(i["s"],i["d"])}))},t.prototype.reportStats=function(e){var t=this;if(this.connected_){var n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,(function(e){var n=e["s"];if("ok"!==n){var i=e["d"];t.log_("reportStats","Error sending stats: "+i)}}))}},t.prototype.onDataMessage_=function(e){if("r"in e){this.log_("from server: "+Object(o["C"])(e));var t=e["r"],n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e["b"]))}else{if("error"in e)throw"A server-side error has occurred: "+e["error"];"a"in e&&this.onDataPush_(e["a"],e["b"])}},t.prototype.onDataPush_=function(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t["p"],t["d"],!1,t["t"]):"m"===e?this.onDataUpdate_(t["p"],t["d"],!0,t["t"]):"c"===e?this.onListenRevoked_(t["p"],t["q"]):"ac"===e?this.onAuthRevoked_(t["s"],t["d"]):"apc"===e?this.onAppCheckRevoked_(t["s"],t["d"]):"sd"===e?this.onSecurityDebugPacket_(t):C("Unrecognized action received from server: "+Object(o["C"])(e)+"\nAre you using the latest client?")},t.prototype.onReady_=function(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},t.prototype.scheduleConnect_=function(e){var t=this;Object(o["d"])(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){t.establishConnectionTimer_=null,t.establishConnection_()}),Math.floor(e))},t.prototype.initConnection_=function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)},t.prototype.onVisible_=function(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Dt,this.realtime_||this.scheduleConnect_(0)),this.visible_=e},t.prototype.onOnline_=function(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Dt,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},t.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){var e=(new Date).getTime()-this.lastConnectionEstablishedTime_;e>zt&&(this.reconnectDelay_=Dt),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var t=(new Date).getTime()-this.lastConnectionAttemptTime_,n=Math.max(0,this.reconnectDelay_-t);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*jt)}this.onConnectStatus_(!1)},t.prototype.establishConnection_=function(){return Object(a["b"])(this,void 0,void 0,(function(){var e,n,i,r,s,l,c,u,d,h,p,f,m,g,y=this;return Object(a["d"])(this,(function(v){switch(v.label){case 0:if(!this.shouldReconnect_())return[3,4];this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+t.nextConnectionId_++,s=this.lastSessionId,l=!1,c=null,u=function(){c?c.close():(l=!0,i())},d=function(e){Object(o["d"])(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(e)},this.realtime_={close:u,sendRequest:d},h=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,v.label=1;case 1:return v.trys.push([1,3,,4]),[4,Promise.all([this.authTokenProvider_.getToken(h),this.appCheckTokenProvider_.getToken(h)])];case 2:return p=a["e"].apply(void 0,[v.sent(),2]),f=p[0],m=p[1],l?S("getToken() completed but was canceled"):(S("getToken() completed. Creating connection."),this.authToken_=f&&f.accessToken,this.appCheckToken_=m&&m.token,c=new rt(r,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,i,(function(e){O(e+" ("+y.repoInfo_.toString()+")"),y.interrupt(Rt)}),s)),[3,4];case 3:return g=v.sent(),this.log_("Failed to get token: "+g),l||(this.repoInfo_.nodeAdmin&&O(g),u()),[3,4];case 4:return[2]}}))}))},t.prototype.interrupt=function(e){S("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},t.prototype.resume=function(e){S("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Object(o["q"])(this.interruptReasons_)&&(this.reconnectDelay_=Dt,this.realtime_||this.scheduleConnect_(0))},t.prototype.handleTimestamp_=function(e){var t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})},t.prototype.cancelSentTransactions_=function(){for(var e=0;e<this.outstandingPuts_.length;e++){var t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},t.prototype.onListenRevoked_=function(e,t){var n;n=t?t.map((function(e){return j(e)})).join("$"):"default";var i=this.removeListen_(e,n);i&&i.onComplete&&i.onComplete("permission_denied")},t.prototype.removeListen_=function(e,t){var n,i=new ut(e).toString();if(this.listens.has(i)){var r=this.listens.get(i);n=r.get(t),r.delete(t),0===r.size&&this.listens.delete(i)}else n=void 0;return n},t.prototype.onAuthRevoked_=function(e,t){S("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Ft&&(this.reconnectDelay_=It,this.authTokenProvider_.notifyForInvalidToken()))},t.prototype.onAppCheckRevoked_=function(e,t){S("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Ft&&this.appCheckTokenProvider_.notifyForInvalidToken())},t.prototype.onSecurityDebugPacket_=function(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e["msg"].replace("\n","\nFIREBASE: "))},t.prototype.restoreState_=function(){var e,t,n,i;this.tryAuth(),this.tryAppCheck();try{for(var r=Object(a["g"])(this.listens.values()),o=r.next();!o.done;o=r.next()){var s=o.value;try{for(var l=(n=void 0,Object(a["g"])(s.values())),c=l.next();!c.done;c=l.next()){var u=c.value;this.sendListen_(u)}}catch(p){n={error:p}}finally{try{c&&!c.done&&(i=l.return)&&i.call(l)}finally{if(n)throw n.error}}}}catch(f){e={error:f}}finally{try{o&&!o.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}for(var d=0;d<this.outstandingPuts_.length;d++)this.outstandingPuts_[d]&&this.sendPut_(d);while(this.onDisconnectRequestQueue_.length){var h=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(h.action,h.pathString,h.data,h.onComplete)}for(d=0;d<this.outstandingGets_.length;d++)this.outstandingGets_[d]&&this.sendGet_(d)},t.prototype.sendConnectStats_=function(){var e={},t="js";Object(o["t"])()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+u.replace(/\./g,"-")]=1,Object(o["r"])()?e["framework.cordova"]=1:Object(o["u"])()&&(e["framework.reactnative"]=1),this.reportStats(e)},t.prototype.shouldReconnect_=function(){var e=st.getInstance().currentlyOnline();return Object(o["q"])(this.interruptReasons_)&&e},t.nextPersistentConnectionId_=0,t.nextConnectionId_=0,t}(ot),Bt=function(){function e(e,t){this.name=e,this.node=t}return e.Wrap=function(t,n){return new e(t,n)},e}(),Kt=function(){function e(){}return e.prototype.getCompare=function(){return this.compare.bind(this)},e.prototype.indexedValueChanged=function(e,t){var n=new Bt(N,e),i=new Bt(N,t);return 0!==this.compare(n,i)},e.prototype.minPost=function(){return Bt.MIN},e}(),Wt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a["c"])(t,e),Object.defineProperty(t,"__EMPTY_NODE",{get:function(){return Et},set:function(e){Et=e},enumerable:!1,configurable:!0}),t.prototype.compare=function(e,t){return P(e.name,t.name)},t.prototype.isDefinedOn=function(e){throw Object(o["e"])("KeyIndex.isDefinedOn not expected to be called.")},t.prototype.indexedValueChanged=function(e,t){return!1},t.prototype.minPost=function(){return Bt.MIN},t.prototype.maxPost=function(){return new Bt(D,Et)},t.prototype.makePost=function(e,t){return Object(o["d"])("string"===typeof e,"KeyIndex indexValue must always be a string."),new Bt(e,Et)},t.prototype.toString=function(){return".key"},t}(Kt),Vt=new Wt,Ut=function(){function e(e,t,n,i,r){void 0===r&&(r=null),this.isReverse_=i,this.resultGenerator_=r,this.nodeStack_=[];var o=1;while(!e.isEmpty())if(e=e,o=t?n(e.key,t):1,i&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}return e.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_){t=t.left;while(!t.isEmpty())this.nodeStack_.push(t),t=t.right}else{t=t.right;while(!t.isEmpty())this.nodeStack_.push(t),t=t.left}return e},e.prototype.hasNext=function(){return this.nodeStack_.length>0},e.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}},e}(),Ht=function(){function e(t,n,i,r,o){this.key=t,this.value=n,this.color=null!=i?i:e.RED,this.left=null!=r?r:Xt.EMPTY_NODE,this.right=null!=o?o:Xt.EMPTY_NODE}return e.prototype.copy=function(t,n,i,r,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=i?i:this.color,null!=r?r:this.left,null!=o?o:this.right)},e.prototype.count=function(){return this.left.count()+1+this.right.count()},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},e.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},e.prototype.minKey=function(){return this.min_().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(e,t,n){var i=this,r=n(e,i.key);return i=r<0?i.copy(null,null,null,i.left.insert(e,t,n),null):0===r?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,n)),i.fixUp_()},e.prototype.removeMin_=function(){if(this.left.isEmpty())return Xt.EMPTY_NODE;var e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()},e.prototype.remove=function(e,t){var n,i;if(n=this,t(e,n.key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return Xt.EMPTY_NODE;i=n.right.min_(),n=n.copy(i.key,i.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()},e.prototype.isRed_=function(){return this.color},e.prototype.fixUp_=function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e},e.prototype.moveRedLeft_=function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e},e.prototype.moveRedRight_=function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e},e.prototype.rotateLeft_=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight_=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip_=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.checkMaxDepth_=function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1},e.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)},e.RED=!0,e.BLACK=!1,e}(),Gt=function(){function e(){}return e.prototype.copy=function(e,t,n,i,r){return this},e.prototype.insert=function(e,t,n){return new Ht(e,t,null)},e.prototype.remove=function(e,t){return this},e.prototype.count=function(){return 0},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(e){return!1},e.prototype.reverseTraversal=function(e){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.check_=function(){return 0},e.prototype.isRed_=function(){return!1},e}(),Xt=function(){function e(t,n){void 0===n&&(n=e.EMPTY_NODE),this.comparator_=t,this.root_=n}return e.prototype.insert=function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,Ht.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Ht.BLACK,null,null))},e.prototype.get=function(e){var t,n=this.root_;while(!n.isEmpty()){if(t=this.comparator_(e,n.key),0===t)return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null},e.prototype.getPredecessorKey=function(e){var t,n=this.root_,i=null;while(!n.isEmpty()){if(t=this.comparator_(e,n.key),0===t){if(n.left.isEmpty())return i?i.key:null;n=n.left;while(!n.right.isEmpty())n=n.right;return n.key}t<0?n=n.left:t>0&&(i=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},e.prototype.isEmpty=function(){return this.root_.isEmpty()},e.prototype.count=function(){return this.root_.count()},e.prototype.minKey=function(){return this.root_.minKey()},e.prototype.maxKey=function(){return this.root_.maxKey()},e.prototype.inorderTraversal=function(e){return this.root_.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.root_.reverseTraversal(e)},e.prototype.getIterator=function(e){return new Ut(this.root_,null,this.comparator_,!1,e)},e.prototype.getIteratorFrom=function(e,t){return new Ut(this.root_,e,this.comparator_,!1,t)},e.prototype.getReverseIteratorFrom=function(e,t){return new Ut(this.root_,e,this.comparator_,!0,t)},e.prototype.getReverseIterator=function(e){return new Ut(this.root_,null,this.comparator_,!0,e)},e.EMPTY_NODE=new Gt,e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Zt(e,t){return P(e.name,t.name)}function Yt(e,t){return P(e,t)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qt(e){Tt=e}var Jt,en,tn,nn=function(e){return"number"===typeof e?"number:"+F(e):"string:"+e},rn=function(e){if(e.isLeafNode()){var t=e.val();Object(o["d"])("string"===typeof t||"number"===typeof t||"object"===typeof t&&Object(o["h"])(t,".sv"),"Priority must be a string or number.")}else Object(o["d"])(e===Tt||e.isEmpty(),"priority of unexpected type.");Object(o["d"])(e===Tt||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},on=function(){function e(t,n){void 0===n&&(n=e.__childrenNodeConstructor.EMPTY_NODE),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,Object(o["d"])(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),rn(this.priorityNode_)}return Object.defineProperty(e,"__childrenNodeConstructor",{get:function(){return Jt},set:function(e){Jt=e},enumerable:!1,configurable:!0}),e.prototype.isLeafNode=function(){return!0},e.prototype.getPriority=function(){return this.priorityNode_},e.prototype.updatePriority=function(t){return new e(this.value_,t)},e.prototype.getImmediateChild=function(t){return".priority"===t?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.getChild=function(t){return _t(t)?this:".priority"===ht(t)?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.hasChild=function(){return!1},e.prototype.getPredecessorChildName=function(e,t){return null},e.prototype.updateImmediateChild=function(t,n){return".priority"===t?this.updatePriority(n):n.isEmpty()&&".priority"!==t?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)},e.prototype.updateChild=function(t,n){var i=ht(t);return null===i?n:n.isEmpty()&&".priority"!==i?this:(Object(o["d"])(".priority"!==i||1===pt(t),".priority must be the last token in a path"),this.updateImmediateChild(i,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(ft(t),n)))},e.prototype.isEmpty=function(){return!1},e.prototype.numChildren=function(){return 0},e.prototype.forEachChild=function(e,t){return!1},e.prototype.val=function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},e.prototype.hash=function(){if(null===this.lazyHash_){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+nn(this.priorityNode_.val())+":");var t=typeof this.value_;e+=t+":",e+="number"===t?F(this.value_):this.value_,this.lazyHash_=b(e)}return this.lazyHash_},e.prototype.getValue=function(){return this.value_},e.prototype.compareTo=function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:(Object(o["d"])(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))},e.prototype.compareToLeafNode_=function(t){var n=typeof t.value_,i=typeof this.value_,r=e.VALUE_TYPE_ORDER.indexOf(n),a=e.VALUE_TYPE_ORDER.indexOf(i);return Object(o["d"])(r>=0,"Unknown leaf type: "+n),Object(o["d"])(a>=0,"Unknown leaf type: "+i),r===a?"object"===i?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:a-r},e.prototype.withIndex=function(){return this},e.prototype.isIndexed=function(){return!0},e.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode()){var t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1},e.VALUE_TYPE_ORDER=["object","boolean","number","string"],e}();function an(e){en=e}function sn(e){tn=e}var ln,cn,un=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a["c"])(t,e),t.prototype.compare=function(e,t){var n=e.node.getPriority(),i=t.node.getPriority(),r=n.compareTo(i);return 0===r?P(e.name,t.name):r},t.prototype.isDefinedOn=function(e){return!e.getPriority().isEmpty()},t.prototype.indexedValueChanged=function(e,t){return!e.getPriority().equals(t.getPriority())},t.prototype.minPost=function(){return Bt.MIN},t.prototype.maxPost=function(){return new Bt(D,new on("[PRIORITY-POST]",tn))},t.prototype.makePost=function(e,t){var n=en(e);return new Bt(t,new on("[PRIORITY-POST]",n))},t.prototype.toString=function(){return".priority"},t}(Kt),dn=new un,hn=Math.log(2),pn=function(){function e(e){var t=function(e){return parseInt(Math.log(e)/hn,10)},n=function(e){return parseInt(Array(e+1).join("1"),2)};this.count=t(e+1),this.current_=this.count-1;var i=n(this.count);this.bits_=e+1&i}return e.prototype.nextBitIsOne=function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e},e}(),fn=function(e,t,n,i){e.sort(t);var r=function(t,i){var o,a,s=i-t;if(0===s)return null;if(1===s)return o=e[t],a=n?n(o):o,new Ht(a,o.node,Ht.BLACK,null,null);var l=parseInt(s/2,10)+t,c=r(t,l),u=r(l+1,i);return o=e[l],a=n?n(o):o,new Ht(a,o.node,Ht.BLACK,c,u)},o=function(t){for(var i=null,o=null,a=e.length,s=function(t,i){var o=a-t,s=a;a-=t;var c=r(o+1,s),u=e[o],d=n?n(u):u;l(new Ht(d,u.node,i,null,c))},l=function(e){i?(i.left=e,i=e):(o=e,i=e)},c=0;c<t.count;++c){var u=t.nextBitIsOne(),d=Math.pow(2,t.count-(c+1));u?s(d,Ht.BLACK):(s(d,Ht.BLACK),s(d,Ht.RED))}return o},a=new pn(e.length),s=o(a);return new Xt(i||t,s)},mn={},gn=function(){function e(e,t){this.indexes_=e,this.indexSet_=t}return Object.defineProperty(e,"Default",{get:function(){return Object(o["d"])(mn&&dn,"ChildrenNode.ts has not been loaded"),ln=ln||new e({".priority":mn},{".priority":dn}),ln},enumerable:!1,configurable:!0}),e.prototype.get=function(e){var t=Object(o["z"])(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Xt?t:null},e.prototype.hasIndex=function(e){return Object(o["h"])(this.indexSet_,e.toString())},e.prototype.addIndex=function(t,n){Object(o["d"])(t!==Vt,"KeyIndex always exists and isn't meant to be added to the IndexMap.");var i,r=[],s=!1,l=n.getIterator(Bt.Wrap),c=l.getNext();while(c)s=s||t.isDefinedOn(c.node),r.push(c),c=l.getNext();i=s?fn(r,t.getCompare()):mn;var u=t.toString(),d=Object(a["a"])({},this.indexSet_);d[u]=t;var h=Object(a["a"])({},this.indexes_);return h[u]=i,new e(h,d)},e.prototype.addToIndexes=function(t,n){var i=this,r=Object(o["x"])(this.indexes_,(function(e,r){var a=Object(o["z"])(i.indexSet_,r);if(Object(o["d"])(a,"Missing index implementation for "+r),e===mn){if(a.isDefinedOn(t.node)){var s=[],l=n.getIterator(Bt.Wrap),c=l.getNext();while(c)c.name!==t.name&&s.push(c),c=l.getNext();return s.push(t),fn(s,a.getCompare())}return mn}var u=n.get(t.name),d=e;return u&&(d=d.remove(new Bt(t.name,u))),d.insert(t,t.node)}));return new e(r,this.indexSet_)},e.prototype.removeFromIndexes=function(t,n){var i=Object(o["x"])(this.indexes_,(function(e){if(e===mn)return e;var i=n.get(t.name);return i?e.remove(new Bt(t.name,i)):e}));return new e(i,this.indexSet_)},e}(),yn=function(){function e(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&rn(this.priorityNode_),this.children_.isEmpty()&&Object(o["d"])(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(e,"EMPTY_NODE",{get:function(){return cn||(cn=new e(new Xt(Yt),null,gn.Default))},enumerable:!1,configurable:!0}),e.prototype.isLeafNode=function(){return!1},e.prototype.getPriority=function(){return this.priorityNode_||cn},e.prototype.updatePriority=function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)},e.prototype.getImmediateChild=function(e){if(".priority"===e)return this.getPriority();var t=this.children_.get(e);return null===t?cn:t},e.prototype.getChild=function(e){var t=ht(e);return null===t?this:this.getImmediateChild(t).getChild(ft(e))},e.prototype.hasChild=function(e){return null!==this.children_.get(e)},e.prototype.updateImmediateChild=function(t,n){if(Object(o["d"])(n,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(n);var i=new Bt(t,n),r=void 0,a=void 0;n.isEmpty()?(r=this.children_.remove(t),a=this.indexMap_.removeFromIndexes(i,this.children_)):(r=this.children_.insert(t,n),a=this.indexMap_.addToIndexes(i,this.children_));var s=r.isEmpty()?cn:this.priorityNode_;return new e(r,s,a)},e.prototype.updateChild=function(e,t){var n=ht(e);if(null===n)return t;Object(o["d"])(".priority"!==ht(e)||1===pt(e),".priority must be the last token in a path");var i=this.getImmediateChild(n).updateChild(ft(e),t);return this.updateImmediateChild(n,i)},e.prototype.isEmpty=function(){return this.children_.isEmpty()},e.prototype.numChildren=function(){return this.children_.count()},e.prototype.val=function(t){if(this.isEmpty())return null;var n={},i=0,r=0,o=!0;if(this.forEachChild(dn,(function(a,s){n[a]=s.val(t),i++,o&&e.INTEGER_REGEXP_.test(a)?r=Math.max(r,Number(a)):o=!1})),!t&&o&&r<2*i){var a=[];for(var s in n)a[s]=n[s];return a}return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},e.prototype.hash=function(){if(null===this.lazyHash_){var e="";this.getPriority().isEmpty()||(e+="priority:"+nn(this.getPriority().val())+":"),this.forEachChild(dn,(function(t,n){var i=n.hash();""!==i&&(e+=":"+t+":"+i)})),this.lazyHash_=""===e?"":b(e)}return this.lazyHash_},e.prototype.getPredecessorChildName=function(e,t,n){var i=this.resolveIndex_(n);if(i){var r=i.getPredecessorKey(new Bt(e,t));return r?r.name:null}return this.children_.getPredecessorKey(e)},e.prototype.getFirstChildName=function(e){var t=this.resolveIndex_(e);if(t){var n=t.minKey();return n&&n.name}return this.children_.minKey()},e.prototype.getFirstChild=function(e){var t=this.getFirstChildName(e);return t?new Bt(t,this.children_.get(t)):null},e.prototype.getLastChildName=function(e){var t=this.resolveIndex_(e);if(t){var n=t.maxKey();return n&&n.name}return this.children_.maxKey()},e.prototype.getLastChild=function(e){var t=this.getLastChildName(e);return t?new Bt(t,this.children_.get(t)):null},e.prototype.forEachChild=function(e,t){var n=this.resolveIndex_(e);return n?n.inorderTraversal((function(e){return t(e.name,e.node)})):this.children_.inorderTraversal(t)},e.prototype.getIterator=function(e){return this.getIteratorFrom(e.minPost(),e)},e.prototype.getIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(function(e){return e}));var i=this.children_.getIteratorFrom(e.name,Bt.Wrap),r=i.peek();while(null!=r&&t.compare(r,e)<0)i.getNext(),r=i.peek();return i},e.prototype.getReverseIterator=function(e){return this.getReverseIteratorFrom(e.maxPost(),e)},e.prototype.getReverseIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(function(e){return e}));var i=this.children_.getReverseIteratorFrom(e.name,Bt.Wrap),r=i.peek();while(null!=r&&t.compare(r,e)>0)i.getNext(),r=i.peek();return i},e.prototype.compareTo=function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===bn?-1:0},e.prototype.withIndex=function(t){if(t===Vt||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)},e.prototype.isIndexed=function(e){return e===Vt||this.indexMap_.hasIndex(e)},e.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){var n=this.getIterator(dn),i=t.getIterator(dn),r=n.getNext(),o=i.getNext();while(r&&o){if(r.name!==o.name||!r.node.equals(o.node))return!1;r=n.getNext(),o=i.getNext()}return null===r&&null===o}return!1}return!1},e.prototype.resolveIndex_=function(e){return e===Vt?null:this.indexMap_.get(e.toString())},e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,e}(),vn=function(e){function t(){return e.call(this,new Xt(Yt),yn.EMPTY_NODE,gn.Default)||this}return Object(a["c"])(t,e),t.prototype.compareTo=function(e){return e===this?0:1},t.prototype.equals=function(e){return e===this},t.prototype.getPriority=function(){return this},t.prototype.getImmediateChild=function(e){return yn.EMPTY_NODE},t.prototype.isEmpty=function(){return!1},t}(yn),bn=new vn;Object.defineProperties(Bt,{MIN:{value:new Bt(N,yn.EMPTY_NODE)},MAX:{value:new Bt(D,bn)}}),Wt.__EMPTY_NODE=yn.EMPTY_NODE,on.__childrenNodeConstructor=yn,Qt(bn),sn(bn);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var _n=!0;function xn(e,t){if(void 0===t&&(t=null),null===e)return yn.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),Object(o["d"])(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e){var n=e;return new on(n,xn(t))}if(e instanceof Array||!_n){var i=yn.EMPTY_NODE;return R(e,(function(t,n){if(Object(o["h"])(e,t)&&"."!==t.substring(0,1)){var r=xn(n);!r.isLeafNode()&&r.isEmpty()||(i=i.updateImmediateChild(t,r))}})),i.updatePriority(xn(t))}var r=[],a=!1,s=e;if(R(s,(function(e,t){if("."!==e.substring(0,1)){var n=xn(t);n.isEmpty()||(a=a||!n.getPriority().isEmpty(),r.push(new Bt(e,n)))}})),0===r.length)return yn.EMPTY_NODE;var l=fn(r,Zt,(function(e){return e.name}),Yt);if(a){var c=fn(r,dn.getCompare());return new yn(l,xn(t),new gn({".priority":c},{".priority":dn}))}return new yn(l,xn(t),gn.Default)}an(xn);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var kn=function(e){function t(t){var n=e.call(this)||this;return n.indexPath_=t,Object(o["d"])(!_t(t)&&".priority"!==ht(t),"Can't create PathIndex with empty path or .priority key"),n}return Object(a["c"])(t,e),t.prototype.extractChild=function(e){return e.getChild(this.indexPath_)},t.prototype.isDefinedOn=function(e){return!e.getChild(this.indexPath_).isEmpty()},t.prototype.compare=function(e,t){var n=this.extractChild(e.node),i=this.extractChild(t.node),r=n.compareTo(i);return 0===r?P(e.name,t.name):r},t.prototype.makePost=function(e,t){var n=xn(e),i=yn.EMPTY_NODE.updateChild(this.indexPath_,n);return new Bt(t,i)},t.prototype.maxPost=function(){var e=yn.EMPTY_NODE.updateChild(this.indexPath_,bn);return new Bt(D,e)},t.prototype.toString=function(){return yt(this.indexPath_,0).join("/")},t}(Kt),wn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a["c"])(t,e),t.prototype.compare=function(e,t){var n=e.node.compareTo(t.node);return 0===n?P(e.name,t.name):n},t.prototype.isDefinedOn=function(e){return!0},t.prototype.indexedValueChanged=function(e,t){return!e.equals(t)},t.prototype.minPost=function(){return Bt.MIN},t.prototype.maxPost=function(){return Bt.MAX},t.prototype.makePost=function(e,t){var n=xn(e);return new Bt(t,n)},t.prototype.toString=function(){return".value"},t}(Kt),Sn=new wn,Mn="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Cn="-",Ln="z",On=786,An=function(){var e=0,t=[];return function(n){var i,r=n===e;e=n;var a=new Array(8);for(i=7;i>=0;i--)a[i]=Mn.charAt(n%64),n=Math.floor(n/64);Object(o["d"])(0===n,"Cannot push at time == 0");var s=a.join("");if(r){for(i=11;i>=0&&63===t[i];i--)t[i]=0;t[i]++}else for(i=0;i<12;i++)t[i]=Math.floor(64*Math.random());for(i=0;i<12;i++)s+=Mn.charAt(t[i]);return Object(o["d"])(20===s.length,"nextPushId: Length should be 20."),s}}(),En=function(e){if(e===""+U)return Cn;var t=H(e);if(null!=t)return""+(t+1);for(var n=new Array(e.length),i=0;i<n.length;i++)n[i]=e.charAt(i);if(n.length<On)return n.push(Cn),n.join("");var r=n.length-1;while(r>=0&&n[r]===Ln)r--;if(-1===r)return D;var o=n[r],a=Mn.charAt(Mn.indexOf(o)+1);return n[r]=a,n.slice(0,r+1).join("")},Tn=function(e){if(e===""+V)return N;var t=H(e);if(null!=t)return""+(t-1);for(var n=new Array(e.length),i=0;i<n.length;i++)n[i]=e.charAt(i);return n[n.length-1]===Cn?1===n.length?""+U:(delete n[n.length-1],n.join("")):(n[n.length-1]=Mn.charAt(Mn.indexOf(n[n.length-1])-1),n.join("")+Ln.repeat(On-n.length))};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Nn(e){return{type:"value",snapshotNode:e}}function Dn(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function Pn(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function qn(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}function In(e,t){return{type:"child_moved",snapshotNode:t,childName:e}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jn=function(){function e(e){this.index_=e}return e.prototype.updateChild=function(e,t,n,i,r,a){Object(o["d"])(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");var s=e.getImmediateChild(t);return s.getChild(i).equals(n.getChild(i))&&s.isEmpty()===n.isEmpty()?e:(null!=a&&(n.isEmpty()?e.hasChild(t)?a.trackChildChange(Pn(t,s)):Object(o["d"])(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):s.isEmpty()?a.trackChildChange(Dn(t,n)):a.trackChildChange(qn(t,n,s))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))},e.prototype.updateFullNode=function(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(dn,(function(e,i){t.hasChild(e)||n.trackChildChange(Pn(e,i))})),t.isLeafNode()||t.forEachChild(dn,(function(t,i){if(e.hasChild(t)){var r=e.getImmediateChild(t);r.equals(i)||n.trackChildChange(qn(t,i,r))}else n.trackChildChange(Dn(t,i))}))),t.withIndex(this.index_)},e.prototype.updatePriority=function(e,t){return e.isEmpty()?yn.EMPTY_NODE:e.updatePriority(t)},e.prototype.filtersNodes=function(){return!1},e.prototype.getIndexedFilter=function(){return this},e.prototype.getIndex=function(){return this.index_},e}(),zn=function(){function e(t){this.indexedFilter_=new jn(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t)}return e.prototype.getStartPost=function(){return this.startPost_},e.prototype.getEndPost=function(){return this.endPost_},e.prototype.matches=function(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0},e.prototype.updateChild=function(e,t,n,i,r,o){return this.matches(new Bt(t,n))||(n=yn.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,i,r,o)},e.prototype.updateFullNode=function(e,t,n){t.isLeafNode()&&(t=yn.EMPTY_NODE);var i=t.withIndex(this.index_);i=i.updatePriority(yn.EMPTY_NODE);var r=this;return t.forEachChild(dn,(function(e,t){r.matches(new Bt(e,t))||(i=i.updateImmediateChild(e,yn.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(e,i,n)},e.prototype.updatePriority=function(e,t){return e},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.indexedFilter_},e.prototype.getIndex=function(){return this.index_},e.getStartPost_=function(e){if(e.hasStart()){var t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()},e.getEndPost_=function(e){if(e.hasEnd()){var t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()},e}(),Rn=function(){function e(e){this.rangedFilter_=new zn(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft()}return e.prototype.updateChild=function(e,t,n,i,r,o){return this.rangedFilter_.matches(new Bt(t,n))||(n=yn.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,i,r,o):this.fullLimitUpdateChild_(e,t,n,r,o)},e.prototype.updateFullNode=function(e,t,n){var i;if(t.isLeafNode()||t.isEmpty())i=yn.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){i=yn.EMPTY_NODE.withIndex(this.index_);var r=void 0;r=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);var o=0;while(r.hasNext()&&o<this.limit_){var a=r.getNext(),s=void 0;if(s=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),a)<=0:this.index_.compare(a,this.rangedFilter_.getEndPost())<=0,!s)break;i=i.updateImmediateChild(a.name,a.node),o++}}else{i=t.withIndex(this.index_),i=i.updatePriority(yn.EMPTY_NODE);var l=void 0,c=void 0,u=void 0;r=void 0;if(this.reverse_){r=i.getReverseIterator(this.index_),l=this.rangedFilter_.getEndPost(),c=this.rangedFilter_.getStartPost();var d=this.index_.getCompare();u=function(e,t){return d(t,e)}}else r=i.getIterator(this.index_),l=this.rangedFilter_.getStartPost(),c=this.rangedFilter_.getEndPost(),u=this.index_.getCompare();o=0;var h=!1;while(r.hasNext()){a=r.getNext();!h&&u(l,a)<=0&&(h=!0);s=h&&o<this.limit_&&u(a,c)<=0;s?o++:i=i.updateImmediateChild(a.name,yn.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,n)},e.prototype.updatePriority=function(e,t){return e},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},e.prototype.getIndex=function(){return this.index_},e.prototype.fullLimitUpdateChild_=function(e,t,n,i,r){var a;if(this.reverse_){var s=this.index_.getCompare();a=function(e,t){return s(t,e)}}else a=this.index_.getCompare();var l=e;Object(o["d"])(l.numChildren()===this.limit_,"");var c=new Bt(t,n),u=this.reverse_?l.getFirstChild(this.index_):l.getLastChild(this.index_),d=this.rangedFilter_.matches(c);if(l.hasChild(t)){var h=l.getImmediateChild(t),p=i.getChildAfterChild(this.index_,u,this.reverse_);while(null!=p&&(p.name===t||l.hasChild(p.name)))p=i.getChildAfterChild(this.index_,p,this.reverse_);var f=null==p?1:a(p,c),m=d&&!n.isEmpty()&&f>=0;if(m)return null!=r&&r.trackChildChange(qn(t,n,h)),l.updateImmediateChild(t,n);null!=r&&r.trackChildChange(Pn(t,h));var g=l.updateImmediateChild(t,yn.EMPTY_NODE),y=null!=p&&this.rangedFilter_.matches(p);return y?(null!=r&&r.trackChildChange(Dn(p.name,p.node)),g.updateImmediateChild(p.name,p.node)):g}return n.isEmpty()?e:d&&a(u,c)>=0?(null!=r&&(r.trackChildChange(Pn(u.name,u.node)),r.trackChildChange(Dn(t,n))),l.updateImmediateChild(t,n).updateImmediateChild(u.name,yn.EMPTY_NODE)):e},e}(),Fn=function(){function e(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=dn}return e.prototype.hasStart=function(){return this.startSet_},e.prototype.hasStartAfter=function(){return this.startAfterSet_},e.prototype.hasEndBefore=function(){return this.endBeforeSet_},e.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_},e.prototype.getIndexStartValue=function(){return Object(o["d"])(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},e.prototype.getIndexStartName=function(){return Object(o["d"])(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:N},e.prototype.hasEnd=function(){return this.endSet_},e.prototype.getIndexEndValue=function(){return Object(o["d"])(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},e.prototype.getIndexEndName=function(){return Object(o["d"])(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:D},e.prototype.hasLimit=function(){return this.limitSet_},e.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},e.prototype.getLimit=function(){return Object(o["d"])(this.limitSet_,"Only valid if limit has been set"),this.limit_},e.prototype.getIndex=function(){return this.index_},e.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},e.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===dn},e.prototype.copy=function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t},e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $n(e){return e.loadsAllData()?new jn(e.getIndex()):e.hasLimit()?new Rn(e):new zn(e)}function Bn(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="l",n}function Kn(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="r",n}function Wn(e,t,n){var i=e.copy();return i.startSet_=!0,void 0===t&&(t=null),i.indexStartValue_=t,null!=n?(i.startNameSet_=!0,i.indexStartName_=n):(i.startNameSet_=!1,i.indexStartName_=""),i}function Vn(e,t,n){var i;if(e.index_===Vt)"string"===typeof t&&(t=En(t)),i=Wn(e,t,n);else{var r=void 0;r=null==n?D:En(n),i=Wn(e,t,r)}return i.startAfterSet_=!0,i}function Un(e,t,n){var i=e.copy();return i.endSet_=!0,void 0===t&&(t=null),i.indexEndValue_=t,void 0!==n?(i.endNameSet_=!0,i.indexEndName_=n):(i.endNameSet_=!1,i.indexEndName_=""),i}function Hn(e,t,n){var i,r;return e.index_===Vt?("string"===typeof t&&(t=Tn(t)),r=Un(e,t,n)):(i=null==n?N:Tn(n),r=Un(e,t,i)),r.endBeforeSet_=!0,r}function Gn(e,t){var n=e.copy();return n.index_=t,n}function Xn(e){var t,n={};return e.isDefault()||(e.index_===dn?t="$priority":e.index_===Sn?t="$value":e.index_===Vt?t="$key":(Object(o["d"])(e.index_ instanceof kn,"Unrecognized index type!"),t=e.index_.toString()),n["orderBy"]=Object(o["C"])(t),e.startSet_&&(n["startAt"]=Object(o["C"])(e.indexStartValue_),e.startNameSet_&&(n["startAt"]+=","+Object(o["C"])(e.indexStartName_))),e.endSet_&&(n["endAt"]=Object(o["C"])(e.indexEndValue_),e.endNameSet_&&(n["endAt"]+=","+Object(o["C"])(e.indexEndName_))),e.limitSet_&&(e.isViewFromLeft()?n["limitToFirst"]=e.limit_:n["limitToLast"]=e.limit_)),n}function Zn(e){var t={};if(e.startSet_&&(t["sp"]=e.indexStartValue_,e.startNameSet_&&(t["sn"]=e.indexStartName_)),e.endSet_&&(t["ep"]=e.indexEndValue_,e.endNameSet_&&(t["en"]=e.indexEndName_)),e.limitSet_){t["l"]=e.limit_;var n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t["vf"]=n}return e.index_!==dn&&(t["i"]=e.index_.toString()),t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yn=function(e){function t(t,n,i,r){var o=e.call(this)||this;return o.repoInfo_=t,o.onDataUpdate_=n,o.authTokenProvider_=i,o.appCheckTokenProvider_=r,o.log_=M("p:rest:"),o.listens_={},o}return Object(a["c"])(t,e),t.prototype.reportStats=function(e){throw new Error("Method not implemented.")},t.getListenId_=function(e,t){return void 0!==t?"tag$"+t:(Object(o["d"])(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())},t.prototype.listen=function(e,n,i,r){var a=this,s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);var l=t.getListenId_(e,i),c={};this.listens_[l]=c;var u=Xn(e._queryParams);this.restRequest_(s+".json",u,(function(e,t){var n,u=t;(404===e&&(u=null,e=null),null===e&&a.onDataUpdate_(s,u,!1,i),Object(o["z"])(a.listens_,l)===c)&&(n=e?401===e?"permission_denied":"rest_error:"+e:"ok",r(n,null))}))},t.prototype.unlisten=function(e,n){var i=t.getListenId_(e,n);delete this.listens_[i]},t.prototype.get=function(e){var t=this,n=Xn(e._queryParams),i=e._path.toString(),r=new o["a"];return this.restRequest_(i+".json",n,(function(e,n){var o=n;404===e&&(o=null,e=null),null===e?(t.onDataUpdate_(i,o,!1,null),r.resolve(o)):r.reject(new Error(o))})),r.promise},t.prototype.refreshAuthToken=function(e){},t.prototype.restRequest_=function(e,t,n){var i=this;return void 0===t&&(t={}),t["format"]="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((function(r){var s=Object(a["e"])(r,2),l=s[0],c=s[1];l&&l.accessToken&&(t["auth"]=l.accessToken),c&&c.token&&(t["ac"]=c.token);var u=(i.repoInfo_.secure?"https://":"http://")+i.repoInfo_.host+e+"?ns="+i.repoInfo_.namespace+Object(o["y"])(t);i.log_("Sending REST request for "+u);var d=new XMLHttpRequest;d.onreadystatechange=function(){if(n&&4===d.readyState){i.log_("REST Response for "+u+" received. status:",d.status,"response:",d.responseText);var e=null;if(d.status>=200&&d.status<300){try{e=Object(o["w"])(d.responseText)}catch(t){O("Failed to parse JSON response for "+u+": "+d.responseText)}n(null,e)}else 401!==d.status&&404!==d.status&&O("Got unsuccessful REST response for "+u+" Status: "+d.status),n(d.status);n=null}},d.open("GET",u,!0),d.send()}))},t}(ot),Qn=function(){function e(){this.rootNode_=yn.EMPTY_NODE}return e.prototype.getNode=function(e){return this.rootNode_.getChild(e)},e.prototype.updateSnapshot=function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)},e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Jn(){return{value:null,children:new Map}}function ei(e,t,n){if(_t(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{var i=ht(t);e.children.has(i)||e.children.set(i,Jn());var r=e.children.get(i);t=ft(t),ei(r,t,n)}}function ti(e,t){if(_t(t))return e.value=null,e.children.clear(),!0;if(null!==e.value){if(e.value.isLeafNode())return!1;var n=e.value;return e.value=null,n.forEachChild(dn,(function(t,n){ei(e,new ut(t),n)})),ti(e,t)}if(e.children.size>0){var i=ht(t);if(t=ft(t),e.children.has(i)){var r=ti(e.children.get(i),t);r&&e.children.delete(i)}return 0===e.children.size}return!0}function ni(e,t,n){null!==e.value?n(t,e.value):ii(e,(function(e,i){var r=new ut(t.toString()+"/"+e);ni(i,r,n)}))}function ii(e,t){e.children.forEach((function(e,n){t(n,e)}))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ri,oi=function(){function e(e){this.collection_=e,this.last_=null}return e.prototype.get=function(){var e=this.collection_.get(),t=Object(a["a"])({},e);return this.last_&&R(this.last_,(function(e,n){t[e]=t[e]-n})),this.last_=e,t},e}(),ai=1e4,si=3e4,li=3e5,ci=function(){function e(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new oi(e);var n=ai+(si-ai)*Math.random();Z(this.reportStats_.bind(this),Math.floor(n))}return e.prototype.reportStats_=function(){var e=this,t=this.statsListener_.get(),n={},i=!1;R(t,(function(t,r){r>0&&Object(o["h"])(e.statsToReport_,t)&&(n[t]=r,i=!0)})),i&&this.server_.reportStats(n),Z(this.reportStats_.bind(this),Math.floor(2*Math.random()*li))},e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ui(e,t){e.statsToReport_[t]=!0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function di(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function hi(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function pi(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(e){e[e["OVERWRITE"]=0]="OVERWRITE",e[e["MERGE"]=1]="MERGE",e[e["ACK_USER_WRITE"]=2]="ACK_USER_WRITE",e[e["LISTEN_COMPLETE"]=3]="LISTEN_COMPLETE"})(ri||(ri={}));var fi,mi=function(){function e(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=ri.ACK_USER_WRITE,this.source=di()}return e.prototype.operationForChild=function(t){if(_t(this.path)){if(null!=this.affectedTree.value)return Object(o["d"])(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new ut(t));return new e(dt(),n,this.revert)}return Object(o["d"])(ht(this.path)===t,"operationForChild called for unrelated child."),new e(ft(this.path),this.affectedTree,this.revert)},e}(),gi=function(){function e(e,t){this.source=e,this.path=t,this.type=ri.LISTEN_COMPLETE}return e.prototype.operationForChild=function(t){return _t(this.path)?new e(this.source,dt()):new e(this.source,ft(this.path))},e}(),yi=function(){function e(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=ri.OVERWRITE}return e.prototype.operationForChild=function(t){return _t(this.path)?new e(this.source,dt(),this.snap.getImmediateChild(t)):new e(this.source,ft(this.path),this.snap)},e}(),vi=function(){function e(e,t,n){this.source=e,this.path=t,this.children=n,this.type=ri.MERGE}return e.prototype.operationForChild=function(t){if(_t(this.path)){var n=this.children.subtree(new ut(t));return n.isEmpty()?null:n.value?new yi(this.source,dt(),n.value):new e(this.source,dt(),n)}return Object(o["d"])(ht(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,ft(this.path),this.children)},e.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},e}(),bi=function(){function e(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}return e.prototype.isFullyInitialized=function(){return this.fullyInitialized_},e.prototype.isFiltered=function(){return this.filtered_},e.prototype.isCompleteForPath=function(e){if(_t(e))return this.isFullyInitialized()&&!this.filtered_;var t=ht(e);return this.isCompleteForChild(t)},e.prototype.isCompleteForChild=function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)},e.prototype.getNode=function(){return this.node_},e}(),_i=function(){function e(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}return e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xi(e,t,n,i){var r=[],o=[];return t.forEach((function(t){"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&o.push(In(t.childName,t.snapshotNode))})),ki(e,r,"child_removed",t,i,n),ki(e,r,"child_added",t,i,n),ki(e,r,"child_moved",o,i,n),ki(e,r,"child_changed",t,i,n),ki(e,r,"value",t,i,n),r}function ki(e,t,n,i,r,o){var a=i.filter((function(e){return e.type===n}));a.sort((function(t,n){return Si(e,t,n)})),a.forEach((function(n){var i=wi(e,n,o);r.forEach((function(r){r.respondsTo(n.type)&&t.push(r.createEvent(i,e.query_))}))}))}function wi(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}function Si(e,t,n){if(null==t.childName||null==n.childName)throw Object(o["e"])("Should only compare child_ events.");var i=new Bt(t.childName,t.snapshotNode),r=new Bt(n.childName,n.snapshotNode);return e.index_.compare(i,r)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mi(e,t){return{eventCache:e,serverCache:t}}function Ci(e,t,n,i){return Mi(new bi(t,n,i),e.serverCache)}function Li(e,t,n,i){return Mi(e.eventCache,new bi(t,n,i))}function Oi(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function Ai(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ei=function(){return fi||(fi=new Xt(q)),fi},Ti=function(){function e(e,t){void 0===t&&(t=Ei()),this.value=e,this.children=t}return e.fromObject=function(t){var n=new e(null);return R(t,(function(e,t){n=n.set(new ut(e),t)})),n},e.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},e.prototype.findRootMostMatchingPathAndValue=function(e,t){if(null!=this.value&&t(this.value))return{path:dt(),value:this.value};if(_t(e))return null;var n=ht(e),i=this.children.get(n);if(null!==i){var r=i.findRootMostMatchingPathAndValue(ft(e),t);if(null!=r){var o=bt(new ut(n),r.path);return{path:o,value:r.value}}return null}return null},e.prototype.findRootMostValueAndPath=function(e){return this.findRootMostMatchingPathAndValue(e,(function(){return!0}))},e.prototype.subtree=function(t){if(_t(t))return this;var n=ht(t),i=this.children.get(n);return null!==i?i.subtree(ft(t)):new e(null)},e.prototype.set=function(t,n){if(_t(t))return new e(n,this.children);var i=ht(t),r=this.children.get(i)||new e(null),o=r.set(ft(t),n),a=this.children.insert(i,o);return new e(this.value,a)},e.prototype.remove=function(t){if(_t(t))return this.children.isEmpty()?new e(null):new e(null,this.children);var n=ht(t),i=this.children.get(n);if(i){var r=i.remove(ft(t)),o=void 0;return o=r.isEmpty()?this.children.remove(n):this.children.insert(n,r),null===this.value&&o.isEmpty()?new e(null):new e(this.value,o)}return this},e.prototype.get=function(e){if(_t(e))return this.value;var t=ht(e),n=this.children.get(t);return n?n.get(ft(e)):null},e.prototype.setTree=function(t,n){if(_t(t))return n;var i=ht(t),r=this.children.get(i)||new e(null),o=r.setTree(ft(t),n),a=void 0;return a=o.isEmpty()?this.children.remove(i):this.children.insert(i,o),new e(this.value,a)},e.prototype.fold=function(e){return this.fold_(dt(),e)},e.prototype.fold_=function(e,t){var n={};return this.children.inorderTraversal((function(i,r){n[i]=r.fold_(bt(e,i),t)})),t(e,this.value,n)},e.prototype.findOnPath=function(e,t){return this.findOnPath_(e,dt(),t)},e.prototype.findOnPath_=function(e,t,n){var i=!!this.value&&n(t,this.value);if(i)return i;if(_t(e))return null;var r=ht(e),o=this.children.get(r);return o?o.findOnPath_(ft(e),bt(t,r),n):null},e.prototype.foreachOnPath=function(e,t){return this.foreachOnPath_(e,dt(),t)},e.prototype.foreachOnPath_=function(t,n,i){if(_t(t))return this;this.value&&i(n,this.value);var r=ht(t),o=this.children.get(r);return o?o.foreachOnPath_(ft(t),bt(n,r),i):new e(null)},e.prototype.foreach=function(e){this.foreach_(dt(),e)},e.prototype.foreach_=function(e,t){this.children.inorderTraversal((function(n,i){i.foreach_(bt(e,n),t)})),this.value&&t(e,this.value)},e.prototype.foreachChild=function(e){this.children.inorderTraversal((function(t,n){n.value&&e(t,n.value)}))},e}(),Ni=function(){function e(e){this.writeTree_=e}return e.empty=function(){return new e(new Ti(null))},e}();function Di(e,t,n){if(_t(t))return new Ni(new Ti(n));var i=e.writeTree_.findRootMostValueAndPath(t);if(null!=i){var r=i.path,o=i.value,a=xt(r,t);return o=o.updateChild(a,n),new Ni(e.writeTree_.set(r,o))}var s=new Ti(n),l=e.writeTree_.setTree(t,s);return new Ni(l)}function Pi(e,t,n){var i=e;return R(n,(function(e,n){i=Di(i,bt(t,e),n)})),i}function qi(e,t){if(_t(t))return Ni.empty();var n=e.writeTree_.setTree(t,new Ti(null));return new Ni(n)}function Ii(e,t){return null!=ji(e,t)}function ji(e,t){var n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(xt(n.path,t)):null}function zi(e){var t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(dn,(function(e,n){t.push(new Bt(e,n))})):e.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new Bt(e,n.value))})),t}function Ri(e,t){if(_t(t))return e;var n=ji(e,t);return new Ni(null!=n?new Ti(n):e.writeTree_.subtree(t))}function Fi(e){return e.writeTree_.isEmpty()}function $i(e,t){return Bi(dt(),e.writeTree_,t)}function Bi(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);var i=null;return t.children.inorderTraversal((function(t,r){".priority"===t?(Object(o["d"])(null!==r.value,"Priority writes must always be leaf nodes"),i=r.value):n=Bi(bt(e,t),r,n)})),n.getChild(e).isEmpty()||null===i||(n=n.updateChild(bt(e,".priority"),i)),n}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ki(e,t){return hr(t,e)}function Wi(e,t,n,i,r){Object(o["d"])(i>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),e.allWrites.push({path:t,snap:n,writeId:i,visible:r}),r&&(e.visibleWrites=Di(e.visibleWrites,t,n)),e.lastWriteId=i}function Vi(e,t,n,i){Object(o["d"])(i>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:i,visible:!0}),e.visibleWrites=Pi(e.visibleWrites,t,n),e.lastWriteId=i}function Ui(e,t){for(var n=0;n<e.allWrites.length;n++){var i=e.allWrites[n];if(i.writeId===t)return i}return null}function Hi(e,t){var n=e.allWrites.findIndex((function(e){return e.writeId===t}));Object(o["d"])(n>=0,"removeWrite called with nonexistent writeId.");var i=e.allWrites[n];e.allWrites.splice(n,1);var r=i.visible,a=!1,s=e.allWrites.length-1;while(r&&s>=0){var l=e.allWrites[s];l.visible&&(s>=n&&Gi(l,i.path)?r=!1:St(i.path,l.path)&&(a=!0)),s--}if(r){if(a)return Xi(e),!0;if(i.snap)e.visibleWrites=qi(e.visibleWrites,i.path);else{var c=i.children;R(c,(function(t){e.visibleWrites=qi(e.visibleWrites,bt(i.path,t))}))}return!0}return!1}function Gi(e,t){if(e.snap)return St(e.path,t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&St(bt(e.path,n),t))return!0;return!1}function Xi(e){e.visibleWrites=Yi(e.allWrites,Zi,dt()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}function Zi(e){return e.visible}function Yi(e,t,n){for(var i=Ni.empty(),r=0;r<e.length;++r){var a=e[r];if(t(a)){var s=a.path,l=void 0;if(a.snap)St(n,s)?(l=xt(n,s),i=Di(i,l,a.snap)):St(s,n)&&(l=xt(s,n),i=Di(i,dt(),a.snap.getChild(l)));else{if(!a.children)throw Object(o["e"])("WriteRecord should have .snap or .children");if(St(n,s))l=xt(n,s),i=Pi(i,l,a.children);else if(St(s,n))if(l=xt(s,n),_t(l))i=Pi(i,dt(),a.children);else{var c=Object(o["z"])(a.children,ht(l));if(c){var u=c.getChild(ft(l));i=Di(i,dt(),u)}}}}}return i}function Qi(e,t,n,i,r){if(i||r){var o=Ri(e.visibleWrites,t);if(!r&&Fi(o))return n;if(r||null!=n||Ii(o,dt())){var a=function(e){return(e.visible||r)&&(!i||!~i.indexOf(e.writeId))&&(St(e.path,t)||St(t,e.path))},s=Yi(e.allWrites,a,t);u=n||yn.EMPTY_NODE;return $i(s,u)}return null}var l=ji(e.visibleWrites,t);if(null!=l)return l;var c=Ri(e.visibleWrites,t);if(Fi(c))return n;if(null!=n||Ii(c,dt())){var u=n||yn.EMPTY_NODE;return $i(c,u)}return null}function Ji(e,t,n){var i=yn.EMPTY_NODE,r=ji(e.visibleWrites,t);if(r)return r.isLeafNode()||r.forEachChild(dn,(function(e,t){i=i.updateImmediateChild(e,t)})),i;if(n){var o=Ri(e.visibleWrites,t);return n.forEachChild(dn,(function(e,t){var n=$i(Ri(o,new ut(e)),t);i=i.updateImmediateChild(e,n)})),zi(o).forEach((function(e){i=i.updateImmediateChild(e.name,e.node)})),i}var a=Ri(e.visibleWrites,t);return zi(a).forEach((function(e){i=i.updateImmediateChild(e.name,e.node)})),i}function er(e,t,n,i,r){Object(o["d"])(i||r,"Either existingEventSnap or existingServerSnap must exist");var a=bt(t,n);if(Ii(e.visibleWrites,a))return null;var s=Ri(e.visibleWrites,a);return Fi(s)?r.getChild(n):$i(s,r.getChild(n))}function tr(e,t,n,i){var r=bt(t,n),o=ji(e.visibleWrites,r);if(null!=o)return o;if(i.isCompleteForChild(n)){var a=Ri(e.visibleWrites,r);return $i(a,i.getNode().getImmediateChild(n))}return null}function nr(e,t){return ji(e.visibleWrites,t)}function ir(e,t,n,i,r,o,a){var s,l=Ri(e.visibleWrites,t),c=ji(l,dt());if(null!=c)s=c;else{if(null==n)return[];s=$i(l,n)}if(s=s.withIndex(a),s.isEmpty()||s.isLeafNode())return[];var u=[],d=a.getCompare(),h=o?s.getReverseIteratorFrom(i,a):s.getIteratorFrom(i,a),p=h.getNext();while(p&&u.length<r)0!==d(p,i)&&u.push(p),p=h.getNext();return u}function rr(){return{visibleWrites:Ni.empty(),allWrites:[],lastWriteId:-1}}function or(e,t,n,i){return Qi(e.writeTree,e.treePath,t,n,i)}function ar(e,t){return Ji(e.writeTree,e.treePath,t)}function sr(e,t,n,i){return er(e.writeTree,e.treePath,t,n,i)}function lr(e,t){return nr(e.writeTree,bt(e.treePath,t))}function cr(e,t,n,i,r,o){return ir(e.writeTree,e.treePath,t,n,i,r,o)}function ur(e,t,n){return tr(e.writeTree,e.treePath,t,n)}function dr(e,t){return hr(bt(e.treePath,t),e.writeTree)}function hr(e,t){return{treePath:e,writeTree:t}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pr=function(){function e(){this.changeMap=new Map}return e.prototype.trackChildChange=function(e){var t=e.type,n=e.childName;Object(o["d"])("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),Object(o["d"])(".priority"!==n,"Only non-priority child changes can be tracked.");var i=this.changeMap.get(n);if(i){var r=i.type;if("child_added"===t&&"child_removed"===r)this.changeMap.set(n,qn(n,e.snapshotNode,i.snapshotNode));else if("child_removed"===t&&"child_added"===r)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===r)this.changeMap.set(n,Pn(n,i.oldSnap));else if("child_changed"===t&&"child_added"===r)this.changeMap.set(n,Dn(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==r)throw Object(o["e"])("Illegal combination of changes: "+e+" occurred after "+i);this.changeMap.set(n,qn(n,e.snapshotNode,i.oldSnap))}}else this.changeMap.set(n,e)},e.prototype.getChanges=function(){return Array.from(this.changeMap.values())},e}(),fr=function(){function e(){}return e.prototype.getCompleteChild=function(e){return null},e.prototype.getChildAfterChild=function(e,t,n){return null},e}(),mr=new fr,gr=function(){function e(e,t,n){void 0===n&&(n=null),this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}return e.prototype.getCompleteChild=function(e){var t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);var n=null!=this.optCompleteServerCache_?new bi(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return ur(this.writes_,e,n)},e.prototype.getChildAfterChild=function(e,t,n){var i=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Ai(this.viewCache_),r=cr(this.writes_,i,t,1,n,e);return 0===r.length?null:r[0]},e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function yr(e){return{filter:e}}function vr(e,t){Object(o["d"])(t.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),Object(o["d"])(t.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}function br(e,t,n,i,r){var a,s,l=new pr;if(n.type===ri.OVERWRITE){var c=n;c.source.fromUser?a=wr(e,t,c.path,c.snap,i,r,l):(Object(o["d"])(c.source.fromServer,"Unknown source."),s=c.source.tagged||t.serverCache.isFiltered()&&!_t(c.path),a=kr(e,t,c.path,c.snap,i,r,s,l))}else if(n.type===ri.MERGE){var u=n;u.source.fromUser?a=Mr(e,t,u.path,u.children,i,r,l):(Object(o["d"])(u.source.fromServer,"Unknown source."),s=u.source.tagged||t.serverCache.isFiltered(),a=Lr(e,t,u.path,u.children,i,r,s,l))}else if(n.type===ri.ACK_USER_WRITE){var d=n;a=d.revert?Er(e,t,d.path,i,r,l):Or(e,t,d.path,d.affectedTree,i,r,l)}else{if(n.type!==ri.LISTEN_COMPLETE)throw Object(o["e"])("Unknown operation type: "+n.type);a=Ar(e,t,n.path,i,l)}var h=l.getChanges();return _r(t,a,h),{viewCache:a,changes:h}}function _r(e,t,n){var i=t.eventCache;if(i.isFullyInitialized()){var r=i.getNode().isLeafNode()||i.getNode().isEmpty(),o=Oi(e);(n.length>0||!e.eventCache.isFullyInitialized()||r&&!i.getNode().equals(o)||!i.getNode().getPriority().equals(o.getPriority()))&&n.push(Nn(Oi(t)))}}function xr(e,t,n,i,r,a){var s=t.eventCache;if(null!=lr(i,n))return t;var l=void 0,c=void 0;if(_t(n))if(Object(o["d"])(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){var u=Ai(t),d=u instanceof yn?u:yn.EMPTY_NODE,h=ar(i,d);l=e.filter.updateFullNode(t.eventCache.getNode(),h,a)}else{var p=or(i,Ai(t));l=e.filter.updateFullNode(t.eventCache.getNode(),p,a)}else{var f=ht(n);if(".priority"===f){Object(o["d"])(1===pt(n),"Can't have a priority with additional path components");var m=s.getNode();c=t.serverCache.getNode();var g=sr(i,n,m,c);l=null!=g?e.filter.updatePriority(m,g):s.getNode()}else{var y=ft(n),v=void 0;if(s.isCompleteForChild(f)){c=t.serverCache.getNode();var b=sr(i,n,s.getNode(),c);v=null!=b?s.getNode().getImmediateChild(f).updateChild(y,b):s.getNode().getImmediateChild(f)}else v=ur(i,f,t.serverCache);l=null!=v?e.filter.updateChild(s.getNode(),f,v,y,r,a):s.getNode()}}return Ci(t,l,s.isFullyInitialized()||_t(n),e.filter.filtersNodes())}function kr(e,t,n,i,r,o,a,s){var l,c=t.serverCache,u=a?e.filter:e.filter.getIndexedFilter();if(_t(n))l=u.updateFullNode(c.getNode(),i,null);else if(u.filtersNodes()&&!c.isFiltered()){var d=c.getNode().updateChild(n,i);l=u.updateFullNode(c.getNode(),d,null)}else{var h=ht(n);if(!c.isCompleteForPath(n)&&pt(n)>1)return t;var p=ft(n),f=c.getNode().getImmediateChild(h),m=f.updateChild(p,i);l=".priority"===h?u.updatePriority(c.getNode(),m):u.updateChild(c.getNode(),h,m,p,mr,null)}var g=Li(t,l,c.isFullyInitialized()||_t(n),u.filtersNodes()),y=new gr(r,g,o);return xr(e,g,n,r,y,s)}function wr(e,t,n,i,r,o,a){var s,l,c=t.eventCache,u=new gr(r,t,o);if(_t(n))l=e.filter.updateFullNode(t.eventCache.getNode(),i,a),s=Ci(t,l,!0,e.filter.filtersNodes());else{var d=ht(n);if(".priority"===d)l=e.filter.updatePriority(t.eventCache.getNode(),i),s=Ci(t,l,c.isFullyInitialized(),c.isFiltered());else{var h=ft(n),p=c.getNode().getImmediateChild(d),f=void 0;if(_t(h))f=i;else{var m=u.getCompleteChild(d);f=null!=m?".priority"===mt(h)&&m.getChild(vt(h)).isEmpty()?m:m.updateChild(h,i):yn.EMPTY_NODE}if(p.equals(f))s=t;else{var g=e.filter.updateChild(c.getNode(),d,f,h,u,a);s=Ci(t,g,c.isFullyInitialized(),e.filter.filtersNodes())}}}return s}function Sr(e,t){return e.eventCache.isCompleteForChild(t)}function Mr(e,t,n,i,r,o,a){var s=t;return i.foreach((function(i,l){var c=bt(n,i);Sr(t,ht(c))&&(s=wr(e,s,c,l,r,o,a))})),i.foreach((function(i,l){var c=bt(n,i);Sr(t,ht(c))||(s=wr(e,s,c,l,r,o,a))})),s}function Cr(e,t,n){return n.foreach((function(e,n){t=t.updateChild(e,n)})),t}function Lr(e,t,n,i,r,o,a,s){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;var l,c=t;l=_t(n)?i:new Ti(null).setTree(n,i);var u=t.serverCache.getNode();return l.children.inorderTraversal((function(n,i){if(u.hasChild(n)){var l=t.serverCache.getNode().getImmediateChild(n),d=Cr(e,l,i);c=kr(e,c,new ut(n),d,r,o,a,s)}})),l.children.inorderTraversal((function(n,i){var l=!t.serverCache.isCompleteForChild(n)&&void 0===i.value;if(!u.hasChild(n)&&!l){var d=t.serverCache.getNode().getImmediateChild(n),h=Cr(e,d,i);c=kr(e,c,new ut(n),h,r,o,a,s)}})),c}function Or(e,t,n,i,r,o,a){if(null!=lr(r,n))return t;var s=t.serverCache.isFiltered(),l=t.serverCache;if(null!=i.value){if(_t(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return kr(e,t,n,l.getNode().getChild(n),r,o,s,a);if(_t(n)){var c=new Ti(null);return l.getNode().forEachChild(Vt,(function(e,t){c=c.set(new ut(e),t)})),Lr(e,t,n,c,r,o,s,a)}return t}var u=new Ti(null);return i.foreach((function(e,t){var i=bt(n,e);l.isCompleteForPath(i)&&(u=u.set(e,l.getNode().getChild(i)))})),Lr(e,t,n,u,r,o,s,a)}function Ar(e,t,n,i,r){var o=t.serverCache,a=Li(t,o.getNode(),o.isFullyInitialized()||_t(n),o.isFiltered());return xr(e,a,n,i,mr,r)}function Er(e,t,n,i,r,a){var s;if(null!=lr(i,n))return t;var l=new gr(i,t,r),c=t.eventCache.getNode(),u=void 0;if(_t(n)||".priority"===ht(n)){var d=void 0;if(t.serverCache.isFullyInitialized())d=or(i,Ai(t));else{var h=t.serverCache.getNode();Object(o["d"])(h instanceof yn,"serverChildren would be complete if leaf node"),d=ar(i,h)}d=d,u=e.filter.updateFullNode(c,d,a)}else{var p=ht(n),f=ur(i,p,t.serverCache);null==f&&t.serverCache.isCompleteForChild(p)&&(f=c.getImmediateChild(p)),u=null!=f?e.filter.updateChild(c,p,f,ft(n),l,a):t.eventCache.getNode().hasChild(p)?e.filter.updateChild(c,p,yn.EMPTY_NODE,ft(n),l,a):c,u.isEmpty()&&t.serverCache.isFullyInitialized()&&(s=or(i,Ai(t)),s.isLeafNode()&&(u=e.filter.updateFullNode(u,s,a)))}return s=t.serverCache.isFullyInitialized()||null!=lr(i,dt()),Ci(t,u,s,e.filter.filtersNodes())}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tr,Nr=function(){function e(e,t){this.query_=e,this.eventRegistrations_=[];var n=this.query_._queryParams,i=new jn(n.getIndex()),r=$n(n);this.processor_=yr(r);var o=t.serverCache,a=t.eventCache,s=i.updateFullNode(yn.EMPTY_NODE,o.getNode(),null),l=r.updateFullNode(yn.EMPTY_NODE,a.getNode(),null),c=new bi(s,o.isFullyInitialized(),i.filtersNodes()),u=new bi(l,a.isFullyInitialized(),r.filtersNodes());this.viewCache_=Mi(u,c),this.eventGenerator_=new _i(this.query_)}return Object.defineProperty(e.prototype,"query",{get:function(){return this.query_},enumerable:!1,configurable:!0}),e}();function Dr(e){return e.viewCache_.serverCache.getNode()}function Pr(e){return Oi(e.viewCache_)}function qr(e,t){var n=Ai(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!_t(t)&&!n.getImmediateChild(ht(t)).isEmpty())?n.getChild(t):null}function Ir(e){return 0===e.eventRegistrations_.length}function jr(e,t){e.eventRegistrations_.push(t)}function zr(e,t,n){var i=[];if(n){Object(o["d"])(null==t,"A cancel should cancel all event registrations.");var r=e.query._path;e.eventRegistrations_.forEach((function(e){var t=e.createCancelEvent(n,r);t&&i.push(t)}))}if(t){for(var a=[],s=0;s<e.eventRegistrations_.length;++s){var l=e.eventRegistrations_[s];if(l.matches(t)){if(t.hasAnyCallback()){a=a.concat(e.eventRegistrations_.slice(s+1));break}}else a.push(l)}e.eventRegistrations_=a}else e.eventRegistrations_=[];return i}function Rr(e,t,n,i){t.type===ri.MERGE&&null!==t.source.queryId&&(Object(o["d"])(Ai(e.viewCache_),"We should always have a full cache before handling merges"),Object(o["d"])(Oi(e.viewCache_),"Missing event cache, even though we have a server cache"));var r=e.viewCache_,a=br(e.processor_,r,t,n,i);return vr(e.processor_,a.viewCache),Object(o["d"])(a.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=a.viewCache,$r(e,a.changes,a.viewCache.eventCache.getNode(),null)}function Fr(e,t){var n=e.viewCache_.eventCache,i=[];if(!n.getNode().isLeafNode()){var r=n.getNode();r.forEachChild(dn,(function(e,t){i.push(Dn(e,t))}))}return n.isFullyInitialized()&&i.push(Nn(n.getNode())),$r(e,i,n.getNode(),t)}function $r(e,t,n,i){var r=i?[i]:e.eventRegistrations_;return xi(e.eventGenerator_,t,n,r)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Br,Kr=function(){function e(){this.views=new Map}return e}();function Wr(e){Object(o["d"])(!Tr,"__referenceConstructor has already been defined"),Tr=e}function Vr(){return Object(o["d"])(Tr,"Reference.ts has not been loaded"),Tr}function Ur(e){return 0===e.views.size}function Hr(e,t,n,i){var r,s,l=t.source.queryId;if(null!==l){var c=e.views.get(l);return Object(o["d"])(null!=c,"SyncTree gave us an op for an invalid query."),Rr(c,t,n,i)}var u=[];try{for(var d=Object(a["g"])(e.views.values()),h=d.next();!h.done;h=d.next()){c=h.value;u=u.concat(Rr(c,t,n,i))}}catch(p){r={error:p}}finally{try{h&&!h.done&&(s=d.return)&&s.call(d)}finally{if(r)throw r.error}}return u}function Gr(e,t,n,i,r){var o=t._queryIdentifier,a=e.views.get(o);if(!a){var s=or(n,r?i:null),l=!1;s?l=!0:i instanceof yn?(s=ar(n,i),l=!1):(s=yn.EMPTY_NODE,l=!1);var c=Mi(new bi(s,l,!1),new bi(i,r,!1));return new Nr(t,c)}return a}function Xr(e,t,n,i,r,o){var a=Gr(e,t,i,r,o);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,a),jr(a,n),Fr(a,n)}function Zr(e,t,n,i){var r,o,s=t._queryIdentifier,l=[],c=[],u=to(e);if("default"===s)try{for(var d=Object(a["g"])(e.views.entries()),h=d.next();!h.done;h=d.next()){var p=Object(a["e"])(h.value,2),f=p[0],m=p[1];c=c.concat(zr(m,n,i)),Ir(m)&&(e.views.delete(f),m.query._queryParams.loadsAllData()||l.push(m.query))}}catch(g){r={error:g}}finally{try{h&&!h.done&&(o=d.return)&&o.call(d)}finally{if(r)throw r.error}}else{m=e.views.get(s);m&&(c=c.concat(zr(m,n,i)),Ir(m)&&(e.views.delete(s),m.query._queryParams.loadsAllData()||l.push(m.query)))}return u&&!to(e)&&l.push(new(Vr())(t._repo,t._path)),{removed:l,events:c}}function Yr(e){var t,n,i=[];try{for(var r=Object(a["g"])(e.views.values()),o=r.next();!o.done;o=r.next()){var s=o.value;s.query._queryParams.loadsAllData()||i.push(s)}}catch(l){t={error:l}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return i}function Qr(e,t){var n,i,r=null;try{for(var o=Object(a["g"])(e.views.values()),s=o.next();!s.done;s=o.next()){var l=s.value;r=r||qr(l,t)}}catch(c){n={error:c}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}return r}function Jr(e,t){var n=t._queryParams;if(n.loadsAllData())return no(e);var i=t._queryIdentifier;return e.views.get(i)}function eo(e,t){return null!=Jr(e,t)}function to(e){return null!=no(e)}function no(e){var t,n;try{for(var i=Object(a["g"])(e.views.values()),r=i.next();!r.done;r=i.next()){var o=r.value;if(o.query._queryParams.loadsAllData())return o}}catch(s){t={error:s}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return null}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function io(e){Object(o["d"])(!Br,"__referenceConstructor has already been defined"),Br=e}function ro(){return Object(o["d"])(Br,"Reference.ts has not been loaded"),Br}var oo=1,ao=function(){function e(e){this.listenProvider_=e,this.syncPointTree_=new Ti(null),this.pendingWriteTree_=rr(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}return e}();function so(e,t,n,i,r){return Wi(e.pendingWriteTree_,t,n,i,r),r?xo(e,new yi(di(),t,n)):[]}function lo(e,t,n,i){Vi(e.pendingWriteTree_,t,n,i);var r=Ti.fromObject(n);return xo(e,new vi(di(),t,r))}function co(e,t,n){void 0===n&&(n=!1);var i=Ui(e.pendingWriteTree_,t),r=Hi(e.pendingWriteTree_,t);if(r){var o=new Ti(null);return null!=i.snap?o=o.set(dt(),!0):R(i.children,(function(e){o=o.set(new ut(e),!0)})),xo(e,new mi(i.path,o,n))}return[]}function uo(e,t,n){return xo(e,new yi(hi(),t,n))}function ho(e,t,n){var i=Ti.fromObject(n);return xo(e,new vi(hi(),t,i))}function po(e,t){return xo(e,new gi(hi(),t))}function fo(e,t,n){var i=Lo(e,n);if(i){var r=Oo(i),o=r.path,a=r.queryId,s=xt(o,t),l=new gi(pi(a),s);return Ao(e,o,l)}return[]}function mo(e,t,n,i){var r=t._path,o=e.syncPointTree_.get(r),a=[];if(o&&("default"===t._queryIdentifier||eo(o,t))){var s=Zr(o,t,n,i);Ur(o)&&(e.syncPointTree_=e.syncPointTree_.remove(r));var l=s.removed;a=s.events;var c=-1!==l.findIndex((function(e){return e._queryParams.loadsAllData()})),u=e.syncPointTree_.findOnPath(r,(function(e,t){return to(t)}));if(c&&!u){var d=e.syncPointTree_.subtree(r);if(!d.isEmpty())for(var h=Eo(d),p=0;p<h.length;++p){var f=h[p],m=f.query,g=So(e,f);e.listenProvider_.startListening(To(m),Mo(e,m),g.hashFn,g.onComplete)}}if(!u&&l.length>0&&!i)if(c){var y=null;e.listenProvider_.stopListening(To(t),y)}else l.forEach((function(t){var n=e.queryToTagMap.get(Co(t));e.listenProvider_.stopListening(To(t),n)}));No(e,l)}return a}function go(e,t,n,i){var r=Lo(e,i);if(null!=r){var o=Oo(r),a=o.path,s=o.queryId,l=xt(a,t),c=new yi(pi(s),l,n);return Ao(e,a,c)}return[]}function yo(e,t,n,i){var r=Lo(e,i);if(r){var o=Oo(r),a=o.path,s=o.queryId,l=xt(a,t),c=Ti.fromObject(n),u=new vi(pi(s),l,c);return Ao(e,a,u)}return[]}function vo(e,t,n){var i=t._path,r=null,a=!1;e.syncPointTree_.foreachOnPath(i,(function(e,t){var n=xt(e,i);r=r||Qr(t,n),a=a||to(t)}));var s,l=e.syncPointTree_.get(i);if(l?(a=a||to(l),r=r||Qr(l,dt())):(l=new Kr,e.syncPointTree_=e.syncPointTree_.set(i,l)),null!=r)s=!0;else{s=!1,r=yn.EMPTY_NODE;var c=e.syncPointTree_.subtree(i);c.foreachChild((function(e,t){var n=Qr(t,dt());n&&(r=r.updateImmediateChild(e,n))}))}var u=eo(l,t);if(!u&&!t._queryParams.loadsAllData()){var d=Co(t);Object(o["d"])(!e.queryToTagMap.has(d),"View does not exist, but we have a tag");var h=Do();e.queryToTagMap.set(d,h),e.tagToQueryMap.set(h,d)}var p=Ki(e.pendingWriteTree_,i),f=Xr(l,t,n,p,r,s);if(!u&&!a){var m=Jr(l,t);f=f.concat(Po(e,t,m))}return f}function bo(e,t,n){var i=!0,r=e.pendingWriteTree_,o=e.syncPointTree_.findOnPath(t,(function(e,n){var i=xt(e,t),r=Qr(n,i);if(r)return r}));return Qi(r,t,o,n,i)}function _o(e,t){var n=t._path,i=null;e.syncPointTree_.foreachOnPath(n,(function(e,t){var r=xt(e,n);i=i||Qr(t,r)}));var r=e.syncPointTree_.get(n);r?i=i||Qr(r,dt()):(r=new Kr,e.syncPointTree_=e.syncPointTree_.set(n,r));var o=null!=i,a=o?new bi(i,!0,!1):null,s=Ki(e.pendingWriteTree_,t._path),l=Gr(r,t,s,o?a.getNode():yn.EMPTY_NODE,o);return Pr(l)}function xo(e,t){return ko(t,e.syncPointTree_,null,Ki(e.pendingWriteTree_,dt()))}function ko(e,t,n,i){if(_t(e.path))return wo(e,t,n,i);var r=t.get(dt());null==n&&null!=r&&(n=Qr(r,dt()));var o=[],a=ht(e.path),s=e.operationForChild(a),l=t.children.get(a);if(l&&s){var c=n?n.getImmediateChild(a):null,u=dr(i,a);o=o.concat(ko(s,l,c,u))}return r&&(o=o.concat(Hr(r,e,i,n))),o}function wo(e,t,n,i){var r=t.get(dt());null==n&&null!=r&&(n=Qr(r,dt()));var o=[];return t.children.inorderTraversal((function(t,r){var a=n?n.getImmediateChild(t):null,s=dr(i,t),l=e.operationForChild(t);l&&(o=o.concat(wo(l,r,a,s)))})),r&&(o=o.concat(Hr(r,e,i,n))),o}function So(e,t){var n=t.query,i=Mo(e,n);return{hashFn:function(){var e=Dr(t)||yn.EMPTY_NODE;return e.hash()},onComplete:function(t){if("ok"===t)return i?fo(e,n._path,i):po(e,n._path);var r=K(t,n);return mo(e,n,null,r)}}}function Mo(e,t){var n=Co(t);return e.queryToTagMap.get(n)}function Co(e){return e._path.toString()+"$"+e._queryIdentifier}function Lo(e,t){return e.tagToQueryMap.get(t)}function Oo(e){var t=e.indexOf("$");return Object(o["d"])(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new ut(e.substr(0,t))}}function Ao(e,t,n){var i=e.syncPointTree_.get(t);Object(o["d"])(i,"Missing sync point for query tag that we're tracking");var r=Ki(e.pendingWriteTree_,t);return Hr(i,n,r,null)}function Eo(e){return e.fold((function(e,t,n){if(t&&to(t)){var i=no(t);return[i]}var r=[];return t&&(r=Yr(t)),R(n,(function(e,t){r=r.concat(t)})),r}))}function To(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(ro())(e._repo,e._path):e}function No(e,t){for(var n=0;n<t.length;++n){var i=t[n];if(!i._queryParams.loadsAllData()){var r=Co(i),o=e.queryToTagMap.get(r);e.queryToTagMap.delete(r),e.tagToQueryMap.delete(o)}}}function Do(){return oo++}function Po(e,t,n){var i=t._path,r=Mo(e,t),a=So(e,n),s=e.listenProvider_.startListening(To(t),r,a.hashFn,a.onComplete),l=e.syncPointTree_.subtree(i);if(r)Object(o["d"])(!to(l.value),"If we're adding a query, it shouldn't be shadowed");else for(var c=l.fold((function(e,t,n){if(!_t(e)&&t&&to(t))return[no(t).query];var i=[];return t&&(i=i.concat(Yr(t).map((function(e){return e.query})))),R(n,(function(e,t){i=i.concat(t)})),i})),u=0;u<c.length;++u){var d=c[u];e.listenProvider_.stopListening(To(d),Mo(e,d))}return s}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qo=function(){function e(e){this.node_=e}return e.prototype.getImmediateChild=function(t){var n=this.node_.getImmediateChild(t);return new e(n)},e.prototype.node=function(){return this.node_},e}(),Io=function(){function e(e,t){this.syncTree_=e,this.path_=t}return e.prototype.getImmediateChild=function(t){var n=bt(this.path_,t);return new e(this.syncTree_,n)},e.prototype.node=function(){return bo(this.syncTree_,this.path_)},e}(),jo=function(e){return e=e||{},e["timestamp"]=e["timestamp"]||(new Date).getTime(),e},zo=function(e,t,n){return e&&"object"===typeof e?(Object(o["d"])(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?Ro(e[".sv"],t,n):"object"===typeof e[".sv"]?Fo(e[".sv"],t):void Object(o["d"])(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},Ro=function(e,t,n){switch(e){case"timestamp":return n["timestamp"];default:Object(o["d"])(!1,"Unexpected server value: "+e)}},Fo=function(e,t,n){e.hasOwnProperty("increment")||Object(o["d"])(!1,"Unexpected server value: "+JSON.stringify(e,null,2));var i=e["increment"];"number"!==typeof i&&Object(o["d"])(!1,"Unexpected increment value: "+i);var r=t.node();if(Object(o["d"])(null!==r&&"undefined"!==typeof r,"Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;var a=r,s=a.getValue();return"number"!==typeof s?i:s+i},$o=function(e,t,n,i){return Ko(t,new Io(n,e),i)},Bo=function(e,t,n){return Ko(e,new qo(t),n)};function Ko(e,t,n){var i,r=e.getPriority().val(),o=zo(r,t.getImmediateChild(".priority"),n);if(e.isLeafNode()){var a=e,s=zo(a.getValue(),t,n);return s!==a.getValue()||o!==a.getPriority().val()?new on(s,xn(o)):e}var l=e;return i=l,o!==l.getPriority().val()&&(i=i.updatePriority(new on(o))),l.forEachChild(dn,(function(e,r){var o=Ko(r,t.getImmediateChild(e),n);o!==r&&(i=i.updateImmediateChild(e,o))})),i}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wo=function(){function e(e,t,n){void 0===e&&(e=""),void 0===t&&(t=null),void 0===n&&(n={children:{},childCount:0}),this.name=e,this.parent=t,this.node=n}return e}();function Vo(e,t){var n=t instanceof ut?t:new ut(t),i=e,r=ht(n);while(null!==r){var a=Object(o["z"])(i.node.children,r)||{children:{},childCount:0};i=new Wo(r,i,a),n=ft(n),r=ht(n)}return i}function Uo(e){return e.node.value}function Ho(e,t){e.node.value=t,ea(e)}function Go(e){return e.node.childCount>0}function Xo(e){return void 0===Uo(e)&&!Go(e)}function Zo(e,t){R(e.node.children,(function(n,i){t(new Wo(n,e,i))}))}function Yo(e,t,n,i){n&&!i&&t(e),Zo(e,(function(e){Yo(e,t,!0,i)})),n&&i&&t(e)}function Qo(e,t,n){var i=n?e:e.parent;while(null!==i){if(t(i))return!0;i=i.parent}return!1}function Jo(e){return new ut(null===e.parent?e.name:Jo(e.parent)+"/"+e.name)}function ea(e){null!==e.parent&&ta(e.parent,e.name,e)}function ta(e,t,n){var i=Xo(n),r=Object(o["h"])(e.node.children,t);i&&r?(delete e.node.children[t],e.node.childCount--,ea(e)):i||r||(e.node.children[t]=n.node,e.node.childCount++,ea(e))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var na=/[\[\].#$\/\u0000-\u001F\u007F]/,ia=/[\[\].#$\u0000-\u001F\u007F]/,ra=10485760,oa=function(e){return"string"===typeof e&&0!==e.length&&!na.test(e)},aa=function(e){return"string"===typeof e&&0!==e.length&&!ia.test(e)},sa=function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),aa(e)},la=function(e){return null===e||"string"===typeof e||"number"===typeof e&&!E(e)||e&&"object"===typeof e&&Object(o["h"])(e,".sv")},ca=function(e,t,n,i){i&&void 0===t||ua(Object(o["m"])(e,"value"),t,n)},ua=function(e,t,n){var i=n instanceof ut?new Mt(n,e):n;if(void 0===t)throw new Error(e+"contains undefined "+At(i));if("function"===typeof t)throw new Error(e+"contains a function "+At(i)+" with contents = "+t.toString());if(E(t))throw new Error(e+"contains "+t.toString()+" "+At(i));if("string"===typeof t&&t.length>ra/3&&Object(o["A"])(t)>ra)throw new Error(e+"contains a string greater than "+ra+" utf8 bytes "+At(i)+" ('"+t.substring(0,50)+"...')");if(t&&"object"===typeof t){var r=!1,a=!1;if(R(t,(function(t,n){if(".value"===t)r=!0;else if(".priority"!==t&&".sv"!==t&&(a=!0,!oa(t)))throw new Error(e+" contains an invalid key ("+t+") "+At(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');Ct(i,t),ua(e,n,i),Lt(i)})),r&&a)throw new Error(e+' contains ".value" child '+At(i)+" in addition to actual children.")}},da=function(e,t){var n,i;for(n=0;n<t.length;n++){i=t[n];for(var r=yt(i),o=0;o<r.length;o++)if(".priority"===r[o]&&o===r.length-1);else if(!oa(r[o]))throw new Error(e+"contains an invalid key ("+r[o]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(kt);var a=null;for(n=0;n<t.length;n++){if(i=t[n],null!==a&&St(a,i))throw new Error(e+"contains a path "+a.toString()+" that is ancestor of another path "+i.toString());a=i}},ha=function(e,t,n,i){if(!i||void 0!==t){var r=Object(o["m"])(e,"values");if(!t||"object"!==typeof t||Array.isArray(t))throw new Error(r+" must be an object containing the children to replace.");var a=[];R(t,(function(e,t){var i=new ut(e);if(ua(r,t,bt(n,i)),".priority"===mt(i)&&!la(t))throw new Error(r+"contains an invalid value for '"+i.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(i)})),da(r,a)}},pa=function(e,t,n){if(!n||void 0!==t){if(E(t))throw new Error(Object(o["m"])(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!la(t))throw new Error(Object(o["m"])(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},fa=function(e,t,n){if(!n||void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(Object(o["m"])(e,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},ma=function(e,t,n,i){if((!i||void 0!==n)&&!oa(n))throw new Error(Object(o["m"])(e,t)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},ga=function(e,t,n,i){if((!i||void 0!==n)&&!aa(n))throw new Error(Object(o["m"])(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},ya=function(e,t,n,i){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),ga(e,t,n,i)},va=function(e,t){if(".info"===ht(t))throw new Error(e+" failed = Can't modify data under /.info/")},ba=function(e,t){var n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!oa(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!sa(n))throw new Error(Object(o["m"])(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},_a=function(e,t,n,i){if((!i||void 0!==n)&&"boolean"!==typeof n)throw new Error(Object(o["m"])(e,t)+"must be a boolean.")},xa=function(){function e(){this.eventLists_=[],this.recursionDepth_=0}return e}();function ka(e,t){for(var n=null,i=0;i<t.length;i++){var r=t[i],o=r.getPath();null===n||wt(o,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(r)}n&&e.eventLists_.push(n)}function wa(e,t,n){ka(e,n),Ma(e,(function(e){return wt(e,t)}))}function Sa(e,t,n){ka(e,n),Ma(e,(function(e){return St(e,t)||St(t,e)}))}function Ma(e,t){e.recursionDepth_++;for(var n=!0,i=0;i<e.eventLists_.length;i++){var r=e.eventLists_[i];if(r){var o=r.path;t(o)?(Ca(e.eventLists_[i]),e.eventLists_[i]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function Ca(e){for(var t=0;t<e.events.length;t++){var n=e.events[t];if(null!==n){e.events[t]=null;var i=n.getEventRunner();x&&S("event: "+n.toString()),G(i)}}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var La="repo_interrupt",Oa=25,Aa=function(){function e(e,t,n,i){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=n,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new xa,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Jn(),this.transactionQueueTree_=new Wo,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return e.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},e}();function Ea(e,t,n){if(e.stats_=ye(e.repoInfo_),e.forceRestClient_||X())e.server_=new Yn(e.repoInfo_,(function(t,n,i,r){Da(e,t,n,i,r)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((function(){return qa(e,!0)}),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Object(o["C"])(n)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}e.persistentConnection_=new $t(e.repoInfo_,t,(function(t,n,i,r){Da(e,t,n,i,r)}),(function(t){qa(e,t)}),(function(t){Ia(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener((function(t){e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((function(t){e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=ve(e.repoInfo_,(function(){return new ci(e.stats_,e.server_)})),e.infoData_=new Qn,e.infoSyncTree_=new ao({startListening:function(t,n,i,r){var o=[],a=e.infoData_.getNode(t._path);return a.isEmpty()||(o=uo(e.infoSyncTree_,t._path,a),setTimeout((function(){r("ok")}),0)),o},stopListening:function(){}}),ja(e,"connected",!1),e.serverSyncTree_=new ao({startListening:function(t,n,i,r){return e.server_.listen(t,i,n,(function(n,i){var o=r(n,i);Sa(e.eventQueue_,t._path,o)})),[]},stopListening:function(t,n){e.server_.unlisten(t,n)}})}function Ta(e){var t=e.infoData_.getNode(new ut(".info/serverTimeOffset")),n=t.val()||0;return(new Date).getTime()+n}function Na(e){return jo({timestamp:Ta(e)})}function Da(e,t,n,i,r){e.dataUpdateCount++;var a=new ut(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;var s=[];if(r)if(i){var l=Object(o["x"])(n,(function(e){return xn(e)}));s=yo(e.serverSyncTree_,a,l,r)}else{var c=xn(n);s=go(e.serverSyncTree_,a,c,r)}else if(i){var u=Object(o["x"])(n,(function(e){return xn(e)}));s=ho(e.serverSyncTree_,a,u)}else{var d=xn(n);s=uo(e.serverSyncTree_,a,d)}var h=a;s.length>0&&(h=os(e,a)),Sa(e.eventQueue_,h,s)}function Pa(e,t){e.interceptServerDataCallback_=t}function qa(e,t){ja(e,"connected",t),!1===t&&Ba(e)}function Ia(e,t){R(t,(function(t,n){ja(e,t,n)}))}function ja(e,t,n){var i=new ut("/.info/"+t),r=xn(n);e.infoData_.updateSnapshot(i,r);var o=uo(e.infoSyncTree_,i,r);Sa(e.eventQueue_,i,o)}function za(e){return e.nextWriteId_++}function Ra(e,t){var n=_o(e.serverSyncTree_,t);return null!=n?Promise.resolve(n):e.server_.get(t).then((function(n){var i=xn(n).withIndex(t._queryParams.getIndex()),r=uo(e.serverSyncTree_,t._path,i);return wa(e.eventQueue_,t._path,r),Promise.resolve(i)}),(function(n){return Ja(e,"get for query "+Object(o["C"])(t)+" failed: "+n),Promise.reject(new Error(n))}))}function Fa(e,t,n,i,r){Ja(e,"set",{path:t.toString(),value:n,priority:i});var o=Na(e),a=xn(n,i),s=bo(e.serverSyncTree_,t),l=Bo(a,s,o),c=za(e),u=so(e.serverSyncTree_,t,l,c,!0);ka(e.eventQueue_,u),e.server_.put(t.toString(),a.val(!0),(function(n,i){var o="ok"===n;o||O("set at "+t+" failed: "+n);var a=co(e.serverSyncTree_,c,!o);Sa(e.eventQueue_,t,a),es(e,r,n,i)}));var d=ds(e,t);os(e,d),Sa(e.eventQueue_,d,[])}function $a(e,t,n,i){Ja(e,"update",{path:t.toString(),value:n});var r=!0,o=Na(e),a={};if(R(n,(function(n,i){r=!1,a[n]=$o(bt(t,n),xn(i),e.serverSyncTree_,o)})),r)S("update() called with empty data.  Don't do anything."),es(e,i,"ok",void 0);else{var s=za(e),l=lo(e.serverSyncTree_,t,a,s);ka(e.eventQueue_,l),e.server_.merge(t.toString(),n,(function(n,r){var o="ok"===n;o||O("update at "+t+" failed: "+n);var a=co(e.serverSyncTree_,s,!o),l=a.length>0?os(e,t):t;Sa(e.eventQueue_,l,a),es(e,i,n,r)})),R(n,(function(n){var i=ds(e,bt(t,n));os(e,i)})),Sa(e.eventQueue_,t,[])}}function Ba(e){Ja(e,"onDisconnectEvents");var t=Na(e),n=Jn();ni(e.onDisconnect_,dt(),(function(i,r){var o=$o(i,r,e.serverSyncTree_,t);ei(n,i,o)}));var i=[];ni(n,dt(),(function(t,n){i=i.concat(uo(e.serverSyncTree_,t,n));var r=ds(e,t);os(e,r)})),e.onDisconnect_=Jn(),Sa(e.eventQueue_,dt(),i)}function Ka(e,t,n){e.server_.onDisconnectCancel(t.toString(),(function(i,r){"ok"===i&&ti(e.onDisconnect_,t),es(e,n,i,r)}))}function Wa(e,t,n,i){var r=xn(n);e.server_.onDisconnectPut(t.toString(),r.val(!0),(function(n,o){"ok"===n&&ei(e.onDisconnect_,t,r),es(e,i,n,o)}))}function Va(e,t,n,i,r){var o=xn(n,i);e.server_.onDisconnectPut(t.toString(),o.val(!0),(function(n,i){"ok"===n&&ei(e.onDisconnect_,t,o),es(e,r,n,i)}))}function Ua(e,t,n,i){if(Object(o["q"])(n))return S("onDisconnect().update() called with empty data.  Don't do anything."),void es(e,i,"ok",void 0);e.server_.onDisconnectMerge(t.toString(),n,(function(r,o){"ok"===r&&R(n,(function(n,i){var r=xn(i);ei(e.onDisconnect_,bt(t,n),r)})),es(e,i,r,o)}))}function Ha(e,t,n){var i;i=".info"===ht(t._path)?vo(e.infoSyncTree_,t,n):vo(e.serverSyncTree_,t,n),wa(e.eventQueue_,t._path,i)}function Ga(e,t,n){var i;i=".info"===ht(t._path)?mo(e.infoSyncTree_,t,n):mo(e.serverSyncTree_,t,n),wa(e.eventQueue_,t._path,i)}function Xa(e){e.persistentConnection_&&e.persistentConnection_.interrupt(La)}function Za(e){e.persistentConnection_&&e.persistentConnection_.resume(La)}function Ya(e,t){if(void 0===t&&(t=!1),"undefined"!==typeof console){var n;t?(e.statsListener_||(e.statsListener_=new oi(e.stats_)),n=e.statsListener_.get()):n=e.stats_.get();var i=Object.keys(n).reduce((function(e,t){return Math.max(t.length,e)}),0);R(n,(function(e,t){for(var n=e,r=e.length;r<i+2;r++)n+=" ";console.log(n+t)}))}}function Qa(e,t){e.stats_.incrementCounter(t),ui(e.statsReporter_,t)}function Ja(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i="";e.persistentConnection_&&(i=e.persistentConnection_.id+":"),S.apply(void 0,Object(a["f"])([i],Object(a["e"])(t)))}function es(e,t,n,i){t&&G((function(){if("ok"===n)t(null);else{var e=(n||"error").toUpperCase(),r=e;i&&(r+=": "+i);var o=new Error(r);o.code=e,t(o)}}))}function ts(e,t,n,i,r,a){Ja(e,"transaction on "+t);var s={path:t,update:n,onComplete:i,status:null,order:v(),applyLocally:a,retryCount:0,unwatcher:r,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},l=ns(e,t,void 0);s.currentInputSnapshot=l;var c=s.update(l.val());if(void 0===c)s.unwatcher(),s.currentOutputSnapshotRaw=null,s.currentOutputSnapshotResolved=null,s.onComplete&&s.onComplete(null,!1,s.currentInputSnapshot);else{ua("transaction failed: Data returned ",c,s.path),s.status=0;var u=Vo(e.transactionQueueTree_,t),d=Uo(u)||[];d.push(s),Ho(u,d);var h=void 0;if("object"===typeof c&&null!==c&&Object(o["h"])(c,".priority"))h=Object(o["z"])(c,".priority"),Object(o["d"])(la(h),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.");else{var p=bo(e.serverSyncTree_,t)||yn.EMPTY_NODE;h=p.getPriority().val()}var f=Na(e),m=xn(c,h),g=Bo(m,l,f);s.currentOutputSnapshotRaw=m,s.currentOutputSnapshotResolved=g,s.currentWriteId=za(e);var y=so(e.serverSyncTree_,t,g,s.currentWriteId,s.applyLocally);Sa(e.eventQueue_,t,y),is(e,e.transactionQueueTree_)}}function ns(e,t,n){return bo(e.serverSyncTree_,t,n)||yn.EMPTY_NODE}function is(e,t){if(void 0===t&&(t=e.transactionQueueTree_),t||us(e,t),Uo(t)){var n=ls(e,t);Object(o["d"])(n.length>0,"Sending zero length transaction queue");var i=n.every((function(e){return 0===e.status}));i&&rs(e,Jo(t),n)}else Go(t)&&Zo(t,(function(t){is(e,t)}))}function rs(e,t,n){for(var i=n.map((function(e){return e.currentWriteId})),r=ns(e,t,i),a=r,s=r.hash(),l=0;l<n.length;l++){var c=n[l];Object(o["d"])(0===c.status,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;var u=xt(t,c.path);a=a.updateChild(u,c.currentOutputSnapshotRaw)}var d=a.val(!0),h=t;e.server_.put(h.toString(),d,(function(i){Ja(e,"transaction put response",{path:h.toString(),status:i});var r=[];if("ok"===i){for(var o=[],a=function(t){n[t].status=2,r=r.concat(co(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&o.push((function(){return n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)})),n[t].unwatcher()},s=0;s<n.length;s++)a(s);us(e,Vo(e.transactionQueueTree_,t)),is(e,e.transactionQueueTree_),Sa(e.eventQueue_,t,r);for(s=0;s<o.length;s++)G(o[s])}else{if("datastale"===i)for(s=0;s<n.length;s++)3===n[s].status?n[s].status=4:n[s].status=0;else{O("transaction at "+h.toString()+" failed: "+i);for(s=0;s<n.length;s++)n[s].status=4,n[s].abortReason=i}os(e,t)}}),s)}function os(e,t){var n=ss(e,t),i=Jo(n),r=ls(e,n);return as(e,r,i),i}function as(e,t,n){if(0!==t.length){for(var i=[],r=[],a=t.filter((function(e){return 0===e.status})),s=a.map((function(e){return e.currentWriteId})),l=function(a){var l,c=t[a],u=xt(n,c.path),d=!1;if(Object(o["d"])(null!==u,"rerunTransactionsUnderNode_: relativePath should not be null."),4===c.status)d=!0,l=c.abortReason,r=r.concat(co(e.serverSyncTree_,c.currentWriteId,!0));else if(0===c.status)if(c.retryCount>=Oa)d=!0,l="maxretry",r=r.concat(co(e.serverSyncTree_,c.currentWriteId,!0));else{var h=ns(e,c.path,s);c.currentInputSnapshot=h;var p=t[a].update(h.val());if(void 0!==p){ua("transaction failed: Data returned ",p,c.path);var f=xn(p),m="object"===typeof p&&null!=p&&Object(o["h"])(p,".priority");m||(f=f.updatePriority(h.getPriority()));var g=c.currentWriteId,y=Na(e),v=Bo(f,h,y);c.currentOutputSnapshotRaw=f,c.currentOutputSnapshotResolved=v,c.currentWriteId=za(e),s.splice(s.indexOf(g),1),r=r.concat(so(e.serverSyncTree_,c.path,v,c.currentWriteId,c.applyLocally)),r=r.concat(co(e.serverSyncTree_,g,!0))}else d=!0,l="nodata",r=r.concat(co(e.serverSyncTree_,c.currentWriteId,!0))}Sa(e.eventQueue_,n,r),r=[],d&&(t[a].status=2,function(e){setTimeout(e,Math.floor(0))}(t[a].unwatcher),t[a].onComplete&&("nodata"===l?i.push((function(){return t[a].onComplete(null,!1,t[a].currentInputSnapshot)})):i.push((function(){return t[a].onComplete(new Error(l),!1,null)}))))},c=0;c<t.length;c++)l(c);us(e,e.transactionQueueTree_);for(c=0;c<i.length;c++)G(i[c]);is(e,e.transactionQueueTree_)}}function ss(e,t){var n,i=e.transactionQueueTree_;n=ht(t);while(null!==n&&void 0===Uo(i))i=Vo(i,n),t=ft(t),n=ht(t);return i}function ls(e,t){var n=[];return cs(e,t,n),n.sort((function(e,t){return e.order-t.order})),n}function cs(e,t,n){var i=Uo(t);if(i)for(var r=0;r<i.length;r++)n.push(i[r]);Zo(t,(function(t){cs(e,t,n)}))}function us(e,t){var n=Uo(t);if(n){for(var i=0,r=0;r<n.length;r++)2!==n[r].status&&(n[i]=n[r],i++);n.length=i,Ho(t,n.length>0?n:void 0)}Zo(t,(function(t){us(e,t)}))}function ds(e,t){var n=Jo(ss(e,t)),i=Vo(e.transactionQueueTree_,t);return Qo(i,(function(t){hs(e,t)})),hs(e,i),Yo(i,(function(t){hs(e,t)})),n}function hs(e,t){var n=Uo(t);if(n){for(var i=[],r=[],a=-1,s=0;s<n.length;s++)3===n[s].status||(1===n[s].status?(Object(o["d"])(a===s-1,"All SENT items should be at beginning of queue."),a=s,n[s].status=3,n[s].abortReason="set"):(Object(o["d"])(0===n[s].status,"Unexpected transaction status in abort"),n[s].unwatcher(),r=r.concat(co(e.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&i.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));-1===a?Ho(t,void 0):n.length=a+1,Sa(e.eventQueue_,Jo(t),r);for(s=0;s<i.length;s++)G(i[s])}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ps(e){for(var t="",n=e.split("/"),i=0;i<n.length;i++)if(n[i].length>0){var r=n[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch(o){}t+="/"+r}return t}function fs(e){var t,n,i={};"?"===e.charAt(0)&&(e=e.substring(1));try{for(var r=Object(a["g"])(e.split("&")),o=r.next();!o.done;o=r.next()){var s=o.value;if(0!==s.length){var l=s.split("=");2===l.length?i[decodeURIComponent(l[0])]=decodeURIComponent(l[1]):O("Invalid query segment '"+s+"' in query '"+e+"'")}}}catch(c){t={error:c}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return i}var ms=function(e,t){var n=gs(e),i=n.namespace;"firebase.com"===n.domain&&L(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),i&&"undefined"!==i||"localhost"===n.domain||L("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||A();var r="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new de(n.host,n.secure,i,t,r,"",i!==n.subdomain),path:new ut(n.pathString)}},gs=function(e){var t="",n="",i="",r="",o="",a=!0,s="https",l=443;if("string"===typeof e){var c=e.indexOf("//");c>=0&&(s=e.substring(0,c-1),e=e.substring(c+2));var u=e.indexOf("/");-1===u&&(u=e.length);var d=e.indexOf("?");-1===d&&(d=e.length),t=e.substring(0,Math.min(u,d)),u<d&&(r=ps(e.substring(u,d)));var h=fs(e.substring(Math.min(e.length,d)));c=t.indexOf(":"),c>=0?(a="https"===s||"wss"===s,l=parseInt(t.substring(c+1),10)):c=t.length;var p=t.slice(0,c);if("localhost"===p.toLowerCase())n="localhost";else if(p.split(".").length<=2)n=p;else{var f=t.indexOf(".");i=t.substring(0,f).toLowerCase(),n=t.substring(f+1),o=i}"ns"in h&&(o=h["ns"])}return{host:t,port:l,domain:n,subdomain:i,secure:a,scheme:s,pathString:r,namespace:o}},ys=function(){function e(e,t,n,i){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=i}return e.prototype.getPath=function(){var e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path},e.prototype.getEventType=function(){return this.eventType},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+Object(o["C"])(this.snapshot.exportVal())},e}(),vs=function(){function e(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}return e.prototype.getPath=function(){return this.path},e.prototype.getEventType=function(){return"cancel"},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.path.toString()+":cancel"},e}(),bs=function(){function e(e,t){this.snapshotCallback=e,this.cancelCallback=t}return e.prototype.onValue=function(e,t){this.snapshotCallback.call(null,e,t)},e.prototype.onCancel=function(e){return Object(o["d"])(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)},Object.defineProperty(e.prototype,"hasCancelCallback",{get:function(){return!!this.cancelCallback},enumerable:!1,configurable:!0}),e.prototype.matches=function(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context},e}(),_s=function(){function e(e,t){this._repo=e,this._path=t}return e.prototype.cancel=function(){var e=new o["a"];return Ka(this._repo,this._path,e.wrapCallback((function(){}))),e.promise},e.prototype.remove=function(){va("OnDisconnect.remove",this._path);var e=new o["a"];return Wa(this._repo,this._path,null,e.wrapCallback((function(){}))),e.promise},e.prototype.set=function(e){va("OnDisconnect.set",this._path),ca("OnDisconnect.set",e,this._path,!1);var t=new o["a"];return Wa(this._repo,this._path,e,t.wrapCallback((function(){}))),t.promise},e.prototype.setWithPriority=function(e,t){va("OnDisconnect.setWithPriority",this._path),ca("OnDisconnect.setWithPriority",e,this._path,!1),pa("OnDisconnect.setWithPriority",t,!1);var n=new o["a"];return Va(this._repo,this._path,e,t,n.wrapCallback((function(){}))),n.promise},e.prototype.update=function(e){va("OnDisconnect.update",this._path),ha("OnDisconnect.update",e,this._path,!1);var t=new o["a"];return Ua(this._repo,this._path,e,t.wrapCallback((function(){}))),t.promise},e}(),xs=function(){function e(e,t,n,i){this._repo=e,this._path=t,this._queryParams=n,this._orderByCalled=i}return Object.defineProperty(e.prototype,"key",{get:function(){return _t(this._path)?null:mt(this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new Ms(this._repo,this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_queryIdentifier",{get:function(){var e=Zn(this._queryParams),t=j(e);return"{}"===t?"default":t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_queryObject",{get:function(){return Zn(this._queryParams)},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){if(t=Object(o["n"])(t),!(t instanceof e))return!1;var n=this._repo===t._repo,i=wt(this._path,t._path),r=this._queryIdentifier===t._queryIdentifier;return n&&i&&r},e.prototype.toJSON=function(){return this.toString()},e.prototype.toString=function(){return this._repo.toString()+gt(this._path)},e}();function ks(e,t){if(!0===e._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function ws(e){var t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===Vt){var i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){var a=e.getIndexStartName();if(a!==N)throw new Error(i);if("string"!==typeof t)throw new Error(r)}if(e.hasEnd()){var s=e.getIndexEndName();if(s!==D)throw new Error(i);if("string"!==typeof n)throw new Error(r)}}else if(e.getIndex()===dn){if(null!=t&&!la(t)||null!=n&&!la(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(Object(o["d"])(e.getIndex()instanceof kn||e.getIndex()===Sn,"unknown index type."),null!=t&&"object"===typeof t||null!=n&&"object"===typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Ss(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var Ms=function(e){function t(t,n){return e.call(this,t,n,new Fn,!1)||this}return Object(a["c"])(t,e),Object.defineProperty(t.prototype,"parent",{get:function(){var e=vt(this._path);return null===e?null:new t(this._repo,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){var e=this;while(null!==e.parent)e=e.parent;return e},enumerable:!1,configurable:!0}),t}(xs),Cs=function(){function e(e,t,n){this._node=e,this.ref=t,this._index=n}return Object.defineProperty(e.prototype,"priority",{get:function(){return this._node.getPriority().val()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"key",{get:function(){return this.ref.key},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._node.numChildren()},enumerable:!1,configurable:!0}),e.prototype.child=function(t){var n=new ut(t),i=As(this.ref,t);return new e(this._node.getChild(n),i,dn)},e.prototype.exists=function(){return!this._node.isEmpty()},e.prototype.exportVal=function(){return this._node.val(!0)},e.prototype.forEach=function(t){var n=this;if(this._node.isLeafNode())return!1;var i=this._node;return!!i.forEachChild(this._index,(function(i,r){return t(new e(r,As(n.ref,i),dn))}))},e.prototype.hasChild=function(e){var t=new ut(e);return!this._node.getChild(t).isEmpty()},e.prototype.hasChildren=function(){return!this._node.isLeafNode()&&!this._node.isEmpty()},e.prototype.toJSON=function(){return this.exportVal()},e.prototype.val=function(){return this._node.val()},e}();function Ls(e,t){return e=Object(o["n"])(e),e._checkNotDeleted("ref"),void 0!==t?As(e._root,t):e._root}function Os(e,t){e=Object(o["n"])(e),e._checkNotDeleted("refFromURL");var n=ms(t,e._repo.repoInfo_.nodeAdmin);ba("refFromURL",n);var i=n.repoInfo;return e._repo.repoInfo_.isCustomHost()||i.host===e._repo.repoInfo_.host||L("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+e._repo.repoInfo_.host+")"),Ls(e,n.path.toString())}function As(e,t){return e=Object(o["n"])(e),null===ht(e._path)?ya("child","path",t,!1):ga("child","path",t,!1),new Ms(e._repo,bt(e._path,t))}function Es(e,t){e=Object(o["n"])(e),va("push",e._path),ca("push",t,e._path,!0);var n,i=Ta(e._repo),r=An(i),a=As(e,r),s=As(e,r);return n=null!=t?Ns(s,t).then((function(){return s})):Promise.resolve(s),a.then=n.then.bind(n),a.catch=n.then.bind(n,void 0),a}function Ts(e){return va("remove",e._path),Ns(e,null)}function Ns(e,t){e=Object(o["n"])(e),va("set",e._path),ca("set",t,e._path,!1);var n=new o["a"];return Fa(e._repo,e._path,t,null,n.wrapCallback((function(){}))),n.promise}function Ds(e,t){e=Object(o["n"])(e),va("setPriority",e._path),pa("setPriority",t,!1);var n=new o["a"];return Fa(e._repo,bt(e._path,".priority"),t,null,n.wrapCallback((function(){}))),n.promise}function Ps(e,t,n){if(va("setWithPriority",e._path),ca("setWithPriority",t,e._path,!1),pa("setWithPriority",n,!1),".length"===e.key||".keys"===e.key)throw"setWithPriority failed: "+e.key+" is a read-only object.";var i=new o["a"];return Fa(e._repo,e._path,t,n,i.wrapCallback((function(){}))),i.promise}function qs(e,t){ha("update",t,e._path,!1);var n=new o["a"];return $a(e._repo,e._path,t,n.wrapCallback((function(){}))),n.promise}function Is(e){return e=Object(o["n"])(e),Ra(e._repo,e).then((function(t){return new Cs(t,new Ms(e._repo,e._path),e._queryParams.getIndex())}))}var js=function(){function e(e){this.callbackContext=e}return e.prototype.respondsTo=function(e){return"value"===e},e.prototype.createEvent=function(e,t){var n=t._queryParams.getIndex();return new ys("value",this,new Cs(e.snapshotNode,new Ms(t._repo,t._path),n))},e.prototype.getEventRunner=function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,null)}},e.prototype.createCancelEvent=function(e,t){return this.callbackContext.hasCancelCallback?new vs(this,e,t):null},e.prototype.matches=function(t){return t instanceof e&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))},e.prototype.hasAnyCallback=function(){return null!==this.callbackContext},e}(),zs=function(){function e(e,t){this.eventType=e,this.callbackContext=t}return e.prototype.respondsTo=function(e){var t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t},e.prototype.createCancelEvent=function(e,t){return this.callbackContext.hasCancelCallback?new vs(this,e,t):null},e.prototype.createEvent=function(e,t){Object(o["d"])(null!=e.childName,"Child events should have a childName.");var n=As(new Ms(t._repo,t._path),e.childName),i=t._queryParams.getIndex();return new ys(e.type,this,new Cs(e.snapshotNode,n,i),e.prevName)},e.prototype.getEventRunner=function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,e.prevName)}},e.prototype.matches=function(t){return t instanceof e&&(this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext)))},e.prototype.hasAnyCallback=function(){return!!this.callbackContext},e}();function Rs(e,t,n,i,r){var o;if("object"===typeof i&&(o=void 0,r=i),"function"===typeof i&&(o=i),r&&r.onlyOnce){var a=n,s=function(t,n){Ga(e._repo,e,c),a(t,n)};s.userCallback=n.userCallback,s.context=n.context,n=s}var l=new bs(n,o||void 0),c="value"===t?new js(l):new zs(t,l);return Ha(e._repo,e,c),function(){return Ga(e._repo,e,c)}}function Fs(e,t,n,i){return Rs(e,"value",t,n,i)}function $s(e,t,n,i){return Rs(e,"child_added",t,n,i)}function Bs(e,t,n,i){return Rs(e,"child_changed",t,n,i)}function Ks(e,t,n,i){return Rs(e,"child_moved",t,n,i)}function Ws(e,t,n,i){return Rs(e,"child_removed",t,n,i)}function Vs(e,t,n){var i=null,r=n?new bs(n):null;"value"===t?i=new js(r):t&&(i=new zs(t,r)),Ga(e._repo,e,i)}var Us=function(){function e(){}return e}(),Hs=function(e){function t(t,n){var i=e.call(this)||this;return i._value=t,i._key=n,i}return Object(a["c"])(t,e),t.prototype._apply=function(e){ca("endAt",this._value,e._path,!0);var t=Un(e._queryParams,this._value,this._key);if(Ss(t),ws(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new xs(e._repo,e._path,t,e._orderByCalled)},t}(Us);function Gs(e,t){return ma("endAt","key",t,!0),new Hs(e,t)}var Xs=function(e){function t(t,n){var i=e.call(this)||this;return i._value=t,i._key=n,i}return Object(a["c"])(t,e),t.prototype._apply=function(e){ca("endBefore",this._value,e._path,!1);var t=Hn(e._queryParams,this._value,this._key);if(Ss(t),ws(t),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new xs(e._repo,e._path,t,e._orderByCalled)},t}(Us);function Zs(e,t){return ma("endBefore","key",t,!0),new Xs(e,t)}var Ys=function(e){function t(t,n){var i=e.call(this)||this;return i._value=t,i._key=n,i}return Object(a["c"])(t,e),t.prototype._apply=function(e){ca("startAt",this._value,e._path,!0);var t=Wn(e._queryParams,this._value,this._key);if(Ss(t),ws(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new xs(e._repo,e._path,t,e._orderByCalled)},t}(Us);function Qs(e,t){return void 0===e&&(e=null),ma("startAt","key",t,!0),new Ys(e,t)}var Js=function(e){function t(t,n){var i=e.call(this)||this;return i._value=t,i._key=n,i}return Object(a["c"])(t,e),t.prototype._apply=function(e){ca("startAfter",this._value,e._path,!1);var t=Vn(e._queryParams,this._value,this._key);if(Ss(t),ws(t),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new xs(e._repo,e._path,t,e._orderByCalled)},t}(Us);function el(e,t){return ma("startAfter","key",t,!0),new Js(e,t)}var tl=function(e){function t(t){var n=e.call(this)||this;return n._limit=t,n}return Object(a["c"])(t,e),t.prototype._apply=function(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new xs(e._repo,e._path,Bn(e._queryParams,this._limit),e._orderByCalled)},t}(Us);function nl(e){if("number"!==typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new tl(e)}var il=function(e){function t(t){var n=e.call(this)||this;return n._limit=t,n}return Object(a["c"])(t,e),t.prototype._apply=function(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new xs(e._repo,e._path,Kn(e._queryParams,this._limit),e._orderByCalled)},t}(Us);function rl(e){if("number"!==typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new il(e)}var ol=function(e){function t(t){var n=e.call(this)||this;return n._path=t,n}return Object(a["c"])(t,e),t.prototype._apply=function(e){ks(e,"orderByChild");var t=new ut(this._path);if(_t(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var n=new kn(t),i=Gn(e._queryParams,n);return ws(i),new xs(e._repo,e._path,i,!0)},t}(Us);function al(e){if("$key"===e)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===e)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===e)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return ga("orderByChild","path",e,!1),new ol(e)}var sl=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a["c"])(t,e),t.prototype._apply=function(e){ks(e,"orderByKey");var t=Gn(e._queryParams,Vt);return ws(t),new xs(e._repo,e._path,t,!0)},t}(Us);function ll(){return new sl}var cl=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a["c"])(t,e),t.prototype._apply=function(e){ks(e,"orderByPriority");var t=Gn(e._queryParams,dn);return ws(t),new xs(e._repo,e._path,t,!0)},t}(Us);function ul(){return new cl}var dl=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a["c"])(t,e),t.prototype._apply=function(e){ks(e,"orderByValue");var t=Gn(e._queryParams,Sn);return ws(t),new xs(e._repo,e._path,t,!0)},t}(Us);function hl(){return new dl}var pl=function(e){function t(t,n){var i=e.call(this)||this;return i._value=t,i._key=n,i}return Object(a["c"])(t,e),t.prototype._apply=function(e){if(ca("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Hs(this._value,this._key)._apply(new Ys(this._value,this._key)._apply(e))},t}(Us);function fl(e,t){return ma("equalTo","key",t,!0),new pl(e,t)}function ml(e){for(var t,n,i=[],r=1;r<arguments.length;r++)i[r-1]=arguments[r];var s=Object(o["n"])(e);try{for(var l=Object(a["g"])(i),c=l.next();!c.done;c=l.next()){var u=c.value;s=u._apply(s)}}catch(d){t={error:d}}finally{try{c&&!c.done&&(n=l.return)&&n.call(l)}finally{if(t)throw t.error}}return s}Wr(Ms),io(Ms);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var gl="FIREBASE_DATABASE_EMULATOR_HOST",yl={},vl=!1;function bl(e,t,n,i){e.repoInfo_=new de(t+":"+n,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams),i&&(e.authTokenProvider_=i)}function _l(t,n,i,r,o){var a=r||t.options.databaseURL;void 0===a&&(t.options.projectId||L("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),S("Using default host for project ",t.options.projectId),a=t.options.projectId+"-default-rtdb.firebaseio.com");var s,l=ms(a,o),c=l.repoInfo,u=void 0;"undefined"!==typeof e&&(u=Object({NODE_ENV:"production",BASE_URL:"/theo-app/"})[gl]),u?(s=!0,a="http://"+u+"?ns="+c.namespace,l=ms(a,o),c=l.repoInfo):s=!l.repoInfo.secure;var d=o&&s?new J(J.OWNER):new Q(t.name,t.options,n);ba("Invalid Firebase Database URL",l),_t(l.path)||L("Database URL must point to the root of a Firebase Database (not including a child path).");var h=kl(c,t,d,new Y(t.name,i));return new Sl(h,t)}function xl(e,t){var n=yl[t];n&&n[e.key]===e||L("Database "+t+"("+e.repoInfo_+") has already been deleted."),Xa(e),delete n[e.key]}function kl(e,t,n,i){var r=yl[t.name];r||(r={},yl[t.name]=r);var o=r[e.toURLString()];return o&&L("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new Aa(e,vl,n,i),r[e.toURLString()]=o,o}function wl(e){vl=e}var Sl=function(){function e(e,t){this._repoInternal=e,this.app=t,this["type"]="database",this._instanceStarted=!1}return Object.defineProperty(e.prototype,"_repo",{get:function(){return this._instanceStarted||(Ea(this._repoInternal,this.app.options.appId,this.app.options["databaseAuthVariableOverride"]),this._instanceStarted=!0),this._repoInternal},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_root",{get:function(){return this._rootInternal||(this._rootInternal=new Ms(this._repo,dt())),this._rootInternal},enumerable:!1,configurable:!0}),e.prototype._delete=function(){return this._checkNotDeleted("delete"),xl(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null,Promise.resolve()},e.prototype._checkNotDeleted=function(e){null===this._rootInternal&&L("Cannot call "+e+" on a deleted database.")},e}();function Ml(e,t,n,i){void 0===i&&(i={}),e=Object(o["n"])(e),e._checkNotDeleted("useEmulator"),e._instanceStarted&&L("Cannot call useEmulator() after instance has already been initialized.");var r=e._repoInternal,a=void 0;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&L('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new J(J.OWNER);else if(i.mockUserToken){var s=Object(o["i"])(i.mockUserToken,e.app.options.projectId);a=new J(s)}bl(r,t,n,a)}function Cl(e){e=Object(o["n"])(e),e._checkNotDeleted("goOffline"),Xa(e._repo)}function Ll(e){e=Object(o["n"])(e),e._checkNotDeleted("goOnline"),Za(e._repo)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ol={".sv":"timestamp"};function Al(){return Ol}function El(e){return{".sv":{increment:e}}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tl=function(){function e(e,t){this.committed=e,this.snapshot=t}return e.prototype.toJSON=function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}();function Nl(e,t,n){var i;if(e=Object(o["n"])(e),va("Reference.transaction",e._path),".length"===e.key||".keys"===e.key)throw"Reference.transaction failed: "+e.key+" is a read-only object.";var r=null===(i=null===n||void 0===n?void 0:n.applyLocally)||void 0===i||i,a=new o["a"],s=function(t,n,i){var r=null;t?a.reject(t):(r=new Cs(i,new Ms(e._repo,e._path),dn),a.resolve(new Tl(n,r)))},l=Fs(e,(function(){}));return ts(e._repo,e._path,t,s,l,r),a.promise}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dl=function(){function e(e){this._delegate=e}return e.prototype.cancel=function(e){Object(o["D"])("OnDisconnect.cancel",0,1,arguments.length),Object(o["E"])("OnDisconnect.cancel","onComplete",e,!0);var t=this._delegate.cancel();return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t},e.prototype.remove=function(e){Object(o["D"])("OnDisconnect.remove",0,1,arguments.length),Object(o["E"])("OnDisconnect.remove","onComplete",e,!0);var t=this._delegate.remove();return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t},e.prototype.set=function(e,t){Object(o["D"])("OnDisconnect.set",1,2,arguments.length),Object(o["E"])("OnDisconnect.set","onComplete",t,!0);var n=this._delegate.set(e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n},e.prototype.setWithPriority=function(e,t,n){Object(o["D"])("OnDisconnect.setWithPriority",2,3,arguments.length),Object(o["E"])("OnDisconnect.setWithPriority","onComplete",n,!0);var i=this._delegate.setWithPriority(e,t);return n&&i.then((function(){return n(null)}),(function(e){return n(e)})),i},e.prototype.update=function(e,t){if(Object(o["D"])("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){for(var n={},i=0;i<e.length;++i)n[""+i]=e[i];e=n,O("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Object(o["E"])("OnDisconnect.update","onComplete",t,!0);var r=this._delegate.update(e);return t&&r.then((function(){return t(null)}),(function(e){return t(e)})),r},e}(),Pl=function(){function e(e,t){this.committed=e,this.snapshot=t}return e.prototype.toJSON=function(){return Object(o["D"])("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}(),ql=function(){function e(e,t){this._database=e,this._delegate=t}return e.prototype.val=function(){return Object(o["D"])("DataSnapshot.val",0,0,arguments.length),this._delegate.val()},e.prototype.exportVal=function(){return Object(o["D"])("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()},e.prototype.toJSON=function(){return Object(o["D"])("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()},e.prototype.exists=function(){return Object(o["D"])("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()},e.prototype.child=function(t){return Object(o["D"])("DataSnapshot.child",0,1,arguments.length),t=String(t),ga("DataSnapshot.child","path",t,!1),new e(this._database,this._delegate.child(t))},e.prototype.hasChild=function(e){return Object(o["D"])("DataSnapshot.hasChild",1,1,arguments.length),ga("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)},e.prototype.getPriority=function(){return Object(o["D"])("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority},e.prototype.forEach=function(t){var n=this;return Object(o["D"])("DataSnapshot.forEach",1,1,arguments.length),Object(o["E"])("DataSnapshot.forEach","action",t,!1),this._delegate.forEach((function(i){return t(new e(n._database,i))}))},e.prototype.hasChildren=function(){return Object(o["D"])("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()},Object.defineProperty(e.prototype,"key",{get:function(){return this._delegate.key},enumerable:!1,configurable:!0}),e.prototype.numChildren=function(){return Object(o["D"])("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size},e.prototype.getRef=function(){return Object(o["D"])("DataSnapshot.ref",0,0,arguments.length),new jl(this._database,this._delegate.ref)},Object.defineProperty(e.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),e}(),Il=function(){function e(e,t){this.database=e,this._delegate=t}return e.prototype.on=function(t,n,i,r){var a,s=this;Object(o["D"])("Query.on",2,4,arguments.length),Object(o["E"])("Query.on","callback",n,!1);var l=e.getCancelAndContextArgs_("Query.on",i,r),c=function(e,t){n.call(l.context,new ql(s.database,e),t)};c.userCallback=n,c.context=l.context;var u=null===(a=l.cancel)||void 0===a?void 0:a.bind(l.context);switch(t){case"value":return Fs(this._delegate,c,u),n;case"child_added":return $s(this._delegate,c,u),n;case"child_removed":return Ws(this._delegate,c,u),n;case"child_changed":return Bs(this._delegate,c,u),n;case"child_moved":return Ks(this._delegate,c,u),n;default:throw new Error(Object(o["m"])("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},e.prototype.off=function(e,t,n){if(Object(o["D"])("Query.off",0,3,arguments.length),fa("Query.off",e,!0),Object(o["E"])("Query.off","callback",t,!0),Object(o["F"])("Query.off","context",n,!0),t){var i=function(){};i.userCallback=t,i.context=n,Vs(this._delegate,e,i)}else Vs(this._delegate,e)},e.prototype.get=function(){var e=this;return Is(this._delegate).then((function(t){return new ql(e.database,t)}))},e.prototype.once=function(t,n,i,r){var a=this;Object(o["D"])("Query.once",1,4,arguments.length),Object(o["E"])("Query.once","callback",n,!0);var s=e.getCancelAndContextArgs_("Query.once",i,r),l=new o["a"],c=function(e,t){var i=new ql(a.database,e);n&&n.call(s.context,i,t),l.resolve(i)};c.userCallback=n,c.context=s.context;var u=function(e){s.cancel&&s.cancel.call(s.context,e),l.reject(e)};switch(t){case"value":Fs(this._delegate,c,u,{onlyOnce:!0});break;case"child_added":$s(this._delegate,c,u,{onlyOnce:!0});break;case"child_removed":Ws(this._delegate,c,u,{onlyOnce:!0});break;case"child_changed":Bs(this._delegate,c,u,{onlyOnce:!0});break;case"child_moved":Ks(this._delegate,c,u,{onlyOnce:!0});break;default:throw new Error(Object(o["m"])("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return l.promise},e.prototype.limitToFirst=function(t){return Object(o["D"])("Query.limitToFirst",1,1,arguments.length),new e(this.database,ml(this._delegate,nl(t)))},e.prototype.limitToLast=function(t){return Object(o["D"])("Query.limitToLast",1,1,arguments.length),new e(this.database,ml(this._delegate,rl(t)))},e.prototype.orderByChild=function(t){return Object(o["D"])("Query.orderByChild",1,1,arguments.length),new e(this.database,ml(this._delegate,al(t)))},e.prototype.orderByKey=function(){return Object(o["D"])("Query.orderByKey",0,0,arguments.length),new e(this.database,ml(this._delegate,ll()))},e.prototype.orderByPriority=function(){return Object(o["D"])("Query.orderByPriority",0,0,arguments.length),new e(this.database,ml(this._delegate,ul()))},e.prototype.orderByValue=function(){return Object(o["D"])("Query.orderByValue",0,0,arguments.length),new e(this.database,ml(this._delegate,hl()))},e.prototype.startAt=function(t,n){return void 0===t&&(t=null),Object(o["D"])("Query.startAt",0,2,arguments.length),new e(this.database,ml(this._delegate,Qs(t,n)))},e.prototype.startAfter=function(t,n){return void 0===t&&(t=null),Object(o["D"])("Query.startAfter",0,2,arguments.length),new e(this.database,ml(this._delegate,el(t,n)))},e.prototype.endAt=function(t,n){return void 0===t&&(t=null),Object(o["D"])("Query.endAt",0,2,arguments.length),new e(this.database,ml(this._delegate,Gs(t,n)))},e.prototype.endBefore=function(t,n){return void 0===t&&(t=null),Object(o["D"])("Query.endBefore",0,2,arguments.length),new e(this.database,ml(this._delegate,Zs(t,n)))},e.prototype.equalTo=function(t,n){return Object(o["D"])("Query.equalTo",1,2,arguments.length),new e(this.database,ml(this._delegate,fl(t,n)))},e.prototype.toString=function(){return Object(o["D"])("Query.toString",0,0,arguments.length),this._delegate.toString()},e.prototype.toJSON=function(){return Object(o["D"])("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()},e.prototype.isEqual=function(t){if(Object(o["D"])("Query.isEqual",1,1,arguments.length),!(t instanceof e)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(t._delegate)},e.getCancelAndContextArgs_=function(e,t,n){var i={cancel:void 0,context:void 0};if(t&&n)i.cancel=t,Object(o["E"])(e,"cancel",i.cancel,!0),i.context=n,Object(o["F"])(e,"context",i.context,!0);else if(t)if("object"===typeof t&&null!==t)i.context=t;else{if("function"!==typeof t)throw new Error(Object(o["m"])(e,"cancelOrContext")+" must either be a cancel callback or a context object.");i.cancel=t}return i},Object.defineProperty(e.prototype,"ref",{get:function(){return new jl(this.database,new Ms(this._delegate._repo,this._delegate._path))},enumerable:!1,configurable:!0}),e}(),jl=function(e){function t(t,n){var i=e.call(this,t,new xs(n._repo,n._path,new Fn,!1))||this;return i.database=t,i._delegate=n,i}return Object(a["c"])(t,e),t.prototype.getKey=function(){return Object(o["D"])("Reference.key",0,0,arguments.length),this._delegate.key},t.prototype.child=function(e){return Object(o["D"])("Reference.child",1,1,arguments.length),"number"===typeof e&&(e=String(e)),new t(this.database,As(this._delegate,e))},t.prototype.getParent=function(){Object(o["D"])("Reference.parent",0,0,arguments.length);var e=this._delegate.parent;return e?new t(this.database,e):null},t.prototype.getRoot=function(){return Object(o["D"])("Reference.root",0,0,arguments.length),new t(this.database,this._delegate.root)},t.prototype.set=function(e,t){Object(o["D"])("Reference.set",1,2,arguments.length),Object(o["E"])("Reference.set","onComplete",t,!0);var n=Ns(this._delegate,e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n},t.prototype.update=function(e,t){if(Object(o["D"])("Reference.update",1,2,arguments.length),Array.isArray(e)){for(var n={},i=0;i<e.length;++i)n[""+i]=e[i];e=n,O("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}va("Reference.update",this._delegate._path),Object(o["E"])("Reference.update","onComplete",t,!0);var r=qs(this._delegate,e);return t&&r.then((function(){return t(null)}),(function(e){return t(e)})),r},t.prototype.setWithPriority=function(e,t,n){Object(o["D"])("Reference.setWithPriority",2,3,arguments.length),Object(o["E"])("Reference.setWithPriority","onComplete",n,!0);var i=Ps(this._delegate,e,t);return n&&i.then((function(){return n(null)}),(function(e){return n(e)})),i},t.prototype.remove=function(e){Object(o["D"])("Reference.remove",0,1,arguments.length),Object(o["E"])("Reference.remove","onComplete",e,!0);var t=Ts(this._delegate);return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t},t.prototype.transaction=function(e,t,n){var i=this;Object(o["D"])("Reference.transaction",1,3,arguments.length),Object(o["E"])("Reference.transaction","transactionUpdate",e,!1),Object(o["E"])("Reference.transaction","onComplete",t,!0),_a("Reference.transaction","applyLocally",n,!0);var r=Nl(this._delegate,e,{applyLocally:n}).then((function(e){return new Pl(e.committed,new ql(i.database,e.snapshot))}));return t&&r.then((function(e){return t(null,e.committed,e.snapshot)}),(function(e){return t(e,!1,null)})),r},t.prototype.setPriority=function(e,t){Object(o["D"])("Reference.setPriority",1,2,arguments.length),Object(o["E"])("Reference.setPriority","onComplete",t,!0);var n=Ds(this._delegate,e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n},t.prototype.push=function(e,n){var i=this;Object(o["D"])("Reference.push",0,2,arguments.length),Object(o["E"])("Reference.push","onComplete",n,!0);var r=Es(this._delegate,e),a=r.then((function(e){return new t(i.database,e)}));n&&a.then((function(){return n(null)}),(function(e){return n(e)}));var s=new t(this.database,r);return s.then=a.then.bind(a),s.catch=a.catch.bind(a,void 0),s},t.prototype.onDisconnect=function(){return va("Reference.onDisconnect",this._delegate._path),new Dl(new _s(this._delegate._repo,this._delegate._path))},Object.defineProperty(t.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),t}(Il),zl=function(){function e(e,t){var n=this;this._delegate=e,this.app=t,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return e.prototype.useEmulator=function(e,t,n){void 0===n&&(n={}),Ml(this._delegate,e,t,n)},e.prototype.ref=function(e){if(Object(o["D"])("database.ref",0,1,arguments.length),e instanceof jl){var t=Os(this._delegate,e.toString());return new jl(this,t)}t=Ls(this._delegate,e);return new jl(this,t)},e.prototype.refFromURL=function(e){var t="database.refFromURL";Object(o["D"])(t,1,1,arguments.length);var n=Os(this._delegate,e);return new jl(this,n)},e.prototype.goOffline=function(){return Object(o["D"])("database.goOffline",0,0,arguments.length),Cl(this._delegate)},e.prototype.goOnline=function(){return Object(o["D"])("database.goOnline",0,0,arguments.length),Ll(this._delegate)},e.ServerValue={TIMESTAMP:Al(),increment:function(e){return El(e)}},e}(),Rl=function(){Be.forceDisallow(),je.forceAllow()},Fl=function(){je.forceDisallow()},$l=function(){return Be["isAvailable"]()},Bl=function(e,t){var n=e._delegate._repo.persistentConnection_;n.securityDebugCallback_=t},Kl=function(e,t){Ya(e._delegate._repo,t)},Wl=function(e,t){Qa(e._delegate._repo,t)},Vl=function(e){return e._delegate._repo.dataUpdateCount},Ul=function(e,t){return Pa(e._delegate._repo,t)};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hl(e){var t=e.app,n=e.url,i=e.version,o=e.customAuthImpl,a=e.namespace,s=e.nodeAdmin,l=void 0!==s&&s;d(i);var c=new r["c"]("auth-internal",new r["b"]("database-standalone"));return c.setComponent(new r["a"]("auth-internal",(function(){return o}),"PRIVATE")),{instance:new zl(_l(t,c,void 0,n,l),t),namespace:a}}var Gl=Object.freeze({__proto__:null,forceLongPolling:Rl,forceWebSockets:Fl,isWebSocketsAvailable:$l,setSecurityDebugCallback:Bl,stats:Kl,statsIncrementCounter:Wl,dataUpdateCount:Vl,interceptServerData:Ul,initStandalone:Hl}),Xl=$t;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */$t.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},$t.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};var Zl=rt,Yl=function(e){var t=$t.prototype.put;return $t.prototype.put=function(n,i,r,o){void 0!==o&&(o=e()),t.call(this,n,i,r,o)},function(){$t.prototype.put=t}},Ql=de,Jl=function(e){return e._delegate._queryIdentifier},ec=function(e){wl(e)},tc=Object.freeze({__proto__:null,DataConnection:Xl,RealTimeConnection:Zl,hijackHash:Yl,ConnectionTarget:Ql,queryIdentifier:Jl,forceRestClient:ec}),nc=zl.ServerValue;function ic(e){d(e.SDK_VERSION);var n=e.INTERNAL.registerComponent(new r["a"]("database",(function(e,t){var n=t.instanceIdentifier,i=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return new zl(_l(i,r,o,n),i)}),"PUBLIC").setServiceProps({Reference:jl,Query:Il,Database:zl,DataSnapshot:ql,enableLogging:w,INTERNAL:Gl,ServerValue:nc,TEST_ACCESS:tc}).setMultipleInstances(!0));e.registerVersion(l,c),Object(o["t"])()&&(t.exports=n)}ic(i["a"])}).call(this,n("4362"),n("dd40")(e))},e95a:function(e,t,n){var i=n("b622"),r=n("3f8c"),o=i("iterator"),a=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||a[o]===e)}},f069:function(e,t,n){"use strict";var i=n("1c0b"),r=function(e){var t,n;this.promise=new e((function(e,i){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=i})),this.resolve=i(t),this.reject=i(n)};e.exports.f=function(e){return new r(e)}},f5df:function(e,t,n){var i=n("00ee"),r=n("c6b6"),o=n("b622"),a=o("toStringTag"),s="Arguments"==r(function(){return arguments}()),l=function(e,t){try{return e[t]}catch(n){}};e.exports=i?r:function(e){var t,n,i;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=l(t=Object(e),a))?n:s?r(t):"Object"==(i=r(t))&&"function"==typeof t.callee?"Arguments":i}},f772:function(e,t,n){var i=n("5692"),r=n("90e3"),o=i("keys");e.exports=function(e){return o[e]||(o[e]=r(e))}},fb6a:function(e,t,n){"use strict";var i=n("23e7"),r=n("861d"),o=n("e8b5"),a=n("23cb"),s=n("50c4"),l=n("fc6a"),c=n("8418"),u=n("b622"),d=n("1dde"),h=d("slice"),p=u("species"),f=[].slice,m=Math.max;i({target:"Array",proto:!0,forced:!h},{slice:function(e,t){var n,i,u,d=l(this),h=s(d.length),g=a(e,h),y=a(void 0===t?h:t,h);if(o(d)&&(n=d.constructor,"function"!=typeof n||n!==Array&&!o(n.prototype)?r(n)&&(n=n[p],null===n&&(n=void 0)):n=void 0,n===Array||void 0===n))return f.call(d,g,y);for(i=new(void 0===n?Array:n)(m(y-g,0)),u=0;g<y;g++,u++)g in d&&c(i,u,d[g]);return i.length=u,i}})},fbb0:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},i(e,t)};function r(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return o=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},o.apply(this,arguments)};Object.create;Object.create},fc6a:function(e,t,n){var i=n("44ad"),r=n("1d80");e.exports=function(e){return i(r(e))}},fdbc:function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},fdbf:function(e,t,n){var i=n("4930");e.exports=i&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},fdc6:function(e,t,n){"use strict";function i(e){return Array.isArray(e)}const r={m0:"#3F3D99",m1:"#993D71",m2:"#998B3D",m3:"#3D9956",m4:"#3D5A99",m5:"#993D90",m6:"#996D3D",m7:"#43993D",m8:"#3D7999",m9:"#843D99"},o={blue:"#0072BD",orange:"#D95319",yellow:"#EDB120",purple:"#7E2F8E",green:"#77AC30",cyan:"#4DBEEE",red:"#A2142F"},a={red:"#fbbbb6",orange:"#ffe0c2",yellow:"#fff1c2",lime:"#d0e8b9",green:"#bceac4",teal:"#b9f1f1",blue:"#b6d9fb",indigo:"#d1c2f0",purple:"#e3baf8",magenta:"#f9c8e0",black:"#353535","dark-grey":"#8C8C8C",grey:"#D0D0D0","light-grey":"#F0F0F0",white:"#ffffff"},s={red:"#d7170b",orange:"#fe8a2b",yellow:"#ffc02b",lime:"#63b215",green:"#21ba3a",teal:"#17cfcf",blue:"#0d80f2",indigo:"#63c",purple:"#a219e6",magenta:"#eb4799",black:"#000","dark-grey":"#666",grey:"#A6A6A6","light-grey":"#d4d5d2",white:"#ffffff"},l={Red:"red",Orange:"orange",Yellow:"yellow",LimeGreen:"lime",Green:"green",TealBlue:"teal",Blue:"blue",Violet:"indigo",Purple:"purple",Magenta:"magenta",Black:"black",Gray:"grey",White:"white"},c={Apricot:"#FBB982",Aquamarine:"#00B5BE",Bittersweet:"#C04F17",Black:"#221E1F",Blue:"#2D2F92",BlueGreen:"#00B3B8",BlueViolet:"#473992",BrickRed:"#B6321C",Brown:"#792500",BurntOrange:"#F7921D",CadetBlue:"#74729A",CarnationPink:"#F282B4",Cerulean:"#00A2E3",CornflowerBlue:"#41B0E4",Cyan:"#00AEEF",Dandelion:"#FDBC42",DarkOrchid:"#A4538A",Emerald:"#00A99D",ForestGreen:"#009B55",Fuchsia:"#8C368C",Goldenrod:"#FFDF42",Gray:"#949698",Green:"#00A64F",GreenYellow:"#DFE674",JungleGreen:"#00A99A",Lavender:"#F49EC4",Limegreen:"#8DC73E",Magenta:"#EC008C",Mahogany:"#A9341F",Maroon:"#AF3235",Melon:"#F89E7B",MidnightBlue:"#006795",Mulberry:"#A93C93",NavyBlue:"#006EB8",OliveGreen:"#3C8031",Orange:"#F58137",OrangeRed:"#ED135A",Orchid:"#AF72B0",Peach:"#F7965A",Periwinkle:"#7977B8",PineGreen:"#008B72",Plum:"#92268F",ProcessBlue:"#00B0F0",Purple:"#99479B",RawSienna:"#974006",Red:"#ED1B23",RedOrange:"#F26035",RedViolet:"#A1246B",Rhodamine:"#EF559F",RoyalBlue:"#0071BC",RoyalPurple:"#613F99",RubineRed:"#ED017D",Salmon:"#F69289",SeaGreen:"#3FBC9D",Sepia:"#671800",SkyBlue:"#46C5DD",SpringGreen:"#C6DC67",Tan:"#DA9D76",TealBlue:"#00AEB3",Thistle:"#D883B7",Turquoise:"#00B4CE",Violet:"#58429B",VioletRed:"#EF58A0",White:"#FFFFFF",WildStrawberry:"#EE2967",Yellow:"#FFF200",YellowGreen:"#98CC70",YellowOrange:"#FAA21A"};function u(e){var t,n,i,a,u,d;const h=e.split("!");let p,f,m,g=255,y=255,v=255,b=-1;const _=h.length>0&&h[0].startsWith("-");_&&(h[0]=h[0].slice(1));for(let x=0;x<h.length;x++){p=g,f=y,m=v;const e=null===(t=h[x].trim().match(/^([A-Za-z\d]+)/))||void 0===t?void 0:t[1],_=null==e?void 0:e.toLowerCase(),k=e&&null!==(d=null!==(u=null!==(a=null!==(i=null!==(n=s[_])&&void 0!==n?n:s[l[e]])&&void 0!==i?i:o[e])&&void 0!==a?a:c[e])&&void 0!==u?u:r[e])&&void 0!==d?d:h[x].trim();let w=k.match(/^#([\da-f]{2})([\da-f]{2})([\da-f]{2})$/i);if((null==w?void 0:w[1])&&w[2]&&w[3])g=Math.max(0,Math.min(255,Number.parseInt(w[1],16))),y=Math.max(0,Math.min(255,Number.parseInt(w[2],16))),v=Math.max(0,Math.min(255,Number.parseInt(w[3],16)));else if(w=k.match(/^#([\da-f]{3})$/i),null==w?void 0:w[1]){const e=Number.parseInt(w[1][0],16),t=Number.parseInt(w[1][1],16),n=Number.parseInt(w[1][2],16);g=Math.max(0,Math.min(255,16*e+e)),y=Math.max(0,Math.min(255,16*t+t)),v=Math.max(0,Math.min(255,16*n+n))}else{if(w=k.match(/^rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)$/i),!((null==w?void 0:w[1])&&w[2]&&w[3]))return;g=Math.max(0,Math.min(255,Number.parseInt(w[1]))),y=Math.max(0,Math.min(255,Number.parseInt(w[2]))),v=Math.max(0,Math.min(255,Number.parseInt(w[3])))}b>=0&&(g=(1-b)*g+b*p,y=(1-b)*y+b*f,v=(1-b)*v+b*m,b=-1),x+1<h.length&&(b=Math.max(0,Math.min(100,Number.parseInt(h[++x])))/100)}return b>=0&&(g=b*g+(1-b)*p,y=b*y+(1-b)*f,v=b*v+(1-b)*m),_&&(g=255-g,y=255-y,v=255-v),"#"+("00"+Math.round(g).toString(16)).slice(-2)+("00"+Math.round(y).toString(16)).slice(-2)+("00"+Math.round(v).toString(16)).slice(-2)}function d(e){var t,n;return e=e.trim(),null!==(n=null!==(t=a[e.toLowerCase()])&&void 0!==t?t:a[l[e]])&&void 0!==n?n:u(e)}function h(e,t,n){return n<0&&(n+=6),n>=6&&(n-=6),n<1?(t-e)*n+e:n<3?t:n<4?(t-e)*(4-n)+e:e}function p(e){return e<0?0:e>255?255:Math.round(e)}const f=[0,.69444,0,0],m=[0,.61111,0,0],g=[.25,.75,0,0],y=[0,.44444,0,0],v=[0,.68611,0,0],b=[.19444,.69444,0,0],_=[0,.68333,0,0],x=[0,.68889,0,0],k=[0,.69141,0,0],w=[0,0,0,0],S=[0,.64444,0,0],M=[0,.69224,0,0],C=[.19444,.44444,0,0],L=[.65002,1.15,0,0],O=[0,.55556,0,0],A=[.35001,.85,0,0],E=[1.25003,1.75,0,0],T=[.95003,1.45,0,0],N=[0,.75,0,0],D=[0,.47534,0,0],P=[.25001,.75,0,0],q=[.55001,1.05,0,0],I=[.16667,.68889,0,0],j=[.08167,.58167,0,0];var z={"AMS-Regular":{32:w,65:x,66:x,67:x,68:x,69:x,70:x,71:x,72:x,73:x,74:I,75:x,76:x,77:x,78:x,79:I,80:x,81:I,82:x,83:x,84:x,85:x,86:x,87:x,88:x,89:x,90:x,107:x,160:w,165:[0,.675,.025,0],174:[.15559,.69224,0,0],240:x,295:x,710:[0,.825,0,0],732:[0,.9,0,0],770:[0,.825,0,0],771:[0,.9,0,0],989:j,1008:[0,.43056,.04028,0],8245:[0,.54986,0,0],8463:x,8487:x,8498:x,8502:x,8503:x,8504:x,8513:x,8592:[-.03598,.46402,0,0],8594:[-.03598,.46402,0,0],8602:[-.13313,.36687,0,0],8603:[-.13313,.36687,0,0],8606:[.01354,.52239,0,0],8608:[.01354,.52239,0,0],8610:[.01354,.52239,0,0],8611:[.01354,.52239,0,0],8619:[0,.54986,0,0],8620:[0,.54986,0,0],8621:[-.13313,.37788,0,0],8622:[-.13313,.36687,0,0],8624:M,8625:M,8630:[0,.43056,0,0],8631:[0,.43056,0,0],8634:[.08198,.58198,0,0],8635:[.08198,.58198,0,0],8638:[.19444,.69224,0,0],8639:[.19444,.69224,0,0],8642:[.19444,.69224,0,0],8643:[.19444,.69224,0,0],8644:[.1808,.675,0,0],8646:[.1808,.675,0,0],8647:[.1808,.675,0,0],8648:[.19444,.69224,0,0],8649:[.1808,.675,0,0],8650:[.19444,.69224,0,0],8651:[.01354,.52239,0,0],8652:[.01354,.52239,0,0],8653:[-.13313,.36687,0,0],8654:[-.13313,.36687,0,0],8655:[-.13313,.36687,0,0],8666:[.13667,.63667,0,0],8667:[.13667,.63667,0,0],8669:[-.13313,.37788,0,0],8672:[-.064,.437,0,0],8674:[-.064,.437,0,0],8705:[0,.825,0,0],8708:x,8709:j,8717:[0,.43056,0,0],8722:[-.03598,.46402,0,0],8724:[.08198,.69224,0,0],8726:j,8733:M,8736:M,8737:M,8738:[.03517,.52239,0,0],8739:j,8740:[.25142,.74111,0,0],8741:j,8742:[.25142,.74111,0,0],8756:M,8757:M,8764:[-.13313,.36687,0,0],8765:[-.13313,.37788,0,0],8769:[-.13313,.36687,0,0],8770:[-.03625,.46375,0,0],8774:[.30274,.79383,0,0],8776:[-.01688,.48312,0,0],8778:j,8782:[.06062,.54986,0,0],8783:[.06062,.54986,0,0],8785:[.08198,.58198,0,0],8786:[.08198,.58198,0,0],8787:[.08198,.58198,0,0],8790:M,8791:[.22958,.72958,0,0],8796:[.08198,.91667,0,0],8806:[.25583,.75583,0,0],8807:[.25583,.75583,0,0],8808:[.25142,.75726,0,0],8809:[.25142,.75726,0,0],8812:[.25583,.75583,0,0],8814:[.20576,.70576,0,0],8815:[.20576,.70576,0,0],8816:[.30274,.79383,0,0],8817:[.30274,.79383,0,0],8818:[.22958,.72958,0,0],8819:[.22958,.72958,0,0],8822:[.1808,.675,0,0],8823:[.1808,.675,0,0],8828:[.13667,.63667,0,0],8829:[.13667,.63667,0,0],8830:[.22958,.72958,0,0],8831:[.22958,.72958,0,0],8832:[.20576,.70576,0,0],8833:[.20576,.70576,0,0],8840:[.30274,.79383,0,0],8841:[.30274,.79383,0,0],8842:[.13597,.63597,0,0],8843:[.13597,.63597,0,0],8847:[.03517,.54986,0,0],8848:[.03517,.54986,0,0],8858:[.08198,.58198,0,0],8859:[.08198,.58198,0,0],8861:[.08198,.58198,0,0],8862:[0,.675,0,0],8863:[0,.675,0,0],8864:[0,.675,0,0],8865:[0,.675,0,0],8872:M,8873:M,8874:M,8876:x,8877:x,8878:x,8879:x,8882:[.03517,.54986,0,0],8883:[.03517,.54986,0,0],8884:[.13667,.63667,0,0],8885:[.13667,.63667,0,0],8888:[0,.54986,0,0],8890:[.19444,.43056,0,0],8891:[.19444,.69224,0,0],8892:[.19444,.69224,0,0],8901:[0,.54986,0,0],8903:j,8905:j,8906:j,8907:M,8908:M,8909:[-.03598,.46402,0,0],8910:[0,.54986,0,0],8911:[0,.54986,0,0],8912:[.03517,.54986,0,0],8913:[.03517,.54986,0,0],8914:[0,.54986,0,0],8915:[0,.54986,0,0],8916:M,8918:[.0391,.5391,0,0],8919:[.0391,.5391,0,0],8920:[.03517,.54986,0,0],8921:[.03517,.54986,0,0],8922:[.38569,.88569,0,0],8923:[.38569,.88569,0,0],8926:[.13667,.63667,0,0],8927:[.13667,.63667,0,0],8928:[.30274,.79383,0,0],8929:[.30274,.79383,0,0],8934:[.23222,.74111,0,0],8935:[.23222,.74111,0,0],8936:[.23222,.74111,0,0],8937:[.23222,.74111,0,0],8938:[.20576,.70576,0,0],8939:[.20576,.70576,0,0],8940:[.30274,.79383,0,0],8941:[.30274,.79383,0,0],8994:[.19444,.69224,0,0],8995:[.19444,.69224,0,0],9416:[.15559,.69224,0,0],9484:M,9488:M,9492:[0,.37788,0,0],9496:[0,.37788,0,0],9585:[.19444,.68889,0,0],9586:[.19444,.74111,0,0],9632:[0,.675,0,0],9633:[0,.675,0,0],9650:[0,.54986,0,0],9651:[0,.54986,0,0],9654:[.03517,.54986,0,0],9660:[0,.54986,0,0],9661:[0,.54986,0,0],9664:[.03517,.54986,0,0],9674:[.11111,.69224,0,0],9733:[.19444,.69224,0,0],10003:M,10016:M,10731:[.11111,.69224,0,0],10846:[.19444,.75583,0,0],10877:[.13667,.63667,0,0],10878:[.13667,.63667,0,0],10885:[.25583,.75583,0,0],10886:[.25583,.75583,0,0],10887:[.13597,.63597,0,0],10888:[.13597,.63597,0,0],10889:[.26167,.75726,0,0],10890:[.26167,.75726,0,0],10891:[.48256,.98256,0,0],10892:[.48256,.98256,0,0],10901:[.13667,.63667,0,0],10902:[.13667,.63667,0,0],10933:[.25142,.75726,0,0],10934:[.25142,.75726,0,0],10935:[.26167,.75726,0,0],10936:[.26167,.75726,0,0],10937:[.26167,.75726,0,0],10938:[.26167,.75726,0,0],10949:[.25583,.75583,0,0],10950:[.25583,.75583,0,0],10955:[.28481,.79383,0,0],10956:[.28481,.79383,0,0],57350:j,57351:j,57352:j,57353:[0,.43056,.04028,0],57356:[.25142,.75726,0,0],57357:[.25142,.75726,0,0],57358:[.41951,.91951,0,0],57359:[.30274,.79383,0,0],57360:[.30274,.79383,0,0],57361:[.41951,.91951,0,0],57366:[.25142,.75726,0,0],57367:[.25142,.75726,0,0],57368:[.25142,.75726,0,0],57369:[.25142,.75726,0,0],57370:[.13597,.63597,0,0],57371:[.13597,.63597,0,0]},"Caligraphic-Regular":{32:w,65:[0,.68333,0,.19445],66:[0,.68333,.03041,.13889],67:[0,.68333,.05834,.13889],68:[0,.68333,.02778,.08334],69:[0,.68333,.08944,.11111],70:[0,.68333,.09931,.11111],71:[.09722,.68333,.0593,.11111],72:[0,.68333,.00965,.11111],73:[0,.68333,.07382,0],74:[.09722,.68333,.18472,.16667],75:[0,.68333,.01445,.05556],76:[0,.68333,0,.13889],77:[0,.68333,0,.13889],78:[0,.68333,.14736,.08334],79:[0,.68333,.02778,.11111],80:[0,.68333,.08222,.08334],81:[.09722,.68333,0,.11111],82:[0,.68333,0,.08334],83:[0,.68333,.075,.13889],84:[0,.68333,.25417,0],85:[0,.68333,.09931,.08334],86:[0,.68333,.08222,0],87:[0,.68333,.08222,.08334],88:[0,.68333,.14643,.13889],89:[.09722,.68333,.08222,.08334],90:[0,.68333,.07944,.13889],160:w},"Fraktur-Regular":{32:w,33:k,34:k,38:k,39:k,40:[.24982,.74947,0,0],41:[.24982,.74947,0,0],42:[0,.62119,0,0],43:[.08319,.58283,0,0],44:[0,.10803,0,0],45:[.08319,.58283,0,0],46:[0,.10803,0,0],47:[.24982,.74947,0,0],48:D,49:D,50:D,51:[.18906,.47534,0,0],52:[.18906,.47534,0,0],53:[.18906,.47534,0,0],54:k,55:[.18906,.47534,0,0],56:k,57:[.18906,.47534,0,0],58:D,59:[.12604,.47534,0,0],61:[-.13099,.36866,0,0],63:k,65:k,66:k,67:k,68:k,69:k,70:[.12604,.69141,0,0],71:k,72:[.06302,.69141,0,0],73:k,74:[.12604,.69141,0,0],75:k,76:k,77:k,78:k,79:k,80:[.18906,.69141,0,0],81:[.03781,.69141,0,0],82:k,83:k,84:k,85:k,86:k,87:k,88:k,89:[.18906,.69141,0,0],90:[.12604,.69141,0,0],91:[.24982,.74947,0,0],93:[.24982,.74947,0,0],94:k,97:D,98:k,99:D,100:[0,.62119,0,0],101:D,102:[.18906,.69141,0,0],103:[.18906,.47534,0,0],104:[.18906,.69141,0,0],105:k,106:k,107:k,108:k,109:D,110:D,111:D,112:[.18906,.52396,0,0],113:[.18906,.47534,0,0],114:D,115:D,116:[0,.62119,0,0],117:D,118:[0,.52396,0,0],119:[0,.52396,0,0],120:[.18906,.47534,0,0],121:[.18906,.47534,0,0],122:[.18906,.47534,0,0],160:w,8216:k,8217:k,58112:[0,.62119,0,0],58113:[0,.62119,0,0],58114:[.18906,.69141,0,0],58115:[.18906,.69141,0,0],58116:[.18906,.47534,0,0],58117:k,58118:[0,.62119,0,0],58119:D},"Main-Bold":{32:w,33:f,34:f,35:b,36:[.05556,.75,0,0],37:[.05556,.75,0,0],38:f,39:f,40:g,41:g,42:N,43:[.13333,.63333,0,0],44:[.19444,.15556,0,0],45:y,46:[0,.15556,0,0],47:g,48:S,49:S,50:S,51:S,52:S,53:S,54:S,55:S,56:S,57:S,58:y,59:C,60:[.08556,.58556,0,0],61:[-.10889,.39111,0,0],62:[.08556,.58556,0,0],63:f,64:f,65:v,66:v,67:v,68:v,69:v,70:v,71:v,72:v,73:v,74:v,75:v,76:v,77:v,78:v,79:v,80:v,81:[.19444,.68611,0,0],82:v,83:v,84:v,85:v,86:[0,.68611,.01597,0],87:[0,.68611,.01597,0],88:v,89:[0,.68611,.02875,0],90:v,91:g,92:g,93:g,94:f,95:[.31,.13444,.03194,0],97:y,98:f,99:y,100:f,101:y,102:[0,.69444,.10903,0],103:[.19444,.44444,.01597,0],104:f,105:f,106:b,107:f,108:f,109:y,110:y,111:y,112:C,113:C,114:y,115:y,116:[0,.63492,0,0],117:y,118:[0,.44444,.01597,0],119:[0,.44444,.01597,0],120:y,121:[.19444,.44444,.01597,0],122:y,123:g,124:g,125:g,126:[.35,.34444,0,0],160:w,163:f,168:f,172:y,176:f,177:[.13333,.63333,0,0],184:[.17014,0,0,0],198:v,215:[.13333,.63333,0,0],216:[.04861,.73472,0,0],223:f,230:y,247:[.13333,.63333,0,0],248:[.09722,.54167,0,0],305:y,338:v,339:y,567:C,710:f,711:[0,.63194,0,0],713:[0,.59611,0,0],714:f,715:f,728:f,729:f,730:f,732:f,733:f,915:v,916:v,920:v,923:v,926:v,928:v,931:v,933:v,934:v,936:v,937:v,8211:[0,.44444,.03194,0],8212:[0,.44444,.03194,0],8216:f,8217:f,8220:f,8221:f,8224:b,8225:b,8242:O,8407:[0,.72444,.15486,0],8463:f,8465:f,8467:f,8472:C,8476:f,8501:f,8592:[-.10889,.39111,0,0],8593:b,8594:[-.10889,.39111,0,0],8595:b,8596:[-.10889,.39111,0,0],8597:g,8598:b,8599:b,8600:b,8601:b,8636:[-.10889,.39111,0,0],8637:[-.10889,.39111,0,0],8640:[-.10889,.39111,0,0],8641:[-.10889,.39111,0,0],8656:[-.10889,.39111,0,0],8657:b,8658:[-.10889,.39111,0,0],8659:b,8660:[-.10889,.39111,0,0],8661:g,8704:f,8706:[0,.69444,.06389,0],8707:f,8709:[.05556,.75,0,0],8711:v,8712:[.08556,.58556,0,0],8715:[.08556,.58556,0,0],8722:[.13333,.63333,0,0],8723:[.13333,.63333,0,0],8725:g,8726:g,8727:[-.02778,.47222,0,0],8728:[-.02639,.47361,0,0],8729:[-.02639,.47361,0,0],8730:[.18,.82,0,0],8733:y,8734:y,8736:M,8739:g,8741:g,8743:O,8744:O,8745:O,8746:O,8747:[.19444,.69444,.12778,0],8764:[-.10889,.39111,0,0],8768:b,8771:[.00222,.50222,0,0],8776:[.02444,.52444,0,0],8781:[.00222,.50222,0,0],8801:[.00222,.50222,0,0],8804:[.19667,.69667,0,0],8805:[.19667,.69667,0,0],8810:[.08556,.58556,0,0],8811:[.08556,.58556,0,0],8826:[.08556,.58556,0,0],8827:[.08556,.58556,0,0],8834:[.08556,.58556,0,0],8835:[.08556,.58556,0,0],8838:[.19667,.69667,0,0],8839:[.19667,.69667,0,0],8846:O,8849:[.19667,.69667,0,0],8850:[.19667,.69667,0,0],8851:O,8852:O,8853:[.13333,.63333,0,0],8854:[.13333,.63333,0,0],8855:[.13333,.63333,0,0],8856:[.13333,.63333,0,0],8857:[.13333,.63333,0,0],8866:f,8867:f,8868:f,8869:f,8900:[-.02639,.47361,0,0],8901:[-.02639,.47361,0,0],8902:[-.02778,.47222,0,0],8968:g,8969:g,8970:g,8971:g,8994:[-.13889,.36111,0,0],8995:[-.13889,.36111,0,0],9651:b,9657:[-.02778,.47222,0,0],9661:b,9667:[-.02778,.47222,0,0],9711:b,9824:[.12963,.69444,0,0],9825:[.12963,.69444,0,0],9826:[.12963,.69444,0,0],9827:[.12963,.69444,0,0],9837:N,9838:b,9839:b,10216:g,10217:g,10815:v,10927:[.19667,.69667,0,0],10928:[.19667,.69667,0,0],57376:b},"Main-BoldItalic":{32:w,33:[0,.69444,.11417,0],34:[0,.69444,.07939,0],35:[.19444,.69444,.06833,0],37:[.05556,.75,.12861,0],38:[0,.69444,.08528,0],39:[0,.69444,.12945,0],40:[.25,.75,.15806,0],41:[.25,.75,.03306,0],42:[0,.75,.14333,0],43:[.10333,.60333,.03306,0],44:[.19444,.14722,0,0],45:[0,.44444,.02611,0],46:[0,.14722,0,0],47:[.25,.75,.15806,0],48:[0,.64444,.13167,0],49:[0,.64444,.13167,0],50:[0,.64444,.13167,0],51:[0,.64444,.13167,0],52:[.19444,.64444,.13167,0],53:[0,.64444,.13167,0],54:[0,.64444,.13167,0],55:[.19444,.64444,.13167,0],56:[0,.64444,.13167,0],57:[0,.64444,.13167,0],58:[0,.44444,.06695,0],59:[.19444,.44444,.06695,0],61:[-.10889,.39111,.06833,0],63:[0,.69444,.11472,0],64:[0,.69444,.09208,0],65:v,66:[0,.68611,.0992,0],67:[0,.68611,.14208,0],68:[0,.68611,.09062,0],69:[0,.68611,.11431,0],70:[0,.68611,.12903,0],71:[0,.68611,.07347,0],72:[0,.68611,.17208,0],73:[0,.68611,.15681,0],74:[0,.68611,.145,0],75:[0,.68611,.14208,0],76:v,77:[0,.68611,.17208,0],78:[0,.68611,.17208,0],79:[0,.68611,.09062,0],80:[0,.68611,.0992,0],81:[.19444,.68611,.09062,0],82:[0,.68611,.02559,0],83:[0,.68611,.11264,0],84:[0,.68611,.12903,0],85:[0,.68611,.17208,0],86:[0,.68611,.18625,0],87:[0,.68611,.18625,0],88:[0,.68611,.15681,0],89:[0,.68611,.19803,0],90:[0,.68611,.14208,0],91:[.25,.75,.1875,0],93:[.25,.75,.09972,0],94:[0,.69444,.06709,0],95:[.31,.13444,.09811,0],97:[0,.44444,.09426,0],98:[0,.69444,.07861,0],99:[0,.44444,.05222,0],100:[0,.69444,.10861,0],101:[0,.44444,.085,0],102:[.19444,.69444,.21778,0],103:[.19444,.44444,.105,0],104:[0,.69444,.09426,0],105:[0,.69326,.11387,0],106:[.19444,.69326,.1672,0],107:[0,.69444,.11111,0],108:[0,.69444,.10861,0],109:[0,.44444,.09426,0],110:[0,.44444,.09426,0],111:[0,.44444,.07861,0],112:[.19444,.44444,.07861,0],113:[.19444,.44444,.105,0],114:[0,.44444,.11111,0],115:[0,.44444,.08167,0],116:[0,.63492,.09639,0],117:[0,.44444,.09426,0],118:[0,.44444,.11111,0],119:[0,.44444,.11111,0],120:[0,.44444,.12583,0],121:[.19444,.44444,.105,0],122:[0,.44444,.13889,0],126:[.35,.34444,.11472,0],160:w,168:[0,.69444,.11473,0],176:f,184:[.17014,0,0,0],198:[0,.68611,.11431,0],216:[.04861,.73472,.09062,0],223:[.19444,.69444,.09736,0],230:[0,.44444,.085,0],248:[.09722,.54167,.09458,0],305:[0,.44444,.09426,0],338:[0,.68611,.11431,0],339:[0,.44444,.085,0],567:[.19444,.44444,.04611,0],710:[0,.69444,.06709,0],711:[0,.63194,.08271,0],713:[0,.59444,.10444,0],714:[0,.69444,.08528,0],715:f,728:[0,.69444,.10333,0],729:[0,.69444,.12945,0],730:f,732:[0,.69444,.11472,0],733:[0,.69444,.11472,0],915:[0,.68611,.12903,0],916:v,920:[0,.68611,.09062,0],923:v,926:[0,.68611,.15092,0],928:[0,.68611,.17208,0],931:[0,.68611,.11431,0],933:[0,.68611,.10778,0],934:[0,.68611,.05632,0],936:[0,.68611,.10778,0],937:[0,.68611,.0992,0],8211:[0,.44444,.09811,0],8212:[0,.44444,.09811,0],8216:[0,.69444,.12945,0],8217:[0,.69444,.12945,0],8220:[0,.69444,.16772,0],8221:[0,.69444,.07939,0]},"Main-Italic":{32:w,33:[0,.69444,.12417,0],34:[0,.69444,.06961,0],35:[.19444,.69444,.06616,0],37:[.05556,.75,.13639,0],38:[0,.69444,.09694,0],39:[0,.69444,.12417,0],40:[.25,.75,.16194,0],41:[.25,.75,.03694,0],42:[0,.75,.14917,0],43:[.05667,.56167,.03694,0],44:[.19444,.10556,0,0],45:[0,.43056,.02826,0],46:[0,.10556,0,0],47:[.25,.75,.16194,0],48:[0,.64444,.13556,0],49:[0,.64444,.13556,0],50:[0,.64444,.13556,0],51:[0,.64444,.13556,0],52:[.19444,.64444,.13556,0],53:[0,.64444,.13556,0],54:[0,.64444,.13556,0],55:[.19444,.64444,.13556,0],56:[0,.64444,.13556,0],57:[0,.64444,.13556,0],58:[0,.43056,.0582,0],59:[.19444,.43056,.0582,0],61:[-.13313,.36687,.06616,0],63:[0,.69444,.1225,0],64:[0,.69444,.09597,0],65:_,66:[0,.68333,.10257,0],67:[0,.68333,.14528,0],68:[0,.68333,.09403,0],69:[0,.68333,.12028,0],70:[0,.68333,.13305,0],71:[0,.68333,.08722,0],72:[0,.68333,.16389,0],73:[0,.68333,.15806,0],74:[0,.68333,.14028,0],75:[0,.68333,.14528,0],76:_,77:[0,.68333,.16389,0],78:[0,.68333,.16389,0],79:[0,.68333,.09403,0],80:[0,.68333,.10257,0],81:[.19444,.68333,.09403,0],82:[0,.68333,.03868,0],83:[0,.68333,.11972,0],84:[0,.68333,.13305,0],85:[0,.68333,.16389,0],86:[0,.68333,.18361,0],87:[0,.68333,.18361,0],88:[0,.68333,.15806,0],89:[0,.68333,.19383,0],90:[0,.68333,.14528,0],91:[.25,.75,.1875,0],93:[.25,.75,.10528,0],94:[0,.69444,.06646,0],95:[.31,.12056,.09208,0],97:[0,.43056,.07671,0],98:[0,.69444,.06312,0],99:[0,.43056,.05653,0],100:[0,.69444,.10333,0],101:[0,.43056,.07514,0],102:[.19444,.69444,.21194,0],103:[.19444,.43056,.08847,0],104:[0,.69444,.07671,0],105:[0,.65536,.1019,0],106:[.19444,.65536,.14467,0],107:[0,.69444,.10764,0],108:[0,.69444,.10333,0],109:[0,.43056,.07671,0],110:[0,.43056,.07671,0],111:[0,.43056,.06312,0],112:[.19444,.43056,.06312,0],113:[.19444,.43056,.08847,0],114:[0,.43056,.10764,0],115:[0,.43056,.08208,0],116:[0,.61508,.09486,0],117:[0,.43056,.07671,0],118:[0,.43056,.10764,0],119:[0,.43056,.10764,0],120:[0,.43056,.12042,0],121:[.19444,.43056,.08847,0],122:[0,.43056,.12292,0],126:[.35,.31786,.11585,0],160:w,168:[0,.66786,.10474,0],176:f,184:[.17014,0,0,0],198:[0,.68333,.12028,0],216:[.04861,.73194,.09403,0],223:[.19444,.69444,.10514,0],230:[0,.43056,.07514,0],248:[.09722,.52778,.09194,0],338:[0,.68333,.12028,0],339:[0,.43056,.07514,0],710:[0,.69444,.06646,0],711:[0,.62847,.08295,0],713:[0,.56167,.10333,0],714:[0,.69444,.09694,0],715:f,728:[0,.69444,.10806,0],729:[0,.66786,.11752,0],730:f,732:[0,.66786,.11585,0],733:[0,.69444,.1225,0],915:[0,.68333,.13305,0],916:_,920:[0,.68333,.09403,0],923:_,926:[0,.68333,.15294,0],928:[0,.68333,.16389,0],931:[0,.68333,.12028,0],933:[0,.68333,.11111,0],934:[0,.68333,.05986,0],936:[0,.68333,.11111,0],937:[0,.68333,.10257,0],8211:[0,.43056,.09208,0],8212:[0,.43056,.09208,0],8216:[0,.69444,.12417,0],8217:[0,.69444,.12417,0],8220:[0,.69444,.1685,0],8221:[0,.69444,.06961,0],8463:x},"Main-Regular":{32:w,33:f,34:f,35:b,36:[.05556,.75,0,0],37:[.05556,.75,0,0],38:f,39:f,40:g,41:g,42:N,43:[.08333,.58333,0,0],44:[.19444,.10556,0,0],45:[0,.43056,0,0],46:[0,.10556,0,0],47:g,48:S,49:S,50:S,51:S,52:S,53:S,54:S,55:S,56:S,57:S,58:[0,.43056,0,0],59:[.19444,.43056,0,0],60:[.0391,.5391,0,0],61:[-.13313,.36687,0,0],62:[.0391,.5391,0,0],63:f,64:f,65:_,66:_,67:_,68:_,69:_,70:_,71:_,72:_,73:_,74:_,75:_,76:_,77:_,78:_,79:_,80:_,81:[.19444,.68333,0,0],82:_,83:_,84:_,85:_,86:[0,.68333,.01389,0],87:[0,.68333,.01389,0],88:_,89:[0,.68333,.025,0],90:_,91:g,92:g,93:g,94:f,95:[.31,.12056,.02778,0],97:[0,.43056,0,0],98:f,99:[0,.43056,0,0],100:f,101:[0,.43056,0,0],102:[0,.69444,.07778,0],103:[.19444,.43056,.01389,0],104:f,105:[0,.66786,0,0],106:[.19444,.66786,0,0],107:f,108:f,109:[0,.43056,0,0],110:[0,.43056,0,0],111:[0,.43056,0,0],112:[.19444,.43056,0,0],113:[.19444,.43056,0,0],114:[0,.43056,0,0],115:[0,.43056,0,0],116:[0,.61508,0,0],117:[0,.43056,0,0],118:[0,.43056,.01389,0],119:[0,.43056,.01389,0],120:[0,.43056,0,0],121:[.19444,.43056,.01389,0],122:[0,.43056,0,0],123:g,124:g,125:g,126:[.35,.31786,0,0],160:w,163:f,167:b,168:[0,.66786,0,0],172:[0,.43056,0,0],176:f,177:[.08333,.58333,0,0],182:b,184:[.17014,0,0,0],198:_,215:[.08333,.58333,0,0],216:[.04861,.73194,0,0],223:f,230:[0,.43056,0,0],247:[.08333,.58333,0,0],248:[.09722,.52778,0,0],305:[0,.43056,0,0],338:_,339:[0,.43056,0,0],567:[.19444,.43056,0,0],710:f,711:[0,.62847,0,0],713:[0,.56778,0,0],714:f,715:f,728:f,729:[0,.66786,0,0],730:f,732:[0,.66786,0,0],733:f,915:_,916:_,920:_,923:_,926:_,928:_,931:_,933:_,934:_,936:_,937:_,8211:[0,.43056,.02778,0],8212:[0,.43056,.02778,0],8216:f,8217:f,8220:f,8221:f,8224:b,8225:b,8230:[0,.12,0,0],8242:O,8407:[0,.71444,.15382,0],8463:x,8465:f,8467:[0,.69444,0,.11111],8472:[.19444,.43056,0,.11111],8476:f,8501:f,8592:[-.13313,.36687,0,0],8593:b,8594:[-.13313,.36687,0,0],8595:b,8596:[-.13313,.36687,0,0],8597:g,8598:b,8599:b,8600:b,8601:b,8614:[.011,.511,0,0],8617:[.011,.511,0,0],8618:[.011,.511,0,0],8636:[-.13313,.36687,0,0],8637:[-.13313,.36687,0,0],8640:[-.13313,.36687,0,0],8641:[-.13313,.36687,0,0],8652:[.011,.671,0,0],8656:[-.13313,.36687,0,0],8657:b,8658:[-.13313,.36687,0,0],8659:b,8660:[-.13313,.36687,0,0],8661:g,8704:f,8706:[0,.69444,.05556,.08334],8707:f,8709:[.05556,.75,0,0],8711:_,8712:[.0391,.5391,0,0],8715:[.0391,.5391,0,0],8722:[.08333,.58333,0,0],8723:[.08333,.58333,0,0],8725:g,8726:g,8727:[-.03472,.46528,0,0],8728:[-.05555,.44445,0,0],8729:[-.05555,.44445,0,0],8730:[.2,.8,0,0],8733:[0,.43056,0,0],8734:[0,.43056,0,0],8736:M,8739:g,8741:g,8743:O,8744:O,8745:O,8746:O,8747:[.19444,.69444,.11111,0],8764:[-.13313,.36687,0,0],8768:b,8771:[-.03625,.46375,0,0],8773:[-.022,.589,0,0],8776:[-.01688,.48312,0,0],8781:[-.03625,.46375,0,0],8784:[-.133,.67,0,0],8801:[-.03625,.46375,0,0],8804:[.13597,.63597,0,0],8805:[.13597,.63597,0,0],8810:[.0391,.5391,0,0],8811:[.0391,.5391,0,0],8826:[.0391,.5391,0,0],8827:[.0391,.5391,0,0],8834:[.0391,.5391,0,0],8835:[.0391,.5391,0,0],8838:[.13597,.63597,0,0],8839:[.13597,.63597,0,0],8846:O,8849:[.13597,.63597,0,0],8850:[.13597,.63597,0,0],8851:O,8852:O,8853:[.08333,.58333,0,0],8854:[.08333,.58333,0,0],8855:[.08333,.58333,0,0],8856:[.08333,.58333,0,0],8857:[.08333,.58333,0,0],8866:f,8867:f,8868:f,8869:f,8872:[.249,.75,0,0],8900:[-.05555,.44445,0,0],8901:[-.05555,.44445,0,0],8902:[-.03472,.46528,0,0],8904:[.005,.505,0,0],8942:[.03,.9,0,0],8943:[-.19,.31,0,0],8945:[-.1,.82,0,0],8968:g,8969:g,8970:g,8971:g,8994:[-.14236,.35764,0,0],8995:[-.14236,.35764,0,0],9136:[.244,.744,0,0],9137:[.244,.744,0,0],9651:b,9657:[-.03472,.46528,0,0],9661:b,9667:[-.03472,.46528,0,0],9711:b,9824:[.12963,.69444,0,0],9825:[.12963,.69444,0,0],9826:[.12963,.69444,0,0],9827:[.12963,.69444,0,0],9837:N,9838:b,9839:b,10216:g,10217:g,10222:[.244,.744,0,0],10223:[.244,.744,0,0],10229:[.011,.511,0,0],10230:[.011,.511,0,0],10231:[.011,.511,0,0],10232:[.024,.525,0,0],10233:[.024,.525,0,0],10234:[.024,.525,0,0],10236:[.011,.511,0,0],10815:_,10927:[.13597,.63597,0,0],10928:[.13597,.63597,0,0],57376:b},"Math-BoldItalic":{32:w,48:y,49:y,50:y,51:C,52:C,53:C,54:S,55:C,56:S,57:C,65:v,66:[0,.68611,.04835,0],67:[0,.68611,.06979,0],68:[0,.68611,.03194,0],69:[0,.68611,.05451,0],70:[0,.68611,.15972,0],71:v,72:[0,.68611,.08229,0],73:[0,.68611,.07778,0],74:[0,.68611,.10069,0],75:[0,.68611,.06979,0],76:v,77:[0,.68611,.11424,0],78:[0,.68611,.11424,0],79:[0,.68611,.03194,0],80:[0,.68611,.15972,0],81:[.19444,.68611,0,0],82:[0,.68611,.00421,0],83:[0,.68611,.05382,0],84:[0,.68611,.15972,0],85:[0,.68611,.11424,0],86:[0,.68611,.25555,0],87:[0,.68611,.15972,0],88:[0,.68611,.07778,0],89:[0,.68611,.25555,0],90:[0,.68611,.06979,0],97:y,98:f,99:y,100:f,101:y,102:[.19444,.69444,.11042,0],103:[.19444,.44444,.03704,0],104:f,105:[0,.69326,0,0],106:[.19444,.69326,.0622,0],107:[0,.69444,.01852,0],108:[0,.69444,.0088,0],109:y,110:y,111:y,112:C,113:[.19444,.44444,.03704,0],114:[0,.44444,.03194,0],115:y,116:[0,.63492,0,0],117:y,118:[0,.44444,.03704,0],119:[0,.44444,.02778,0],120:y,121:[.19444,.44444,.03704,0],122:[0,.44444,.04213,0],160:w,915:[0,.68611,.15972,0],916:v,920:[0,.68611,.03194,0],923:v,926:[0,.68611,.07458,0],928:[0,.68611,.08229,0],931:[0,.68611,.05451,0],933:[0,.68611,.15972,0],934:v,936:[0,.68611,.11653,0],937:[0,.68611,.04835,0],945:y,946:[.19444,.69444,.03403,0],947:[.19444,.44444,.06389,0],948:[0,.69444,.03819,0],949:y,950:[.19444,.69444,.06215,0],951:[.19444,.44444,.03704,0],952:[0,.69444,.03194,0],953:y,954:y,955:f,956:C,957:[0,.44444,.06898,0],958:[.19444,.69444,.03021,0],959:y,960:[0,.44444,.03704,0],961:C,962:[.09722,.44444,.07917,0],963:[0,.44444,.03704,0],964:[0,.44444,.13472,0],965:[0,.44444,.03704,0],966:C,967:C,968:[.19444,.69444,.03704,0],969:[0,.44444,.03704,0],977:f,981:b,982:[0,.44444,.03194,0],1009:C,1013:y,57649:y,57911:C},"Math-Italic":{32:w,48:[0,.43056,0,0],49:[0,.43056,0,0],50:[0,.43056,0,0],51:[.19444,.43056,0,0],52:[.19444,.43056,0,0],53:[.19444,.43056,0,0],54:S,55:[.19444,.43056,0,0],56:S,57:[.19444,.43056,0,0],65:[0,.68333,0,.13889],66:[0,.68333,.05017,.08334],67:[0,.68333,.07153,.08334],68:[0,.68333,.02778,.05556],69:[0,.68333,.05764,.08334],70:[0,.68333,.13889,.08334],71:[0,.68333,0,.08334],72:[0,.68333,.08125,.05556],73:[0,.68333,.07847,.11111],74:[0,.68333,.09618,.16667],75:[0,.68333,.07153,.05556],76:[0,.68333,0,.02778],77:[0,.68333,.10903,.08334],78:[0,.68333,.10903,.08334],79:[0,.68333,.02778,.08334],80:[0,.68333,.13889,.08334],81:[.19444,.68333,0,.08334],82:[0,.68333,.00773,.08334],83:[0,.68333,.05764,.08334],84:[0,.68333,.13889,.08334],85:[0,.68333,.10903,.02778],86:[0,.68333,.22222,0],87:[0,.68333,.13889,0],88:[0,.68333,.07847,.08334],89:[0,.68333,.22222,0],90:[0,.68333,.07153,.08334],97:[0,.43056,0,0],98:f,99:[0,.43056,0,.05556],100:[0,.69444,0,.16667],101:[0,.43056,0,.05556],102:[.19444,.69444,.10764,.16667],103:[.19444,.43056,.03588,.02778],104:f,105:[0,.65952,0,0],106:[.19444,.65952,.05724,0],107:[0,.69444,.03148,0],108:[0,.69444,.01968,.08334],109:[0,.43056,0,0],110:[0,.43056,0,0],111:[0,.43056,0,.05556],112:[.19444,.43056,0,.08334],113:[.19444,.43056,.03588,.08334],114:[0,.43056,.02778,.05556],115:[0,.43056,0,.05556],116:[0,.61508,0,.08334],117:[0,.43056,0,.02778],118:[0,.43056,.03588,.02778],119:[0,.43056,.02691,.08334],120:[0,.43056,0,.02778],121:[.19444,.43056,.03588,.05556],122:[0,.43056,.04398,.05556],160:w,915:[0,.68333,.13889,.08334],916:[0,.68333,0,.16667],920:[0,.68333,.02778,.08334],923:[0,.68333,0,.16667],926:[0,.68333,.07569,.08334],928:[0,.68333,.08125,.05556],931:[0,.68333,.05764,.08334],933:[0,.68333,.13889,.05556],934:[0,.68333,0,.08334],936:[0,.68333,.11,.05556],937:[0,.68333,.05017,.08334],945:[0,.43056,.0037,.02778],946:[.19444,.69444,.05278,.08334],947:[.19444,.43056,.05556,0],948:[0,.69444,.03785,.05556],949:[0,.43056,0,.08334],950:[.19444,.69444,.07378,.08334],951:[.19444,.43056,.03588,.05556],952:[0,.69444,.02778,.08334],953:[0,.43056,0,.05556],954:[0,.43056,0,0],955:f,956:[.19444,.43056,0,.02778],957:[0,.43056,.06366,.02778],958:[.19444,.69444,.04601,.11111],959:[0,.43056,0,.05556],960:[0,.43056,.03588,0],961:[.19444,.43056,0,.08334],962:[.09722,.43056,.07986,.08334],963:[0,.43056,.03588,0],964:[0,.43056,.1132,.02778],965:[0,.43056,.03588,.02778],966:[.19444,.43056,0,.08334],967:[.19444,.43056,0,.05556],968:[.19444,.69444,.03588,.11111],969:[0,.43056,.03588,0],977:[0,.69444,0,.08334],981:[.19444,.69444,0,.08334],982:[0,.43056,.02778,0],1009:[.19444,.43056,0,.08334],1013:[0,.43056,0,.05556],57649:[0,.43056,0,.02778],57911:[.19444,.43056,0,.08334]},"SansSerif-Bold":{32:w,33:f,34:f,35:b,36:[.05556,.75,0,0],37:[.05556,.75,0,0],38:f,39:f,40:g,41:g,42:N,43:[.11667,.61667,0,0],44:[.10556,.13056,0,0],45:[0,.45833,0,0],46:[0,.13056,0,0],47:g,48:f,49:f,50:f,51:f,52:f,53:f,54:f,55:f,56:f,57:f,58:[0,.45833,0,0],59:[.10556,.45833,0,0],61:[-.09375,.40625,0,0],63:f,64:f,65:f,66:f,67:f,68:f,69:f,70:f,71:f,72:f,73:f,74:f,75:f,76:f,77:f,78:f,79:f,80:f,81:[.10556,.69444,0,0],82:f,83:f,84:f,85:f,86:[0,.69444,.01528,0],87:[0,.69444,.01528,0],88:f,89:[0,.69444,.0275,0],90:f,91:g,93:g,94:f,95:[.35,.10833,.03056,0],97:[0,.45833,0,0],98:f,99:[0,.45833,0,0],100:f,101:[0,.45833,0,0],102:[0,.69444,.07639,0],103:[.19444,.45833,.01528,0],104:f,105:f,106:b,107:f,108:f,109:[0,.45833,0,0],110:[0,.45833,0,0],111:[0,.45833,0,0],112:[.19444,.45833,0,0],113:[.19444,.45833,0,0],114:[0,.45833,.01528,0],115:[0,.45833,0,0],116:[0,.58929,0,0],117:[0,.45833,0,0],118:[0,.45833,.01528,0],119:[0,.45833,.01528,0],120:[0,.45833,0,0],121:[.19444,.45833,.01528,0],122:[0,.45833,0,0],126:[.35,.34444,0,0],160:w,168:f,176:f,180:f,184:[.17014,0,0,0],305:[0,.45833,0,0],567:[.19444,.45833,0,0],710:f,711:[0,.63542,0,0],713:[0,.63778,0,0],728:f,729:f,730:f,732:f,733:f,915:f,916:f,920:f,923:f,926:f,928:f,931:f,933:f,934:f,936:f,937:f,8211:[0,.45833,.03056,0],8212:[0,.45833,.03056,0],8216:f,8217:f,8220:f,8221:f},"SansSerif-Italic":{32:w,33:[0,.69444,.05733,0],34:[0,.69444,.00316,0],35:[.19444,.69444,.05087,0],36:[.05556,.75,.11156,0],37:[.05556,.75,.03126,0],38:[0,.69444,.03058,0],39:[0,.69444,.07816,0],40:[.25,.75,.13164,0],41:[.25,.75,.02536,0],42:[0,.75,.11775,0],43:[.08333,.58333,.02536,0],44:[.125,.08333,0,0],45:[0,.44444,.01946,0],46:[0,.08333,0,0],47:[.25,.75,.13164,0],48:[0,.65556,.11156,0],49:[0,.65556,.11156,0],50:[0,.65556,.11156,0],51:[0,.65556,.11156,0],52:[0,.65556,.11156,0],53:[0,.65556,.11156,0],54:[0,.65556,.11156,0],55:[0,.65556,.11156,0],56:[0,.65556,.11156,0],57:[0,.65556,.11156,0],58:[0,.44444,.02502,0],59:[.125,.44444,.02502,0],61:[-.13,.37,.05087,0],63:[0,.69444,.11809,0],64:[0,.69444,.07555,0],65:f,66:[0,.69444,.08293,0],67:[0,.69444,.11983,0],68:[0,.69444,.07555,0],69:[0,.69444,.11983,0],70:[0,.69444,.13372,0],71:[0,.69444,.11983,0],72:[0,.69444,.08094,0],73:[0,.69444,.13372,0],74:[0,.69444,.08094,0],75:[0,.69444,.11983,0],76:f,77:[0,.69444,.08094,0],78:[0,.69444,.08094,0],79:[0,.69444,.07555,0],80:[0,.69444,.08293,0],81:[.125,.69444,.07555,0],82:[0,.69444,.08293,0],83:[0,.69444,.09205,0],84:[0,.69444,.13372,0],85:[0,.69444,.08094,0],86:[0,.69444,.1615,0],87:[0,.69444,.1615,0],88:[0,.69444,.13372,0],89:[0,.69444,.17261,0],90:[0,.69444,.11983,0],91:[.25,.75,.15942,0],93:[.25,.75,.08719,0],94:[0,.69444,.0799,0],95:[.35,.09444,.08616,0],97:[0,.44444,.00981,0],98:[0,.69444,.03057,0],99:[0,.44444,.08336,0],100:[0,.69444,.09483,0],101:[0,.44444,.06778,0],102:[0,.69444,.21705,0],103:[.19444,.44444,.10836,0],104:[0,.69444,.01778,0],105:[0,.67937,.09718,0],106:[.19444,.67937,.09162,0],107:[0,.69444,.08336,0],108:[0,.69444,.09483,0],109:[0,.44444,.01778,0],110:[0,.44444,.01778,0],111:[0,.44444,.06613,0],112:[.19444,.44444,.0389,0],113:[.19444,.44444,.04169,0],114:[0,.44444,.10836,0],115:[0,.44444,.0778,0],116:[0,.57143,.07225,0],117:[0,.44444,.04169,0],118:[0,.44444,.10836,0],119:[0,.44444,.10836,0],120:[0,.44444,.09169,0],121:[.19444,.44444,.10836,0],122:[0,.44444,.08752,0],126:[.35,.32659,.08826,0],160:w,168:[0,.67937,.06385,0],176:f,184:[.17014,0,0,0],305:[0,.44444,.04169,0],567:[.19444,.44444,.04169,0],710:[0,.69444,.0799,0],711:[0,.63194,.08432,0],713:[0,.60889,.08776,0],714:[0,.69444,.09205,0],715:f,728:[0,.69444,.09483,0],729:[0,.67937,.07774,0],730:f,732:[0,.67659,.08826,0],733:[0,.69444,.09205,0],915:[0,.69444,.13372,0],916:f,920:[0,.69444,.07555,0],923:f,926:[0,.69444,.12816,0],928:[0,.69444,.08094,0],931:[0,.69444,.11983,0],933:[0,.69444,.09031,0],934:[0,.69444,.04603,0],936:[0,.69444,.09031,0],937:[0,.69444,.08293,0],8211:[0,.44444,.08616,0],8212:[0,.44444,.08616,0],8216:[0,.69444,.07816,0],8217:[0,.69444,.07816,0],8220:[0,.69444,.14205,0],8221:[0,.69444,.00316,0]},"SansSerif-Regular":{32:w,33:f,34:f,35:b,36:[.05556,.75,0,0],37:[.05556,.75,0,0],38:f,39:f,40:g,41:g,42:N,43:[.08333,.58333,0,0],44:[.125,.08333,0,0],45:y,46:[0,.08333,0,0],47:g,48:[0,.65556,0,0],49:[0,.65556,0,0],50:[0,.65556,0,0],51:[0,.65556,0,0],52:[0,.65556,0,0],53:[0,.65556,0,0],54:[0,.65556,0,0],55:[0,.65556,0,0],56:[0,.65556,0,0],57:[0,.65556,0,0],58:y,59:[.125,.44444,0,0],61:[-.13,.37,0,0],63:f,64:f,65:f,66:f,67:f,68:f,69:f,70:f,71:f,72:f,73:f,74:f,75:f,76:f,77:f,78:f,79:f,80:f,81:[.125,.69444,0,0],82:f,83:f,84:f,85:f,86:[0,.69444,.01389,0],87:[0,.69444,.01389,0],88:f,89:[0,.69444,.025,0],90:f,91:g,93:g,94:f,95:[.35,.09444,.02778,0],97:y,98:f,99:y,100:f,101:y,102:[0,.69444,.06944,0],103:[.19444,.44444,.01389,0],104:f,105:[0,.67937,0,0],106:[.19444,.67937,0,0],107:f,108:f,109:y,110:y,111:y,112:C,113:C,114:[0,.44444,.01389,0],115:y,116:[0,.57143,0,0],117:y,118:[0,.44444,.01389,0],119:[0,.44444,.01389,0],120:y,121:[.19444,.44444,.01389,0],122:y,126:[.35,.32659,0,0],160:w,168:[0,.67937,0,0],176:f,184:[.17014,0,0,0],305:y,567:C,710:f,711:[0,.63194,0,0],713:[0,.60889,0,0],714:f,715:f,728:f,729:[0,.67937,0,0],730:f,732:[0,.67659,0,0],733:f,915:f,916:f,920:f,923:f,926:f,928:f,931:f,933:f,934:f,936:f,937:f,8211:[0,.44444,.02778,0],8212:[0,.44444,.02778,0],8216:f,8217:f,8220:f,8221:f},"Script-Regular":{32:w,65:[0,.7,.22925,0],66:[0,.7,.04087,0],67:[0,.7,.1689,0],68:[0,.7,.09371,0],69:[0,.7,.18583,0],70:[0,.7,.13634,0],71:[0,.7,.17322,0],72:[0,.7,.29694,0],73:[0,.7,.19189,0],74:[.27778,.7,.19189,0],75:[0,.7,.31259,0],76:[0,.7,.19189,0],77:[0,.7,.15981,0],78:[0,.7,.3525,0],79:[0,.7,.08078,0],80:[0,.7,.08078,0],81:[0,.7,.03305,0],82:[0,.7,.06259,0],83:[0,.7,.19189,0],84:[0,.7,.29087,0],85:[0,.7,.25815,0],86:[0,.7,.27523,0],87:[0,.7,.27523,0],88:[0,.7,.26006,0],89:[0,.7,.2939,0],90:[0,.7,.24037,0],160:w},"Size1-Regular":{32:w,40:A,41:A,47:A,91:A,92:A,93:A,123:A,125:A,160:w,710:[0,.72222,0,0],732:[0,.72222,0,0],770:[0,.72222,0,0],771:[0,.72222,0,0],8214:[-99e-5,.601,0,0],8593:[1e-5,.6,0,0],8595:[1e-5,.6,0,0],8657:[1e-5,.6,0,0],8659:[1e-5,.6,0,0],8719:P,8720:P,8721:P,8730:A,8739:[-.00599,.606,0,0],8741:[-.00599,.606,0,0],8747:[.30612,.805,.19445,0],8748:[.306,.805,.19445,0],8749:[.306,.805,.19445,0],8750:[.30612,.805,.19445,0],8896:P,8897:P,8898:P,8899:P,8968:A,8969:A,8970:A,8971:A,9168:[-99e-5,.601,0,0],10216:A,10217:A,10752:P,10753:P,10754:P,10756:P,10758:P},"Size2-Regular":{32:w,40:L,41:L,47:L,91:L,92:L,93:L,123:L,125:L,160:w,710:N,732:N,770:N,771:N,8719:q,8720:q,8721:q,8730:L,8747:[.86225,1.36,.44445,0],8748:[.862,1.36,.44445,0],8749:[.862,1.36,.44445,0],8750:[.86225,1.36,.44445,0],8896:q,8897:q,8898:q,8899:q,8968:L,8969:L,8970:L,8971:L,10216:L,10217:L,10752:q,10753:q,10754:q,10756:q,10758:q},"Size3-Regular":{32:w,40:T,41:T,47:T,91:T,92:T,93:T,123:T,125:T,160:w,710:N,732:N,770:N,771:N,8730:T,8968:T,8969:T,8970:T,8971:T,10216:T,10217:T},"Size4-Regular":{32:w,40:E,41:E,47:E,91:E,92:E,93:E,123:E,125:E,160:w,710:[0,.825,0,0],732:[0,.825,0,0],770:[0,.825,0,0],771:[0,.825,0,0],8730:E,8968:E,8969:E,8970:E,8971:E,9115:[.64502,1.155,0,0],9116:[1e-5,.6,0,0],9117:[.64502,1.155,0,0],9118:[.64502,1.155,0,0],9119:[1e-5,.6,0,0],9120:[.64502,1.155,0,0],9121:[.64502,1.155,0,0],9122:[-99e-5,.601,0,0],9123:[.64502,1.155,0,0],9124:[.64502,1.155,0,0],9125:[-99e-5,.601,0,0],9126:[.64502,1.155,0,0],9127:[1e-5,.9,0,0],9128:L,9129:[.90001,0,0,0],9130:[0,.3,0,0],9131:[1e-5,.9,0,0],9132:L,9133:[.90001,0,0,0],9143:[.88502,.915,0,0],10216:E,10217:E,57344:[-.00499,.605,0,0],57345:[-.00499,.605,0,0],57680:[0,.12,0,0],57681:[0,.12,0,0],57682:[0,.12,0,0],57683:[0,.12,0,0]},"Typewriter-Regular":{32:w,33:m,34:m,35:m,36:[.08333,.69444,0,0],37:[.08333,.69444,0,0],38:m,39:m,40:[.08333,.69444,0,0],41:[.08333,.69444,0,0],42:[0,.52083,0,0],43:[-.08056,.53055,0,0],44:[.13889,.125,0,0],45:[-.08056,.53055,0,0],46:[0,.125,0,0],47:[.08333,.69444,0,0],48:m,49:m,50:m,51:m,52:m,53:m,54:m,55:m,56:m,57:m,58:[0,.43056,0,0],59:[.13889,.43056,0,0],60:[-.05556,.55556,0,0],61:[-.19549,.41562,0,0],62:[-.05556,.55556,0,0],63:m,64:m,65:m,66:m,67:m,68:m,69:m,70:m,71:m,72:m,73:m,74:m,75:m,76:m,77:m,78:m,79:m,80:m,81:[.13889,.61111,0,0],82:m,83:m,84:m,85:m,86:m,87:m,88:m,89:m,90:m,91:[.08333,.69444,0,0],92:[.08333,.69444,0,0],93:[.08333,.69444,0,0],94:m,95:[.09514,0,0,0],96:m,97:[0,.43056,0,0],98:m,99:[0,.43056,0,0],100:m,101:[0,.43056,0,0],102:m,103:[.22222,.43056,0,0],104:m,105:m,106:[.22222,.61111,0,0],107:m,108:m,109:[0,.43056,0,0],110:[0,.43056,0,0],111:[0,.43056,0,0],112:[.22222,.43056,0,0],113:[.22222,.43056,0,0],114:[0,.43056,0,0],115:[0,.43056,0,0],116:[0,.55358,0,0],117:[0,.43056,0,0],118:[0,.43056,0,0],119:[0,.43056,0,0],120:[0,.43056,0,0],121:[.22222,.43056,0,0],122:[0,.43056,0,0],123:[.08333,.69444,0,0],124:[.08333,.69444,0,0],125:[.08333,.69444,0,0],126:m,127:m,160:w,176:m,184:[.19445,0,0,0],305:[0,.43056,0,0],567:[.22222,.43056,0,0],711:[0,.56597,0,0],713:[0,.56555,0,0],714:m,715:m,728:m,730:m,770:m,771:m,776:m,915:m,916:m,920:m,923:m,926:m,928:m,931:m,933:m,934:m,936:m,937:m,8216:m,8217:m,8242:m,9251:[.11111,.21944,0,0]}};const R=/[\u3040-\u309F]|[\u30A0-\u30FF]|[\u4E00-\u9FAF]|[\uAC00-\uD7AF]/,F={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04]},$=[0,.5,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],B={"Â ":" ","â":" ","Ã":"A","Ã":"C","Ã":"D","Ã":"o","Ã¥":"a","Ã§":"c","Ã°":"d","Ã¾":"o","Ð":"A","Ð":"B","Ð":"B","Ð":"F","Ð":"A","Ð":"E","Ð":"K","Ð":"3","Ð":"N","Ð":"N","Ð":"K","Ð":"N","Ð":"M","Ð":"H","Ð":"O","Ð":"N","Ð ":"P","Ð¡":"C","Ð¢":"T","Ð£":"y","Ð¤":"O","Ð¥":"X","Ð¦":"U","Ð§":"h","Ð¨":"W","Ð©":"W","Ðª":"B","Ð«":"X","Ð¬":"B","Ð­":"3","Ð®":"X","Ð¯":"R","Ð°":"a","Ð±":"b","Ð²":"a","Ð³":"r","Ð´":"y","Ðµ":"e","Ð¶":"m","Ð·":"e","Ð¸":"n","Ð¹":"n","Ðº":"n","Ð»":"n","Ð¼":"m","Ð½":"n","Ð¾":"o","Ð¿":"n","Ñ":"p","Ñ":"c","Ñ":"o","Ñ":"y","Ñ":"b","Ñ":"x","Ñ":"n","Ñ":"n","Ñ":"w","Ñ":"w","Ñ":"a","Ñ":"m","Ñ":"a","Ñ":"e","Ñ":"m","Ñ":"r"};function K(e,t){void 0===e&&(e=77);const n=z[t][e];if(n)return{defaultMetrics:!1,depth:n[0],height:n[1],italic:n[2],skew:n[3]};if(11034===e)return{defaultMetrics:!0,depth:.2,height:.8,italic:0,skew:0};const i=String.fromCodePoint(e);if(i in B)e=B[i].codePointAt(0);else if(R.test(i))return e=77,{defaultMetrics:!0,depth:.2,height:.9,italic:0,skew:0};return{defaultMetrics:!0,depth:.2,height:.7,italic:0,skew:0}}class W{constructor(e,t,n){this.id=e,this.sizeDelta=t,this.cramped=n;const i={"-4":2,"-3":1,0:0}[t];this.metrics=Object.keys(F).reduce((e,t)=>({...e,[t]:F[t][i]}),{})}getFontSize(e){return Math.max(1,e+this.sizeDelta)}get sup(){return V[[0,1,0,1,2,3,2,3][this.id]]}get sub(){return V[[0,0,0,0,2,2,2,2][this.id]]}get fracNum(){return V[[0,1,0,1,2,3,4,5][this.id]]}get fracDen(){return V[[0,0,0,0,2,2,4,4][this.id]]}get cramp(){return V[[0,0,2,2,4,4,6,6][this.id]]}get isTight(){return this.sizeDelta<0}}const V={7:new W(7,0,!1),6:new W(6,0,!0),5:new W(5,0,!1),4:new W(4,0,!0),3:new W(3,-3,!1),2:new W(2,-3,!0),1:new W(1,-4,!1),0:new W(0,-4,!0)};function U(e,t){return null===e?0:function(e,t){var n;if(!e)return 0;const i={pt:1,mm:7227/2540,cm:7227/254,ex:35271/8192,px:3/4,em:10,bp:1.00375,dd:1238/1157,pc:12,in:72.27,mu:10/18}[null!==(n=e.unit)&&void 0!==n?n:"pt"];if(Number.isFinite(t)){const n=10**t;return Math.round(e.dimension/10*i*n)/n}return e.dimension*i}(e,t)/10}function H(e){var t;return`${e.dimension}${null!==(t=e.unit)&&void 0!==t?t:"pt"}`}V.displaystyle=V[7],V.textstyle=V[5],V.scriptstyle=V[3],V.scriptscriptstyle=V[1];class G{constructor(e,t,n){var i,r,o,a,s,l,c,u,d,f;e instanceof G&&(this.parent=e),e instanceof G||(this.registers=null!==(i=e.registers)&&void 0!==i?i:{}),this.isSelected=null!==(o=null!==(r=null==t?void 0:t.isSelected)&&void 0!==r?r:null==e?void 0:e.isSelected)&&void 0!==o&&o,this.isPhantom=null!==(l=null!==(a=null==t?void 0:t.isPhantom)&&void 0!==a?a:null===(s=this.parent)||void 0===s?void 0:s.isPhantom)&&void 0!==l&&l;const m={...e};if(t){let e;t.fontSize&&"auto"!==t.fontSize&&t.fontSize!==(null===(c=this.parent)||void 0===c?void 0:c._size)&&(e=t.fontSize),t.letterShapeStyle&&"auto"!==t.letterShapeStyle&&(m.letterShapeStyle=t.letterShapeStyle),t.color&&"none"!==t.color&&(m.color=t.color),t.backgroundColor&&"none"!==t.backgroundColor&&(m.backgroundColor=this.isSelected?function(e){let t=function(e){if(!e)return;if("#"!==e[0])return;let t;return(e=e.slice(1)).length<=4?(t={r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16)},4===e.length&&(t.a=parseInt(e[3]+e[3],16)/255)):(t={r:parseInt(e[0]+e[1],16),g:parseInt(e[2]+e[3],16),b:parseInt(e[4]+e[5],16)},8===e.length&&(t.a=parseInt(e[6]+e[7],16)/255)),t&&void 0===t.a&&(t.a=1),t}(e);if(!t)return e;let{h:n,s:i,l:r}=function(e){let{r:t,g:n,b:i}=e;t/=255,n/=255,i/=255;const r=Math.min(t,n,i),o=Math.max(t,n,i),a=o-r;let s,l;o===r?s=0:t===o?s=(n-i)/a:n===o?s=2+(i-t)/a:i===o&&(s=4+(t-n)/a),s=Math.min(60*s,360),s<0&&(s+=360);const c=(r+o)/2;return l=o===r?0:c<=.5?a/(o+r):a/(2-o-r),{h:s,s:l,l:c}}(t);return i+=.1,r-=.1,function(e){const{r:t,g:n,b:i}=e;let r=((1<<24)+(p(t)<<16)+(p(n)<<8)+p(i)).toString(16).slice(1);return r[0]===r[1]&&r[2]===r[3]&&r[4]===r[5]&&r[6]===r[7]&&(r=r[0]+r[2]+r[4]),"#"+r}(function(e){let[t,n,i]=[e.h,e.s,e.l];t=(t+360)%360/60,i=Math.max(0,Math.min(i,1)),n=Math.max(0,Math.min(n,1));const r=i<=.5?i*(n+1):i+n-i*n,o=2*i-r;return{r:Math.round(255*h(o,r,t+2)),g:Math.round(255*h(o,r,t)),b:Math.round(255*h(o,r,t-2))}}({h:n,s:i,l:r}))}(t.backgroundColor):t.backgroundColor),this._size=e}let g;if(this.letterShapeStyle=null!==(u=m.letterShapeStyle)&&void 0!==u?u:"tex",this.color=m.color,this.backgroundColor=m.backgroundColor,"string"==typeof n){if(e instanceof G)switch(n){case"cramp":g=e.mathstyle.cramp;break;case"superscript":g=e.mathstyle.sup;break;case"subscript":g=e.mathstyle.sub;break;case"numerator":g=e.mathstyle.fracNum;break;case"denominator":g=e.mathstyle.fracDen}switch(n){case"textstyle":g=V.textstyle;break;case"displaystyle":g=V.displaystyle;break;case"scriptstyle":g=V.scriptstyle;break;case"scriptscriptstyle":g=V.scriptscriptstyle}}this._mathstyle=g,this.atomIdsSettings=e.atomIdsSettings,this.macros=null!==(d=m.macros)&&void 0!==d?d:{},this.smartFence=null!==(f=m.smartFence)&&void 0!==f&&f,this.renderPlaceholder=m.renderPlaceholder}get mathstyle(){let e=this._mathstyle,t=this.parent;for(;!e;)e=t._mathstyle,t=t.parent;return e}getRegister(e){var t;return(null===(t=this.registers)||void 0===t?void 0:t[e])?this.registers[e]:this.parent?this.parent.getRegister(e):void 0}getRegisterAsGlue(e){var t;if(null===(t=this.registers)||void 0===t?void 0:t[e]){const t=this.registers[e];return"object"==typeof t&&"glue"in t?t:"object"==typeof t&&"dimension"in t?{glue:{dimension:t.dimension}}:"number"==typeof t?{glue:{dimension:t}}:void 0}if(this.parent)return this.parent.getRegisterAsGlue(e)}getRegisterAsEm(e){return U(this.getRegisterAsDimension(e))}getRegisterAsDimension(e){var t;if(null===(t=this.registers)||void 0===t?void 0:t[e]){const t=this.registers[e];return"object"==typeof t&&"glue"in t?t.glue:"object"==typeof t&&"dimension"in t?t:"number"==typeof t?{dimension:t}:void 0}if(this.parent)return this.parent.getRegisterAsDimension(e)}setRegister(e,t){void 0!==t?this.registers[e]=t:delete this.registers[e]}setGlobalRegister(e,t){let n=this;for(;n.parent;)n.setRegister(e,void 0),n=n.parent;n.setRegister(e,t)}get size(){let e=this._size,t=this.parent;for(;!e;)e=t._size,t=t.parent;return e}makeID(){if(!this.atomIdsSettings)return;if("number"!=typeof this.atomIdsSettings.seed)return Date.now().toString(36).slice(-2)+Math.floor(1e5*Math.random()).toString(36);const e=this.atomIdsSettings.overrideID?this.atomIdsSettings.overrideID:this.atomIdsSettings.seed.toString(36);return this.atomIdsSettings.seed+=1,e}scale(e){return e*this.effectiveFontSize}get scalingFactor(){return this.parent?this.effectiveFontSize/this.parent.effectiveFontSize:1}get isDisplayStyle(){return 7===this.mathstyle.id||6===this.mathstyle.id}get isCramped(){return this.mathstyle.cramped}get isTight(){return this.mathstyle.isTight}get effectiveFontSize(){return $[Math.max(1,this.size+this.mathstyle.sizeDelta)]}get computedColor(){let e=this.color,t=this.parent;return!e&&t&&(e=t.color,t=t.parent),null!=e?e:""}get computedBackgroundColor(){let e=this.backgroundColor,t=this.parent;return!e&&t&&(e=t.backgroundColor,t=t.parent),null!=e?e:""}get metrics(){return this.mathstyle.metrics}}const X={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},Z={widehat1:[1062,239,.24],widehat2:[2364,300,.3],widehat3:[2364,360,.36],widehat4:[2364,420,.42],widecheck1:[1062,239,.24],widecheck2:[2364,300,.3],widecheck3:[2364,360,.36],widecheck4:[2364,420,.42],widetilde1:[600,260,.26],widetilde2:[1033,286,.286],widetilde3:[2339,306,.306],widetilde4:[2340,312,.34],overarc:[1061,159,.3],underarc:[1061,159,.3]},Y={doubleleftarrow:"M262 157\nl10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3\n 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28\n 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5\nc2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5\n 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87\n-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7\n-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z\nm8 0v40h399730v-40zm0 194v40h399730v-40z",doublerightarrow:"M399738 392l\n-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5\n 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88\n-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68\n-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18\n-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782\nc-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3\n-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z",leftarrow:"M400000 241H110l3-3c68.7-52.7 113.7-120\n 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8\n-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247\nc-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208\n 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3\n 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202\n l-3-3h399890zM100 241v40h399900v-40z",leftbrace:"M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117\n-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7\n 5-6 9-10 13-.7 1-7.3 1-20 1H6z",leftbraceunder:"M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13\n 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688\n 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7\n-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z",overarc:"M529 0c179 0 524 115 524 115 5 1 9 5 9 10 0 1-1 2-1 3l-4 22c-1 5-5 9-11 9h-2s-338-93-512-92c-174 0-513 92-513 92h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13 0 0 342-115 520-115z",underarc:"m 529 160\n  c -179 0 -524 -115 -524 -115\n  c -5 -1 -9 -5 -9 -10\n  c 0 -1 1 -2 1 -3\n  l 4 -22\n  c 1 -5 5 -9 11 -9\n  h 2\n  s 338 93 512 92\n  c 174 0 513 -92 513 -92\n  h 2\n  c 5 0 9 4 11 9\n  l 5 22\n  c 1 6 -2 12 -8 13\n  c 0 0 -342 115 -520 115\n  z\n  ",leftgroup:"M400000 80\nH435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0\n 435 0h399565z",leftgroupunder:"M400000 262\nH435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219\n 435 219h399565z",leftharpoon:"M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3\n-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5\n-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7\n-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z",leftharpoonplus:"M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5\n 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3\n-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7\n-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z\nm0 0v40h400000v-40z",leftharpoondown:"M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333\n 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5\n 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667\n-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z",leftharpoondownplus:"M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12\n 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7\n-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0\nv40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z",lefthook:"M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5\n-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3\n-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21\n 71.5 23h399859zM103 281v-40h399897v40z",leftlinesegment:"M40 281 V428 H0 V94 H40 V241 H400000 v40z\nM40 281 V428 H0 V94 H40 V241 H400000 v40z",leftmapsto:"M40 281 V448H0V74H40V241H400000v40z\nM40 281 V448H0V74H40V241H400000v40z",leftToFrom:"M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23\n-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8\nc28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3\n 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z",longequal:"M0 50 h400000 v40H0z m0 194h40000v40H0z\nM0 50 h400000 v40H0z m0 194h40000v40H0z",midbrace:"M200428 334\nc-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14\n-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7\n 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11\n 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z",midbraceunder:"M199572 214\nc100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14\n 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3\n 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0\n-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z",oiintSize1:"M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6\n-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z\nm368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8\n60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z",oiintSize2:"M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8\n-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z\nm502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2\nc0 110 84 276 504 276s502.4-166 502.4-276z",oiiintSize1:"M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6\n-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z\nm525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0\n85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z",oiiintSize2:"M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8\n-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z\nm770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1\nc0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z",rightarrow:"M0 241v40h399891c-47.3 35.3-84 78-110 128\n-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20\n 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7\n 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85\n-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5\n-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67\n 151.7 139 205zm0 0v40h399900v-40z",rightbrace:"M400000 542l\n-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5\ns-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1\nc124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z",rightbraceunder:"M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3\n 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237\n-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z",rightgroup:"M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0\n 3-1 3-3v-38c-76-158-257-219-435-219H0z",rightgroupunder:"M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18\n 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z",rightharpoon:"M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3\n-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2\n-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58\n 69.2 92 94.5zm0 0v40h399900v-40z",rightharpoonplus:"M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11\n-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7\n 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z\nm0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z",rightharpoondown:"M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8\n 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5\n-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95\n-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z",rightharpoondownplus:"M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8\n 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3\n 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3\n-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z\nm0-194v40h400000v-40zm0 0v40h400000v-40z",righthook:"M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3\n 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0\n-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21\n 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z",rightlinesegment:"M399960 241 V94 h40 V428 h-40 V281 H0 v-40z\nM399960 241 V94 h40 V428 h-40 V281 H0 v-40z",rightToFrom:"M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23\n 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32\n-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142\n-167z M100 147v40h399900v-40zM0 341v40h399900v-40z",twoheadleftarrow:"M0 167c68 40\n 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69\n-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3\n-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19\n-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101\n 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z",twoheadrightarrow:"M400000 167\nc-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3\n 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42\n 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333\n-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70\n 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z",widetilde1:"M200 55.538c-77 0-168 73.953-177 73.953-3 0-7\n-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0\n 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0\n 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128\n-68.267.847-113-73.952-191-73.952z",widetilde2:"M344 55.266c-142 0-300.638 81.316-311.5 86.418\n-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9\n 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114\nc1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751\n 181.476 676 181.476c-149 0-189-126.21-332-126.21z",widetilde3:"M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457\n-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0\n 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697\n 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696\n -338 0-409-156.573-744-156.573z",widetilde4:"M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345\n-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409\n 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9\n 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409\n -175.236-744-175.236z",vec:"M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5\n3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11\n10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63\n-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1\n-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59\nH213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359\nc-16-25.333-24-45-24-59z",widehat1:"M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22\nc-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z",widehat2:"M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10\n-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z",widehat3:"M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10\n-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z",widehat4:"M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10\n-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z",widecheck1:"M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,\n-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z",widecheck2:"M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,\n-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z",widecheck3:"M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,\n-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z",widecheck4:"M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,\n-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z",baraboveleftarrow:"M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202\nc4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5\nc-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130\ns-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47\n121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6\ns2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11\nc0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z\nM100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z",rightarrowabovebar:"M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32\n-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0\n13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39\n-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5\n-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5\n-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67\n151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z",baraboveshortleftharpoon:"M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11\nc1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17\nc2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21\nc-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40\nc-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z\nM0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z",rightharpoonaboveshortbar:"M0,241 l0,40c399126,0,399993,0,399993,0\nc4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,\n-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6\nc-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z\nM0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z",shortbaraboveleftharpoon:"M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11\nc1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,\n1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,\n-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z\nM93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z",shortrightharpoonabovebar:"M53,241l0,40c398570,0,399437,0,399437,0\nc4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,\n-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6\nc-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z\nM500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z"};class Q{constructor(e){Q._registry[e]=this}static createAtom(e,t,n){return Q._registry[e].createAtom(t,n)}static parseTokens(e,t,n,i){return Q._registry[e].parseTokens(t,n,i)}static serialize(e,t){return Q._registry[e[0].mode].serialize(e,t)}static applyStyle(e,t,n){return Q._registry[e].applyStyle(t,n)}createAtom(e,t){return null}parseTokens(e,t,n){return null}serialize(e,t){return""}applyStyle(e,t){return""}}function J(e,t){const n=[];let i,r=[];for(const o of e)if("first"!==o.type){let e;"variant"===t?(e=o.style.variant,o.style.variantStyle&&"up"!==o.style.variantStyle&&(e+="-"+o.style.variantStyle)):"cssClass"===t?"group"===o.type&&(e=o.customClass):e=o.style[t],e===i?r.push(o):(r.length>0&&n.push(r),r=[o],i=e)}return r.length>0&&n.push(r),n}Q._registry={};const ee=["","chem","mord","mbin","mop","mrel","mopen","mclose","mpunct","minner","spacing","first","latex","composition","error","placeholder","supsub","none"],te={mord:{mop:3,mbin:4,mrel:5,minner:3},mop:{mord:3,mop:3,rel:5,minner:3},mbin:{mord:4,mop:4,mopen:4,minner:4},mrel:{mord:5,mop:5,mopen:5,minner:5},mclose:{mop:3,mbin:4,mrel:5,minner:3},mpunct:{mord:3,mop:3,mrel:3,mopen:3,mpunct:3,minner:3},minner:{mord:3,mop:3,mbin:4,mrel:5,mopen:3,mpunct:3,minner:3}},ne={mord:{mop:3},mop:{mord:3,mop:3},mclose:{mop:3},minner:{mop:3}};function ie(e,t){if("string"==typeof e)return e;if("number"==typeof e){const n=Math.ceil(100*e)/100;return 0===n?"0":n.toString()+(null!=t?t:"")}return""}class re{constructor(e,t){var n,r,o,a,s,l,c,u;if("number"==typeof e?this.value=String.fromCodePoint(e):"string"==typeof e?this.value=e:i(e)?this.children=e.filter(e=>null!==e):e&&e instanceof re&&(this.children=[e]),this.type=null!==(n=null==t?void 0:t.type)&&void 0!==n?n:"",this.isSelected=!1,this.isTight=null!==(r=null==t?void 0:t.isTight)&&void 0!==r&&r,this.newList=null!==(o=null==t?void 0:t.newList)&&void 0!==o&&o,null==t?void 0:t.properties)for(const i of Object.keys(t.properties))this.setStyle(i,t.properties[i]);(null==t?void 0:t.attributes)&&(this.attributes=t.attributes),this.classes=null!==(a=null==t?void 0:t.classes)&&void 0!==a?a:"";let d=null!==(s=null==t?void 0:t.fontFamily)&&void 0!==s?s:"Main-Regular";if((null==t?void 0:t.style)&&this.value&&(d=null!==(c=Q.applyStyle(null!==(l=t.mode)&&void 0!==l?l:"math",this,t.style))&&void 0!==c?c:"Main-Regular"),this.height=0,this.depth=0,this.skew=0,this.italic=0,this.maxFontSize=0,"number"==typeof e){const t=K(e,d);this.height=t.height,this.depth=t.depth,this.skew=t.skew,this.italic=t.italic,this.right=t.italic}else if(this.value){this.height=-1/0,this.depth=-1/0,this.skew=-1/0,this.italic=-1/0;for(let e=0;e<this.value.length;e++){const t=K(this.value.codePointAt(e),null!=d?d:"Main-Regular");this.height=Math.max(this.height,t.height),this.depth=Math.max(this.depth,t.depth),this.skew=t.skew,this.italic=t.italic}this.right=this.italic}else if("latex"===this.type)this.height=.8,this.depth=.2;else if(this.children&&this.children.length>0)if(1===this.children.length){const e=this.children[0];this.height=e.height,this.depth=e.depth,this.maxFontSize=e.maxFontSize,this.skew=e.skew,this.italic=e.italic}else{let e=-1/0,t=-1/0,n=0;for(const i of this.children)i.height>e&&(e=i.height),i.depth>t&&(t=i.depth),n=Math.max(n,null!==(u=i.maxFontSize)&&void 0!==u?u:0);this.height=e,this.depth=t,this.maxFontSize=n}void 0!==(null==t?void 0:t.height)&&(this.height=t.height),void 0!==(null==t?void 0:t.depth)&&(this.depth=t.depth),void 0!==(null==t?void 0:t.maxFontSize)&&(this.maxFontSize=t.maxFontSize)}set atomID(e){void 0!==e&&(this.attributes||(this.attributes={}),this.attributes["data-atom-id"]=e)}selected(e){if(this.isSelected=e,this.children)for(const t of this.children)t.selected(e)}setStyle(e,t,n){const i=ie(t,n);i.length>0&&(this.cssProperties||(this.cssProperties={}),this.cssProperties[e]=i)}setTop(e){Number.isFinite(e)&&Math.abs(e)>.01&&(this.cssProperties||(this.cssProperties={}),this.cssProperties.top=ie(e,"em"),this.height-=e,this.depth+=e)}get left(){var e;return(null===(e=this.cssProperties)||void 0===e?void 0:e["margin-left"])?Number.parseFloat(this.cssProperties["margin-left"]):0}set left(e){Number.isFinite(e)&&(this.cssProperties||(this.cssProperties={}),0===e?delete this.cssProperties["margin-left"]:this.cssProperties["margin-left"]=ie(e,"em"))}set right(e){Number.isFinite(e)&&(this.cssProperties||(this.cssProperties={}),0===e?delete this.cssProperties["margin-right"]:this.cssProperties["margin-right"]=ie(e,"em"))}set width(e){this.cssProperties||(this.cssProperties={}),this.cssProperties.width=ie(e,"em")}wrap(e,t){const n=e.parent;if(!n)return this;e.isPhantom&&this.setStyle("opacity",0);const i=e.computedColor===n.computedColor?void 0:e.color;this.setStyle("color",i);const r=e.effectiveFontSize===n.effectiveFontSize?void 0:e.effectiveFontSize,o=e.computedBackgroundColor===n.computedBackgroundColor?void 0:e.backgroundColor;if(!(r||o||t&&(t.classes||t.type)))return this;let a;o?(a=ue(this,t),a.selected(this.isSelected),a.setStyle("background-color",o),a.setStyle("display","inline-block")):a=new re(this,t);const s=e.scalingFactor;return 1!==s&&(a.setStyle("font-size",100*s,"%"),a.height*=s,a.depth*=s,a.italic*=s,a.skew*=s),a}toMarkup(){var e,t,n;let i=null!==(e=this.value)&&void 0!==e?e:"";if(this.children)for(const s of this.children)i+=s.toMarkup();const r=this.classes.split(" ");r.push(null!==(t={latex:"ML__latex",placeholder:"ML__placeholder",error:"ML__error"}[this.type])&&void 0!==t?t:""),"latex"===this.caret&&r.push("ML__latex-caret");const o=1===r.length?r[0]:r.filter((e,t,n)=>e.length>0&&n.indexOf(e)===t).join(" ");let a="";if(i.length>0&&"â"!==i||o.length>0||this.cssId||this.htmlData||this.attributes||this.cssProperties||this.svgBody||this.svgOverlay){let e="";if(this.cssId&&(e+=` id=${this.cssId.replace(/ /g,"-")} `),this.htmlData){const t=this.htmlData.split(",");for(const n of t){const t=n.match(/([^=]+)=(.+$)/);if(t){const n=t[1].trim().replace(/ /g,"-");n&&(e+=` data-${n}=${t[2]} `)}else{const t=n.trim().replace(/ /g,"-");t&&(e+=` data-${t} `)}}}if(this.attributes&&(e+=" "+Object.keys(this.attributes).map(e=>`${e}="${this.attributes[e]}"`).join(" ")),o.length>0&&(e+=` class="${o}"`),this.cssProperties){const t=Object.keys(this.cssProperties).map(e=>`${e}:${this.cssProperties[e]}`).join(";");t.length>0&&(e+=` style="${t}"`)}let t="";this.svgBody?t=function(e){if(Z[e]){const[t,n,i]=Z[e];return`<span style="display:inline-block;height:${i/2}em;min-width:0"><span class="stretchy" style="height:${i}em"><svg width="100%" height="${i}em" viewBox="0 0 ${t} ${n}" preserveAspectRatio="none" ><path d="${Y[e]}"></path></svg></span></span>`}const[t,n,i,r]=X[e];let o,a;const s=i/1e3;3===t.length?(o=["slice-1-of-3","slice-2-of-3","slice-3-of-3"],a=["xMinYMin","xMidYMin","xMaxYMin"]):2===t.length?(o=["slice-1-of-2","slice-2-of-2"],a=["xMinYMin","xMaxYMin"]):(o=["slice-1-of-1"],a=[r]);const l=t.map((e,t)=>`<span class="${o[t]}" style=height:${s}em><svg width=400em height=${s}em viewBox="0 0 400000 ${i}" preserveAspectRatio="${a[t]} slice"><path d="${Y[e]}"></path></svg></span>`).join("");return`<span style="display:inline-block;height:${s}em;min-width:${n}em;">${l}</span>`}(this.svgBody):this.svgOverlay&&(t='<span style="',t+="display: inline-block;",t+=`height:${this.height+this.depth}em;`,t+=`vertical-align:${this.depth}em;`,t+='">',t+=i,t+="</span>",t+='<svg style="position:absolute;overflow:overlay;',t+=`height:${this.height+this.depth}em;`,(null===(n=this.cssProperties)||void 0===n?void 0:n.padding)?(t+=`top:${this.cssProperties.padding}em;`,t+=`left:${this.cssProperties.padding}em;`,t+=`width:calc(100% - 2 * ${this.cssProperties.padding}em );`):t+="top:0;left:0;width:100%;",t+="z-index:2;",t+='"',this.svgStyle&&(t+=` style="${this.svgStyle}"`),t+=`>${this.svgOverlay}</svg>`),a=`<span${e}>${i}${t}</span>`}return"text"===this.caret?a+='<span class="ML__text-caret"></span>':"math"===this.caret&&(a+='<span class="ML__caret"></span>'),a}tryCoalesceWith(e){if(this.type!==e.type)return!1;if(!/ML__text/.test(this.classes)&&!["mord","mbin","mrel"].includes(this.type))return!1;if(this.svgBody||!this.value)return!1;if(e.svgBody||!e.value)return!1;const t=this.children&&this.children.length>0,n=e.children&&e.children.length>0;if(t||n)return!1;const i=this.cssProperties?Object.keys(this.cssProperties).length:0;if(i!==(e.cssProperties?Object.keys(e.cssProperties).length:0))return!1;if(i>0)for(const a of Object.keys(this.cssProperties))if(this.cssProperties[a]!==e.cssProperties[a])return!1;const r=this.classes.trim().replace(/\s+/g," ").split(" "),o=e.classes.trim().replace(/\s+/g," ").split(" ");if(r.length!==o.length)return!1;r.sort(),o.sort();for(const[a,s]of r.entries()){if("vertical-separator"===s)return!1;if(s!==o[a])return!1}return this.value+=e.value,this.height=Math.max(this.height,e.height),this.depth=Math.max(this.depth,e.depth),this.maxFontSize=Math.max(this.maxFontSize,e.maxFontSize),this.italic=e.italic,!0}}function oe(e){if(!e||0===e.length)return[];e[0].children=oe(e[0].children);const t=[e[0]];for(let n=1;n<e.length;n++)t[t.length-1].tryCoalesceWith(e[n])||(e[n].children=oe(e[n].children),t.push(e[n]));return t}function ae(e){return e.children&&(e.children=oe(e.children)),e}function se(e,t,n){t.newList&&(e=null);const i=t.type;if("first"===i)return null;if("spacing"===i)return e;if(n(e,t),t.children){let r=null;void 0!==i&&0!==i.length||(r=e);for(const e of t.children)r=se(r,e,n);void 0!==i&&0!==i.length||(e=r)}return"supsub"!==i&&void 0!==i&&i.length>0&&(e=t),e}function le(e,t){e&&se(null,e,t)}function ce(e,t=1){return function(e){le(e,(e,t)=>{"mbin"!==t.type||e&&!/first|none|mbin|mop|mrel|mopen|mpunct/.test(e.type)||(t.type="mord"),e&&"mbin"===e.type&&/mrel|mclose|mpunct|placeholder/.test(t.type)&&(e.type="mord")})}(e),function(e,t){le(e,(e,n)=>{var i,r,o,a;const s=null!==(i=null==e?void 0:e.type)&&void 0!==i?i:"none",l=n.isTight?null!==(r=ne[s])&&void 0!==r?r:null:null!==(o=te[s])&&void 0!==o?o:null,c=l&&null!==(a=l[n.type])&&void 0!==a?a:0;c&&(n.left+=t*(c/18))})}(e,t),e}function ue(e,t){if(!e)return new re(null,t);const n=new re(null,{classes:"ML__strut"});n.setStyle("height",Math.max(0,e.height),"em");const i=[n];if(0!==e.depth){const t=new re(null,{classes:"ML__strut--bottom"});t.setStyle("height",e.height+e.depth,"em"),t.setStyle("vertical-align",-e.depth,"em"),i.push(t)}return i.push(e),new re(i,t)}function de(e){const t=function(e){return X[e]?X[e][2]/1e3:Z[e][2]}(e)/2,n=new re(null,{height:t+.166,depth:t-.166,maxFontSize:0});return n.svgBody=e,n}class he extends re{constructor(e,t){var n;const[i,r,o]=function(e){var t;const[n,i]=function(e){if("individualShift"in e){const t=e.individualShift;let n=t[0];const i=[n],r=-n.shift-n.box.depth;let o=r;for(let e=1;e<t.length;e++){const r=t[e],a=-r.shift-o-r.box.depth,s=a-(n.box.height+n.box.depth);o+=a,i.push(s),i.push(r),n=r}return[i,r]}if("top"in e){let t=e.top;for(const n of e.children)t-="number"==typeof n?n:n.box.height+n.box.depth;return[e.children,t]}if("bottom"in e)return[e.children,-e.bottom];if("firstBaseline"in e){const t=e.firstBaseline[0];if("number"==typeof t)throw new Error("First child must be an element.");return[e.firstBaseline,-t.box.depth]}if("shift"in e){const t=e.children[0];if("number"==typeof t)throw new Error("First child must be an element.");return[e.children,-t.box.depth-e.shift]}return[null,0]}(e);if(!n)return[[],0,0];let r=0;for(const h of n)if("number"!=typeof h){const e=h.box;r=Math.max(r,e.maxFontSize,e.height)}r+=2;const o=new re(null,{classes:"pstrut"});o.setStyle("height",r,"em");const a=[];let s=i,l=i,c=i;for(const h of n){if("number"==typeof h)c+=h;else{const e=h.box,n=null!==(t=h.classes)&&void 0!==t?t:[],i=new re([o,e],{classes:n.join(" "),style:h.style});i.setStyle("top",-r-c-e.depth,"em"),h.marginLeft&&i.setStyle("margin-left",h.marginLeft,"em"),h.marginRight&&i.setStyle("margin-right",h.marginRight,"em"),a.push(i),c+=e.height+e.depth}s=Math.min(s,c),l=Math.max(l,c)}const u=new re(a,{classes:"vlist"});let d;if(u.setStyle("height",l,"em"),s<0){const e=new re(new re(null),{classes:"vlist"});e.setStyle("height",-s,"em");const t=new re(8203,{classes:"vlist-s",maxFontSize:0,height:0,depth:0});d=[new re([u,t],{classes:"vlist-r"}),new re(e,{classes:"vlist-r"})]}else d=[new re(u,{classes:"vlist-r"})];return[d,l,-s]}(e);super(1===i.length?i[0]:i,{classes:(null!==(n=null==t?void 0:t.classes)&&void 0!==n?n:"")+" vlist-t"+(2===i.length?" vlist-t2":""),height:r,depth:o,type:null==t?void 0:t.type})}}const pe=[[8205,1],[65038,2],[127995,5],[129456,4],[917536,96]];let fe;const me=[127462,127487];function ge(e){var t;if(void 0===fe){fe={};for(const e of pe)for(let t=e[0];t<=e[0]+e[1]-1;t++)fe[t]=!0}return null!==(t=fe[e])&&void 0!==t&&t}function ye(e){return e>=me[0]&&e<=me[1]}function ve(e){if(/^[\u0020-\u00FF]*$/.test(e))return e;const t=[],n=function(e){const t=[];for(let n=0;n<e.length;n++){let i=e.charCodeAt(n);if(13===i&&10===e.charCodeAt(n+1)&&(i=10,n++),13!==i&&12!==i||(i=10),0===i&&(i=65533),i>=55296&&i<=56319){const t=e.charCodeAt(n+1);t>=56320&&t<=57343&&(i=65536+1024*(i-55296)+(t-56320),n++)}t.push(i)}return t}(e);let i=0;for(;i<n.length;){const e=n[i++],r=n[i];if(8205===r){const e=i-1;for(i+=2;8205===n[i];)i+=2;t.push(String.fromCodePoint(...n.slice(e,i-e+1)))}else if(ge(r)){const e=i-1;for(;ge(n[i]);)i+=8205===n[i]?2:1;t.push(String.fromCodePoint(...n.slice(e,2*i-e-1)))}else ye(e)?(i+=1,t.push(String.fromCodePoint(...n.slice(i-2,2)))):t.push(String.fromCodePoint(e))}return t}class be{constructor(e){this.s=ve(e),this.pos=0,this.obeyspaces=!1}end(){return this.pos>=this.s.length}get(){return this.pos<this.s.length?this.s[this.pos++]:""}peek(){return this.s[this.pos]}match(e){const t="string"==typeof this.s?e.exec(this.s.slice(this.pos)):e.exec(this.s.slice(this.pos).join(""));return(null==t?void 0:t[0])?(this.pos+=t[0].length,t[0]):""}next(){if(this.end())return null;if(!this.obeyspaces&&this.match(/^[ \f\n\r\t\v\u00A0\u2028\u2029]+/))return"<space>";if(this.obeyspaces&&this.match(/^[ \f\n\r\t\v\u00A0\u2028\u2029]/))return"<space>";const e=this.get();if("\\"===e){if(!this.end()){let e=this.match(/^[a-zA-Z*]+/);if(e)this.match(/^[ \f\n\r\t\v\u00A0\u2028\u2029]*/);else if(e=this.get()," "===e)return"<space>";return"\\"+e}}else{if("{"===e)return"<{>";if("}"===e)return"<}>";if("^"===e){if("^"===this.peek()){this.get();const e=this.match(/^(\^(\^(\^(\^[\da-f])?[\da-f])?[\da-f])?[\da-f])?[\da-f]{2}/);if(e)return String.fromCodePoint(Number.parseInt(e.slice(e.lastIndexOf("^")+1),16))}return e}if("#"===e){if(!this.end()){let e=!1;if(/[\d?@]/.test(this.peek())&&(e=!0,this.pos+1<this.s.length)){const t=this.s[this.pos+1];e=/[^\dA-Za-z]/.test(t)}return e?"#"+this.get():"#"}}else if("$"===e)return"$"===this.peek()?(this.get(),"<$$>"):"<$>"}return e}}function _e(e,t){var n,i,r,o;let a=[],s=e.next();if(s)if("\\relax"===s);else if("\\noexpand"===s)s=e.next(),s&&a.push(s);else if("\\obeyspaces"===s)e.obeyspaces=!0;else if("\\space"===s||"~"===s)a.push("<space>");else if("\\bgroup"===s)a.push("<{>");else if("\\egroup"===s)a.push("<}>");else if("\\string"===s){if(s=e.next(),s)if(s.startsWith("\\"))for(const l of s)a.push("\\"===l?"\\backslash":l);else"<{>"===s?a.push("\\{"):"<space>"===s?a.push("~"):"<}>"===s&&a.push("\\}")}else if("\\csname"===s){for(;"<space>"===e.peek();)e.next();let r="",o=!1,l=[];do{if(0===l.length)if(/^#[\d?@]$/.test(e.peek())){const r=e.get().slice(1);l=xe(null!==(i=null!==(n=null==t?void 0:t(r))&&void 0!==n?n:null==t?void 0:t("?"))&&void 0!==i?i:"\\placeholder{}",t),s=l[0]}else s=e.next(),l=s?[s]:[];o=0===l.length,o||"\\endcsname"!==s||(o=!0,l.shift()),o||(o="<$>"===s||"<$$>"===s||"<{>"===s||"<}>"===s||"string"==typeof s&&s.length>1&&s.startsWith("\\")),o||(r+=l.shift())}while(!o);r&&a.push("\\"+r),a=a.concat(l)}else if("\\endcsname"===s);else if(s.length>1&&s.startsWith("#")){const e=s.slice(1);a=a.concat(xe(null!==(o=null!==(r=null==t?void 0:t(e))&&void 0!==r?r:null==t?void 0:t("?"))&&void 0!==o?o:"\\placeholder{}",t))}else a.push(s);return a}function xe(e,t=null){const n=e.toString().split(/\r?\n/);let i="",r="";for(const s of n){i+=r,r=" ";const e=s.match(/((?:\\%)|[^%])*/);null!==e&&(i+=e[0])}const o=new be(i);let a=[];do{a=a.concat(_e(o,t))}while(!o.end());return a}function ke(e){let t="",n="";for(const i of e)i&&(/[a-zA-Z*]/.test(i[0])&&(n+=t),t=/\\[a-zA-Z]+\*?$/.test(i)?" ":"",n+=i);return n}function we(e){return ke(e.map(e=>{var t;return null!==(t={"<space>":" ","<$$>":"$$","<$>":"$","<{>":"{","<}>":"}"}[e])&&void 0!==t?t:e}))}function Se(){return"window"in globalThis&&"document"in globalThis}function Me(){if(!Se())throw new Error("<math-field> is an interactive component that needs to run in a browser environment\nIf you are using nextjs, see https://nextjs.org/docs/advanced-features/dynamic-import#with-no-ssr")}function Ce(){var e,t;return null!==(t=Se()&&(null===(e=window.matchMedia)||void 0===e?void 0:e.call(window,"(any-pointer: coarse)").matches))&&void 0!==t&&t}function Le(){return Se()&&"function"==typeof navigator.vibrate}function Oe(){const e=navigator.platform;return/^(mac)/i.test(e)?5===navigator.maxTouchPoints?"ios":"macos":/^(win)/i.test(e)?"windows":/(android)/i.test(navigator.userAgent)?"android":/(iphone|ipod|ipad)/i.test(navigator.userAgent)?"ios":/\bcros\b/i.test(navigator.userAgent)?"chromeos":"other"}function Ae(){if(!Se())return!0;if(/firefox/i.test(navigator.userAgent)){const e=navigator.userAgent.match(/firefox\/(\d+)/i);return!!e&&parseInt(e[1])>=78}if(/trident/i.test(navigator.userAgent))return!1;if(/edge/i.test(navigator.userAgent)){const e=navigator.userAgent.match(/edg\/(\d+)/i);return!!e&&parseInt(e[1])>=79}return!0}const Ee={},Te={60:"<",62:">",111:"o",38:"\\&",123:"\\lbrace",125:"\\rbrace",91:"\\lbrack",93:"\\rbrack",58:"\\colon",160:"~",172:"\\neg",183:"\\cdot",188:"\\frac{1}{4}",189:"\\frac{1}{2}",190:"\\frac{3}{4}",8304:"^{0}",8305:"^{i}",185:"^{1}",178:"^{2}",179:"^{3}",8224:"\\dagger",8225:"\\ddagger",8230:"\\ldots",8308:"^{4}",8309:"^{5}",8310:"^{6}",8311:"^{7}",8312:"^{8}",8313:"^{9}",8314:"^{+}",8315:"^{-}",8316:"^{=}",8319:"^{n}",8320:"_{0}",8321:"_{1}",8322:"_{2}",8323:"_{3}",8324:"_{4}",8325:"_{5}",8326:"_{6}",8327:"_{7}",8328:"_{8}",8329:"_{9}",8330:"_{+}",8331:"_{-}",8332:"_{=}",8336:"_{a}",8337:"_{e}",8338:"_{o}",8339:"_{x}",8242:"\\prime",39:"\\prime",8592:"\\gets",8594:"\\to",9651:"\\triangle",9661:"\\triangledown",8715:"\\owns",8727:"\\ast",8739:"\\vert",8741:"\\Vert",8743:"\\land",8744:"\\lor",8901:"\\cdot",8904:"\\bowtie",8800:"\\ne",8804:"\\le",8805:"\\ge",8869:"\\bot",10231:"\\biconditional",10232:"\\impliedby",10233:"\\implies",10234:"\\iff",8450:"\\C",8469:"\\N",8473:"\\P",8474:"\\Q",8477:"\\R",8484:"\\Z"},Ne={},De={},Pe={iff:"\\;âº\\;",nicefrac:"^{#1}\\!\\!/\\!_{#2}",rd:"\\mathrm{d}",rD:"\\mathrm{D}",doubleStruckCapitalN:"\\mathbb{N}",doubleStruckCapitalR:"\\mathbb{R}",doubleStruckCapitalQ:"\\mathbb{Q}",doubleStruckCapitalZ:"\\mathbb{Z}",doubleStruckCapitalP:"\\mathbb{P}",scriptCapitalE:"\\mathscr{E}",scriptCapitalH:"\\mathscr{H}",scriptCapitalL:"\\mathscr{L}",gothicCapitalC:"\\mathfrak{C}",gothicCapitalH:"\\mathfrak{H}",gothicCapitalI:"\\mathfrak{I}",gothicCapitalR:"\\mathfrak{R}",imaginaryI:"\\mathrm{i}",imaginaryJ:"\\mathrm{j}",exponentialE:"\\mathrm{e}",differentialD:"\\mathrm{d}",capitalDifferentialD:"\\mathrm{D}","braket.sty":{package:{bra:"\\mathinner{\\langle{#1}|}",ket:"\\mathinner{|{#1}\\rangle}",braket:"\\mathinner{\\langle{#1}\\rangle}",set:"\\mathinner{\\lbrace #1 \\rbrace}",Bra:"\\left\\langle #1\\right|",Ket:"\\left|#1\\right\\rangle",Braket:"\\left\\langle{#1}\\right\\rangle",Set:"\\left\\lbrace #1 \\right\\rbrace"}},"amsmath.sty":{package:{varGamma:"\\mathit{\\Gamma}",varDelta:"\\mathit{\\Delta}",varTheta:"\\mathit{\\Theta}",varLambda:"\\mathit{\\Lambda}",varXi:"\\mathit{\\Xi}",varPi:"\\mathit{\\Pi}",varSigma:"\\mathit{\\Sigma}",varUpsilon:"\\mathit{\\Upsilon}",varPhi:"\\mathit{\\Phi}",varPsi:"\\mathit{\\Psi}",varOmega:"\\mathit{\\Omega}",pmod:{def:"\\quad(\\operatorname{mod}\\ #1)",args:1,expand:!1,captureSelection:!1},mod:{def:"\\quad\\operatorname{mod}\\,\\,#1",args:1,expand:!1,captureSelection:!1},bmod:{def:"\\;\\mathbin{\\operatorname{mod }}",expand:!1}},expand:!1},"texvc.sty":{package:{darr:"\\downarrow",dArr:"\\Downarrow",Darr:"\\Downarrow",lang:"\\langle",rang:"\\rangle",uarr:"\\uparrow",uArr:"\\Uparrow",Uarr:"\\Uparrow",N:"\\mathbb{N}",R:"\\mathbb{R}",Z:"\\mathbb{Z}",alef:"\\aleph",alefsym:"\\aleph",Alpha:"\\mathrm{A}",Beta:"\\mathrm{B}",bull:"\\bullet",Chi:"\\mathrm{X}",clubs:"\\clubsuit",cnums:"\\mathbb{C}",Complex:"\\mathbb{C}",Dagger:"\\ddagger",diamonds:"\\diamondsuit",empty:"\\emptyset",Epsilon:"\\mathrm{E}",Eta:"\\mathrm{H}",exist:"\\exists",harr:"\\leftrightarrow",hArr:"\\Leftrightarrow",Harr:"\\Leftrightarrow",hearts:"\\heartsuit",image:"\\Im",infin:"\\infty",Iota:"\\mathrm{I}",isin:"\\in",Kappa:"\\mathrm{K}",larr:"\\leftarrow",lArr:"\\Leftarrow",Larr:"\\Leftarrow",lrarr:"\\leftrightarrow",lrArr:"\\Leftrightarrow",Lrarr:"\\Leftrightarrow",Mu:"\\mathrm{M}",natnums:"\\mathbb{N}",Nu:"\\mathrm{N}",Omicron:"\\mathrm{O}",plusmn:"\\pm",rarr:"\\rightarrow",rArr:"\\Rightarrow",Rarr:"\\Rightarrow",real:"\\Re",reals:"\\mathbb{R}",Reals:"\\mathbb{R}",Rho:"\\mathrm{P}",sdot:"\\cdot",sect:"\\S",spades:"\\spadesuit",sub:"\\subset",sube:"\\subseteq",supe:"\\supseteq",Tau:"\\mathrm{T}",thetasym:"\\vartheta",weierp:"\\wp",Zeta:"\\mathrm{Z}"},expand:!1}},qe={" ":32,"\\#":35,"\\&":38,"\\$":36,"\\%":37,"\\_":95,"\\euro":8364,"\\maltese":10016,"\\{":123,"\\}":125,"\\nobreakspace":160,"\\ldots":8230,"\\textellipsis":8230,"\\backslash":92,"`":8216,"'":8217,"``":8220,"''":8221,"\\degree":176,"\\textasciicircum":94,"\\textasciitilde":126,"\\textasteriskcentered":42,"\\textbackslash":92,"\\textbraceleft":123,"\\textbraceright":125,"\\textbullet":8226,"\\textdollar":36,"\\textsterling":163,"\\textdagger":8224,"\\textdaggerdbl":8225,"â":8211,"â":8212,"â":8216,"â":8217,"â":8220,"â":8221,'"':8221,"\\ss":223,"\\ae":230,"\\oe":339,"\\AE":198,"\\OE":338,"\\O":216,"\\i":305,"\\j":567,"\\aa":229,"\\AA":197},Ie=/[\w!@*()-=+{}[\]\\';:?/.,~<>`|$%#&^" ]/,je=Ae()?new RegExp("\\p{Letter}","u"):/[a-zA-Z\u0430\u0410\u0431\u0411\u0432\u0412\u0433\u0413\u0434\u0414\u0435\u0415\u0451\u0401\u0436\u0416\u0437\u0417\u0438\u0418\u0439\u0419\u043a\u041a\u043b\u041b\u043c\u041c\u043d\u041d\u043e\u041e\u043f\u041f\u0440\u0420\u0441\u0421\u0442\u0422\u0443\u0423\u0444\u0424\u0445\u0425\u0446\u0426\u0447\u0427\u0448\u0428\u0449\u0429\u044a\u042a\u044b\u042b\u044c\u042c\u044d\u042d\u044e\u042e\u044f\u0104\u0105\u0106\u0107\u0118\u0119\u0141\u0142\u0143\u0144\xd3\xf3\u015a\u015b\u0179\u017a\u017b\u017c\xe0\xe2\xe4\xf4\xe9\xe8\xeb\xea\xef\xee\xe7\xf9\xfb\xfc\xff\xe6\u0153\xc0\xc2\xc4\xd4\xc9\xc8\xcb\xca\xcf\xce\u0178\xc7\xd9\xdb\xdc\xc6\u0152\xf6\xdf\xd6\u1e9e\xec\xed\xf2\xfa\xcc\xcd\xd2\xda\xe1\xf1\xc1\xd1]/,ze=Ae()?new RegExp("[0-9\\p{Letter}]","u"):/[\da-zA-Z\u0430\u0410\u0431\u0411\u0432\u0412\u0433\u0413\u0434\u0414\u0435\u0415\u0451\u0401\u0436\u0416\u0437\u0417\u0438\u0418\u0439\u0419\u043a\u041a\u043b\u041b\u043c\u041c\u043d\u041d\u043e\u041e\u043f\u041f\u0440\u0420\u0441\u0421\u0442\u0422\u0443\u0423\u0444\u0424\u0445\u0425\u0446\u0426\u0447\u0427\u0448\u0428\u0449\u0429\u044a\u042a\u044b\u042b\u044c\u042c\u044d\u042d\u044e\u042e\u044f\u0104\u0105\u0106\u0107\u0118\u0119\u0141\u0142\u0143\u0144\xd3\xf3\u015a\u015b\u0179\u017a\u017b\u017c\xe0\xe2\xe4\xf4\xe9\xe8\xeb\xea\xef\xee\xe7\xf9\xfb\xfc\xff\xe6\u0153\xc0\xc2\xc4\xd4\xc9\xc8\xcb\xca\xcf\xce\u0178\xc7\xd9\xdb\xdc\xc6\u0152\xf6\xdf\xd6\u1e9e\xec\xed\xf2\xfa\xcc\xcd\xd2\xda\xe1\xf1\xc1\xd1]/;function Re(e,t,n="mord",i){void 0!==t&&(Ee[e]={type:n,variant:i,codepoint:t},Te[t]||i||(Te[t]=e),qe[e]||(qe[e]=t))}function Fe(e,t,n){if("string"!=typeof e)for(const[i,r,o,a]of e)Re(i,r,null!=o?o:t,null!=a?a:n);else for(let i=0;i<e.length;i++){const t=e.charAt(i);Re(t,t.codePointAt(0))}}function $e(e,t){for(let n=e;n<=t;n++)Re(String.fromCodePoint(n),n)}function Be(e,t){if(void 0===t)return"";if("math"===e&&Te[t])return Te[t];if("text"===e){let e=Object.keys(qe).find(e=>qe[e]===t);if(!e){const n=t.toString(16);e="^".repeat(n.length)+n}return e}return String.fromCodePoint(t)}const Ke={119893:8462,119965:8492,119968:8496,119969:8497,119971:8459,119972:8464,119975:8466,119976:8499,119981:8475,119994:8495,119996:8458,120004:8500,120070:8493,120075:8460,120076:8465,120085:8476,120093:8488,120122:8450,120127:8461,120133:8469,120135:8473,120136:8474,120137:8477,120145:8484},We=[{start:119808,len:26,offset:65,style:"bold"},{start:119834,len:26,offset:97,style:"bold"},{start:119860,len:26,offset:65,style:"italic"},{start:119886,len:26,offset:97,style:"italic"},{start:119912,len:26,offset:65,style:"bolditalic"},{start:119938,len:26,offset:97,style:"bolditalic"},{start:119964,len:26,offset:65,variant:"script"},{start:119990,len:26,offset:97,variant:"script"},{start:120016,len:26,offset:65,variant:"script",style:"bold"},{start:120042,len:26,offset:97,variant:"script",style:"bold"},{start:120068,len:26,offset:65,variant:"fraktur"},{start:120094,len:26,offset:97,variant:"fraktur"},{start:120172,len:26,offset:65,variant:"fraktur",style:"bold"},{start:120198,len:26,offset:97,variant:"fraktur",style:"bold"},{start:120120,len:26,offset:65,variant:"double-struck"},{start:120146,len:26,offset:97,variant:"double-struck"},{start:120224,len:26,offset:65,variant:"sans-serif"},{start:120250,len:26,offset:97,variant:"sans-serif"},{start:120276,len:26,offset:65,variant:"sans-serif",style:"bold"},{start:120302,len:26,offset:97,variant:"sans-serif",style:"bold"},{start:120328,len:26,offset:65,variant:"sans-serif",style:"italic"},{start:120354,len:26,offset:97,variant:"sans-serif",style:"italic"},{start:120380,len:26,offset:65,variant:"sans-serif",style:"bolditalic"},{start:120406,len:26,offset:97,variant:"sans-serif",style:"bolditalic"},{start:120432,len:26,offset:65,variant:"monospace"},{start:120458,len:26,offset:97,variant:"monospace"},{start:120488,len:25,offset:913,style:"bold"},{start:120514,len:25,offset:945,style:"bold"},{start:120546,len:25,offset:913,style:"italic"},{start:120572,len:25,offset:945,style:"italic"},{start:120604,len:25,offset:913,style:"bolditalic"},{start:120630,len:25,offset:945,style:"bolditalic"},{start:120662,len:25,offset:913,variant:"sans-serif",style:"bold"},{start:120688,len:25,offset:945,variant:"sans-serif",style:"bold"},{start:120720,len:25,offset:913,variant:"sans-serif",style:"bolditalic"},{start:120746,len:25,offset:945,variant:"sans-serif",style:"bolditalic"},{start:120782,len:10,offset:48,variant:"main",style:"bold"},{start:120792,len:10,offset:48,variant:"double-struck"},{start:120803,len:10,offset:48,variant:"sans-serif"},{start:120812,len:10,offset:48,variant:"sans-serif",style:"bold"},{start:120822,len:10,offset:48,variant:"monospace"}];function Ve(e,t,n){var i,r;if(!e||0===e.length)return null;let o=null;if(e.startsWith("\\")){if(o=null!==(i=Ne[e])&&void 0!==i?i:null,o)return o;if("math"===t?o=Ee[e]:qe[e]&&(o={type:"mord",codepoint:qe[e]}),!o){const t=e.slice(1);if(null==n?void 0:n[t]){let e=null!==(r=n[t].args)&&void 0!==r?r:0;for(o={type:"group",params:[],infix:!1};e>=1;)o.params.push({isOptional:!1,type:"math"}),e-=1}}}else"math"===t?o=Ee[e]:qe[e]?o={codepoint:qe[e],type:"mord"}:"text"===t&&(o={codepoint:e.codePointAt(0),type:"mord"});return!o||"mord"!==o.type||102!==o.codepoint&&103!==o.codepoint&&104!==o.codepoint||(o.isFunction=!0),o}function Ue(e){let t="auto";const n=e.match(/:([^=]+)/);return n&&(t=n[1].trim()),t}function He(e){if(!e)return[];let t=[],n=e.split("]");if(n[0].startsWith("[")){t.push({isOptional:!0,type:Ue(n[0].slice(1))});for(let e=1;e<=n.length;e++)t=t.concat(He(n[e]))}else if(n=e.split("}"),n[0].startsWith("{")){t.push({isOptional:!1,type:Ue(n[0].slice(1))});for(let e=1;e<=n.length;e++)t=t.concat(He(n[e]))}return t}function Ge(e){if(!e)return"";let t="",n=!0;for(const i of e)"string"==typeof i.value?t+=i.value:n=!1;return n?t:""}function Xe(e,t,n,i=!1){"string"==typeof e&&(e=[e]);const r={tabular:i,params:He(t),createAtom:n};for(const o of e)De[o]=r}function Ze(e,t,n){Xe(e,t,n,!0)}function Ye(e,t,n){var i,r;n||(n={});const o={params:He(t),ifMode:n.ifMode,isFunction:null!==(i=n.isFunction)&&void 0!==i&&i,applyMode:n.applyMode,infix:null!==(r=n.infix)&&void 0!==r&&r,createAtom:n.createAtom,applyStyle:n.applyStyle};if("string"==typeof e)Ne["\\"+e]=o;else for(const a of e)Ne["\\"+a]=o}let Qe;function Je(e){return Qe||(Qe=tt(Pe)),e?{...Qe,...tt(e)}:Qe}function et(e,t){var n,i,r,o;if("string"==typeof e){let r=0;const o=e;return/(^|[^\\])#1/.test(o)&&(r=1),/(^|[^\\])#2/.test(o)&&(r=2),/(^|[^\\])#3/.test(o)&&(r=3),/(^|[^\\])#4/.test(o)&&(r=4),/(^|[^\\])#5/.test(o)&&(r=5),/(^|[^\\])#6/.test(o)&&(r=6),/(^|[^\\])#7/.test(o)&&(r=7),/(^|[^\\])#8/.test(o)&&(r=8),/(^|[^\\])#9/.test(o)&&(r=9),{expand:null===(n=null==t?void 0:t.expand)||void 0===n||n,captureSelection:null===(i=null==t?void 0:t.captureSelection)||void 0===i||i,args:r,def:o}}return{expand:null===(r=null==t?void 0:t.expand)||void 0===r||r,captureSelection:null===(o=null==t?void 0:t.captureSelection)||void 0===o||o,args:0,...e}}function tt(e){if(!e)return{};const t={};for(const n of Object.keys(e)){const i=e[n];if(null==i)delete t[n];else if("object"==typeof i&&"package"in i)for(const e of Object.keys(i.package))t[e]=et(i.package[e],{expand:i.expand,captureSelection:i.captureSelection});else t[n]=et(i)}return t}const nt=["above","body","below","superscript","subscript"];function it(e){return"string"==typeof e&&nt.includes(e)}function rt(e){return void 0!==e&&Array.isArray(e)&&2===e.length}class ot{constructor(e,t){var n,i,r,o;this.command=null==t?void 0:t.command,this.type=e,"string"==typeof(null==t?void 0:t.value)&&(this.value=t.value),this._isDirty=!1,this._changeCounter=0,this.mode=null!==(n=null==t?void 0:t.mode)&&void 0!==n?n:"math",this.isFunction=null!==(i=null==t?void 0:t.isFunction)&&void 0!==i&&i,this.subsupPlacement=null==t?void 0:t.limits,this.style=null!==(r=null==t?void 0:t.style)&&void 0!==r?r:{},this.serializeOverride=null==t?void 0:t.serialize,this.displayContainsHighlight=null!==(o=null==t?void 0:t.displayContainsHighlight)&&void 0!==o&&o}get changeCounter(){return this._changeCounter}get isDirty(){return this._isDirty}set isDirty(e){if(this._isDirty=e,e){this._changeCounter++,this.verbatimLatex=void 0,this._children=void 0;let{parent:e}=this;for(;e;)e._isDirty=!0,e._changeCounter++,e.verbatimLatex=void 0,e._children=void 0,e=e.parent}}static createBox(e,t,n){var i,r,o;if(!t)return null;const a=function(e){let t,n;const i=[];let r=[];for(const o of e){const e=o.computedStyle;t||o.style?t&&n===o.isSelected&&e.color===t.color&&e.backgroundColor===t.backgroundColor&&e.fontSize===t.fontSize?r.push(o):(r.length>0&&i.push(r),r=[o],t=o.computedStyle,n=o.isSelected):r.push(o)}return r.length>0&&i.push(r),i}(t);if(1===a.length){const t=a[0];return t[0].style?st(e,t,{...n,style:{color:t[0].style.color,backgroundColor:t[0].style.backgroundColor,fontSize:t[0].style.fontSize}}):st(e,t,n)}const s=[];let l=null==n?void 0:n.newList;for(const c of a){const t=st(new G(e,{color:null===(i=c[0].style)||void 0===i?void 0:i.color,backgroundColor:null===(r=c[0].style)||void 0===r?void 0:r.backgroundColor,fontSize:null===(o=c[0].style)||void 0===o?void 0:o.fontSize,isSelected:c[0].isSelected}),c,{newList:l});t&&(l=!1,s.push(t))}return 0===s.length?null:1!==s.length||(null==n?void 0:n.classes)||(null==n?void 0:n.type)?new re(s,{classes:null==n?void 0:n.classes,type:null==n?void 0:n.type,newList:null==n?void 0:n.newList}).wrap(e):s[0].wrap(e)}static serialize(e,t){let n="";if(i(e))n=at(e,t);else if("number"==typeof e||"boolean"==typeof e)n=e.toString();else if("string"==typeof e)n=e.replace(/\s/g,"~");else if(void 0!==e){if(!t.expandMacro&&"string"==typeof e.verbatimLatex)return e.verbatimLatex;if(e.serializeOverride)return e.serializeOverride(e,t);n=e.serialize(t)}return n}static commonAncestor(e,t){if(e===t)return e.parent;if(e.parent===t.parent)return e.parent;const n=new WeakSet;let{parent:i}=e;for(;i;)n.add(i),i=i.parent;for(i=t.parent;i;){if(n.has(i))return i;i=i.parent}}serialize(e){var t;return this.body&&this.command?ke([this.command,"{",this.bodyToLatex(e),"}",this.supsubToLatex(e)]):this.body?ke([this.bodyToLatex(e),this.supsubToLatex(e)]):this.value&&"â"!==this.value?null!==(t=this.command)&&void 0!==t?t:function(e,t){var n;if("text"===e)return null!==(n=Be(e,t.codePointAt(0)))&&void 0!==n?n:t;let i;if(i=Be(e,t.codePointAt(0)),i)return i;const r=function(e){var t;if((e<119808||e>120831)&&(e<8448||e>8527))return{char:String.fromCodePoint(e)};for(const n in Ke)if(Ke[n]===e){e=null!==(t=n.codePointAt(0))&&void 0!==t?t:0;break}for(const n of We)if(e>=n.start&&e<n.start+n.len)return{char:String.fromCodePoint(e-n.start+n.offset),variant:n.variant,style:n.style};return{char:String.fromCodePoint(e)}}(t.codePointAt(0));return r.style||r.variant?(i=r.char,r.variant&&(i="\\"+r.variant+"{"+i+"}"),"bold"===r.style?i="\\mathbf{"+i+"}":"italic"===r.style?i="\\mathit{"+i+"}":"bolditalic"===r.style&&(i="\\mathbfit{"+i+"}"),"\\mathord{"+i+"}"):""}(this.mode,this.value):""}bodyToLatex(e){return at(this.body,e)}aboveToLatex(e){return at(this.above,e)}belowToLatex(e){return at(this.below,e)}supsubToLatex(e){let t="";if(void 0!==this.branch("subscript")){const n=at(this.subscript,e);0===n.length?t+="_":1===n.length?t+="_"+n:t+=`_{${n}}`}if(void 0!==this.branch("superscript")){const n=at(this.superscript,e);0===n.length?t+="^":1===n.length?t+="â²"===n?"^\\prime ":"â³"===n?"^\\doubleprime ":"^"+n:t+=`^{${n}}`}return t}get treeDepth(){let e=1,t=this.parent;for(;t;)t=t.parent,e+=1;return e}get inCaptureSelection(){let e=!1,t=this;for(;t;){if(t.captureSelection){e=!0;break}t=t.parent}return e}branch(e){if(it(e)&&this._branches)return this._branches[e]}get branches(){if(!this._branches)return[];const e=[];for(const t of nt)this._branches[t]&&e.push(t);return e}createBranch(e){return it(e)?(this._branches?this._branches[e]||(this._branches[e]=[this.makeFirstAtom(e)]):this._branches={[e]:[this.makeFirstAtom(e)]},this.isDirty=!0,this._branches[e]):[]}get row(){return rt(this.treeBranch)?this.treeBranch[0]:-1}get col(){return rt(this.treeBranch)?this.treeBranch[1]:-1}get body(){var e;return null===(e=this._branches)||void 0===e?void 0:e.body}set body(e){this.setChildren(e,"body")}get superscript(){var e;return null===(e=this._branches)||void 0===e?void 0:e.superscript}set superscript(e){this.setChildren(e,"superscript")}get subscript(){var e;return null===(e=this._branches)||void 0===e?void 0:e.subscript}set subscript(e){this.setChildren(e,"subscript")}get above(){var e;return null===(e=this._branches)||void 0===e?void 0:e.above}set above(e){this.setChildren(e,"above")}get below(){var e;return null===(e=this._branches)||void 0===e?void 0:e.below}set below(e){this.setChildren(e,"below")}get computedStyle(){const e={...this.style},t=void 0!==this.style.verbatimColor,n=void 0!==this.style.verbatimBackgroundColor;if(e&&(delete e.variant,delete e.variantStyle),!this.parent)return null!=e?e:{};const i={...this.parent.computedStyle,...e};return n||delete i.verbatimBackgroundColor,t||delete i.verbatimColor,i}applyStyle(e){this.isDirty=!0,this.style={...this.style,...e},"none"===this.style.fontFamily&&delete this.style.fontFamily,"auto"===this.style.fontShape&&delete this.style.fontShape,"auto"===this.style.fontSeries&&delete this.style.fontSeries,"none"===this.style.color&&(delete this.style.color,delete this.style.verbatimColor),"none"===this.style.backgroundColor&&(delete this.style.backgroundColor,delete this.style.verbatimBackgroundColor),"auto"===this.style.fontSize&&delete this.style.fontSize}getInitialBaseElement(){let e;return this.hasEmptyBranch("body")||(e=this.body[1].getInitialBaseElement()),null!=e?e:this}getFinalBaseElement(){return this.hasEmptyBranch("body")?this:this.body[this.body.length-1].getFinalBaseElement()}isCharacterBox(){const e=this.getInitialBaseElement();return/mord/.test(e.type)}hasEmptyBranch(e){const t=this.branch(e);return!t||1===t.length}setChildren(e,t){if(e&&it(t)){this._branches?this._branches[t]=[this.makeFirstAtom(t),...e]:this._branches={[t]:[this.makeFirstAtom(t),...e]},this.isDirty=!0;for(const n of e)n.parent=this,n.treeBranch=t}}makeFirstAtom(e){const t=new ot("first",{mode:this.mode});return t.parent=this,t.treeBranch=e,t}addChild(e,t){this.createBranch(t).push(e),this.isDirty=!0,e.parent=this,e.treeBranch=t}addChildBefore(e,t){const n=this.createBranch(t.treeBranch);n.splice(n.indexOf(t),0,e),this.isDirty=!0,e.parent=this,e.treeBranch=t.treeBranch}addChildAfter(e,t){const n=this.createBranch(t.treeBranch);n.splice(n.indexOf(t)+1,0,e),this.isDirty=!0,e.parent=this,e.treeBranch=t.treeBranch}addChildren(e,t){for(const n of e)this.addChild(n,t)}addChildrenAfter(e,t){const n=this.createBranch(t.treeBranch);n.splice(n.indexOf(t)+1,0,...e),this.isDirty=!0;for(const i of e)i.parent=this,i.treeBranch=t.treeBranch;return e[e.length-1]}removeBranch(e){const t=this.branch(e);if(it(e)&&(this._branches[e]=void 0),!t)return[];for(const n of t)n.parent=void 0,n.treeBranch=void 0;return t.shift(),this.isDirty=!0,t}removeChild(e){if("first"===e.type)return;const t=this.branch(e.treeBranch),n=t.indexOf(e);t.splice(n,1),this.isDirty=!0,e.parent=void 0,e.treeBranch=void 0}get siblings(){return"root"===this.type?[]:this.parent.branch(this.treeBranch)}get firstSibling(){return this.siblings[0]}get lastSibling(){const{siblings:e}=this;return e[e.length-1]}get isFirstSibling(){return this===this.firstSibling}get isLastSibling(){return this===this.lastSibling}get hasNoSiblings(){return 1===this.siblings.length}get leftSibling(){const e=this.parent.branch(this.treeBranch);return e[e.indexOf(this)-1]}get rightSibling(){const e=this.parent.branch(this.treeBranch);return e[e.indexOf(this)+1]}get hasChildren(){return this._branches&&this.children.length>0}get firstChild(){return this.children[0]}get lastChild(){const{children:e}=this;return e[e.length-1]}get children(){if(this._children)return this._children;if(!this._branches)return[];const e=[];for(const t of nt)if(this._branches[t])for(const n of this._branches[t])e.push(...n.children),e.push(n);return this._children=e,e}render(e,t){if("first"===this.type&&!e.atomIdsSettings)return null;const n=new G(e,this.style);let i=this.createBox(n,{classes:"root"===this.type?" ML__base":"",newList:!0===(null==t?void 0:t.newList)||"first"===this.type});return i?(this.subsupPlacement||!this.superscript&&!this.subscript||(i=this.attachSupsub(n,{base:i})),i.wrap(n)):null}attachSupsub(e,t){var n,i;const r=t.base,o=this.superscript,a=this.subscript;if(!o&&!a)return r;let s=null,l=null;const c=null!==(n=t.isCharacterBox)&&void 0!==n?n:this.isCharacterBox();let u=0;if(o){const t=new G(e,void 0,"superscript");s=ot.createBox(t,o,{newList:!0}),c||(u=r.height-e.metrics.supDrop*t.scalingFactor)}let d,h=0;if(a){const t=new G(e,void 0,"subscript");l=ot.createBox(t,a,{newList:!0}),c||(h=r.depth+e.metrics.subDrop*t.scalingFactor)}d=e.isDisplayStyle?e.metrics.sup1:e.isCramped?e.metrics.sup3:e.metrics.sup2;const p=.05/e.scalingFactor;let f=null;if(l&&s){u=Math.max(u,d,s.depth+.25*e.metrics.xHeight),h=Math.max(h,e.metrics.sub2);const t=e.metrics.defaultRuleThickness;if(u-s.depth-(l.height-h)<4*t){h=4*t-(u-s.depth)+l.height;const n=.8*e.metrics.xHeight-(u-s.depth);n>0&&(u+=n,h-=n)}const n=this.isExtensibleSymbol&&r.italic?-r.italic:0;f=new he({individualShift:[{box:l,shift:h,marginLeft:n},{box:s,shift:-u}]}).wrap(e)}else l&&!s?(h=Math.max(h,e.metrics.sub1,l.height-.3448),f=new he({shift:h,children:[{box:l,marginRight:p,marginLeft:this.isCharacterBox()?-(null!==(i=r.italic)&&void 0!==i?i:0):0}]})):!l&&s&&(u=Math.max(u,d,s.depth+.10775),f=new he({shift:-u,children:[{box:s,marginRight:p}]}),f.wrap(e));const m=new re(f,{classes:"msubsup"});return this.caret&&(m.caret=this.caret),new re([r,m],{type:t.type})}attachLimits(e,t){var n;const i=this.superscript?ot.createBox(new G(e,this.style,"superscript"),this.superscript,{newList:!0}):null,r=this.subscript?ot.createBox(new G(e,this.style,"subscript"),this.subscript,{newList:!0}):null;return i||r?function(e,t){var n,i,r,o,a;const s=e.metrics,l=new re(t.base),c=null!==(n=t.baseShift)&&void 0!==n?n:0,u=null!==(i=t.slant)&&void 0!==i?i:0;let d=0,h=0;t.above&&(d=null!==(r=t.aboveShift)&&void 0!==r?r:Math.max(s.bigOpSpacing1,s.bigOpSpacing3-t.above.depth)),t.below&&(h=null!==(o=t.belowShift)&&void 0!==o?o:Math.max(s.bigOpSpacing2,s.bigOpSpacing4-t.below.height));let p=null;if(t.below&&t.above){const n=s.bigOpSpacing5+t.below.height+t.below.depth+h+l.depth+c;p=new he({bottom:n,children:[s.bigOpSpacing5,{box:t.below,marginLeft:-u,classes:["ML__center"]},h,{box:l,classes:["ML__center"]},d,{box:t.above,marginLeft:u,classes:["ML__center"]},s.bigOpSpacing5]}).wrap(e)}else if(t.below&&!t.above)p=new he({top:l.height-c,children:[s.bigOpSpacing5,{box:t.below,marginLeft:-u,classes:["ML__center"]},h,{box:l,classes:["ML__center"]}]}).wrap(e);else if(!t.below&&t.above){const n=l.depth+c;p=new he({bottom:n,children:[{box:l,classes:["ML__center"]},d,{box:t.above,marginLeft:u,classes:["ML__center"]},s.bigOpSpacing5]}).wrap(e)}else{const t=l.depth+c;p=new he({bottom:t,children:[{box:l},s.bigOpSpacing5]}).wrap(e)}return new re(p,{type:null!==(a=t.type)&&void 0!==a?a:"mop"})}(e,{...t,above:i,below:r,type:null!==(n=null==t?void 0:t.type)&&void 0!==n?n:"mop"}):t.base.wrap(e)}bind(e,t){return t?e.isPhantom?t:t&&"â"!==this.value?(this.id||(this.id=e.makeID()),t.atomID=this.id,t):t:null}createBox(e,t){var n,i,r,o;const a=null!==(n=this.value)&&void 0!==n?n:this.body,s=function(e){return ee.includes(e)}(this.type)?this.type:void 0;let l=null!==(i=null==t?void 0:t.classes)&&void 0!==i?i:"";"text"===this.mode&&(l+=" ML__text");const c="string"==typeof a||void 0===a?new re(null!==(r=a)&&void 0!==r?r:null,{type:s,mode:this.mode,maxFontSize:e.scalingFactor,style:{variant:"normal",...this.style,letterShapeStyle:e.letterShapeStyle,fontSize:Math.max(1,e.size+e.mathstyle.sizeDelta)},classes:l,newList:null==t?void 0:t.newList}):null!==(o=ot.createBox(e,a,{type:s,mode:this.mode,style:this.style,classes:l,newList:null==t?void 0:t.newList}))&&void 0!==o?o:new re(null);return e.isTight&&(c.isTight=!0),"math"!==this.mode&&(c.italic=0),c.right=c.italic,this.bind(e,c),this.caret&&(this.superscript||this.subscript||(c.caret=this.caret)),c}}function at(e,t){if(!e||0===e.length)return"";if("first"===e[0].type){if(1===e.length)return"";e=e.slice(1)}return 0===e.length?"":ke(J(e,"cssClass").map(e=>ke(J(e,"color").map(e=>ke(function(e){const t=[];let n=[],i="NONE";for(const r of e)"first"!==r.type&&(r.mode!==i?(n.length>0&&t.push(n),n=[r],i=r.mode):n.push(r));return n.length>0&&t.push(n),t}(e).map(e=>Q.serialize(e,t)))))))}function st(e,t,n){var i,r,o,a,s;function l(e){return"mord"===e.type&&Boolean(e.value)&&/^[\d,.]$/.test(e.value)}function c(e){return"text"===e.mode}if(!t||0===t.length)return null;const u=new G(e,null==n?void 0:n.style),d=!u.atomIdsSettings||!u.atomIdsSettings.groupNumbers;let h=[];if(1===t.length){const e=t[0].render(u,{newList:null!==(i=null==n?void 0:n.newList)&&void 0!==i&&i});e&&d&&t[0].isSelected&&e.selected(!0),e&&(h=[e])}else{let e=[],i="",p=!0,f=null!==(r=null==n?void 0:n.newList)&&void 0!==r&&r;for(const n of t){(null===(o=u.atomIdsSettings)||void 0===o?void 0:o.groupNumbers)&&i&&(p&&l(n)||!p&&c(n))&&(u.atomIdsSettings.overrideID=i);const t=n.render(u,{newList:f});if(u.atomIdsSettings&&(u.atomIdsSettings.overrideID=void 0),t)if(f=!1,(null===(a=u.atomIdsSettings)||void 0===a?void 0:a.groupNumbers)&&((l(n)||c(n))&&(i&&p===l(n)||(p=l(n),i=null!==(s=n.id)&&void 0!==s?s:"")),(l(n)||c(n))&&n.hasEmptyBranch("superscript")&&n.hasEmptyBranch("subscript")||!i||(i="")),d&&n.isSelected){e.push(t);for(const t of e)t.selected(!0)}else e.length>0&&(h=[...h,...e],e=[]),h.push(t)}e.length>0&&(h=[...h,...e],e=[])}if(!h||0===h.length)return null;let p=h[0];return(n||h.length>1)&&(p=new re(h,{isTight:u.isTight,...n}),p.selected(h[0].isSelected)),p.wrap(u).wrap(e)}class lt extends ot{constructor(e,t){var n,i;super("group",{mode:null!==(n=null==t?void 0:t.mode)&&void 0!==n?n:"math",serialize:null==t?void 0:t.serialize,style:null==t?void 0:t.style,displayContainsHighlight:!0}),this.body=e,this.mathstyleName=null==t?void 0:t.mathstyleName,this.latexOpen=null==t?void 0:t.latexOpen,this.latexClose=null==t?void 0:t.latexClose,this.cssId=null==t?void 0:t.cssId,this.htmlData=null==t?void 0:t.htmlData,this.customClass=null==t?void 0:t.customClass,this.boxType=null==t?void 0:t.boxType,this.skipBoundary=!0,this.captureSelection=null==t?void 0:t.captureSelection,this.changeMode=null!==(i=null==t?void 0:t.changeMode)&&void 0!==i&&i,this.displayContainsHighlight=!1}render(e){const t=new G(e,this.style,this.mathstyleName),n=ot.createBox(t,this.body,{type:this.boxType,classes:this.customClass,mode:this.mode,style:{backgroundColor:this.style.backgroundColor}});return n?(this.cssId&&(n.cssId=this.cssId),this.htmlData&&(n.htmlData=this.htmlData),this.caret&&(n.caret=this.caret),this.bind(e,n)):n}serialize(e){let t=this.bodyToLatex(e);return"string"==typeof this.latexOpen&&(t=this.latexOpen+t+this.latexClose),this.htmlData&&(t=`\\htmlData{${this.htmlData}}{${t}}`),this.customClass&&(t=`\\class{${this.customClass}}{${t}}`),this.cssId&&(t=`\\cssId{${this.cssId}}{${t}}`),t}}class ct extends ot{constructor(e,t,n){super("spacing",{command:e,style:t}),this.width=n}render(e){var t;let n;if(this.width)n=new re(null,{classes:"mspace"}),n.left=U(this.width.glue);else{const e=null!==(t={"\\qquad":"qquad","\\quad":"quad","\\enspace":"enspace","\\;":"thickspace","\\:":"mediumspace","\\,":"thinspace","\\!":"negativethinspace"}[this.command])&&void 0!==t?t:"mediumspace";n=new re(null,{classes:e})}return this.caret&&(n.caret=this.caret),n}serialize(e){var t;let n=null!==(t=this.command)&&void 0!==t?t:"";return"\\hspace"===this.command||"\\hspace*"===this.command?Number.isFinite(this.width)?n+=`{${this.width}em'}`:n+="{0pt}":Number.isFinite(this.width)&&(n+=` ${this.width}em`),n}}const ut={"(":")","{":"}","[":"]","|":"|","\\lbrace":"\\rbrace","\\lparen":"\\rparen","\\{":"\\}","\\langle":"\\rangle","\\lfloor":"\\rfloor","\\lceil":"\\rceil","\\vert":"\\vert","\\lvert":"\\rvert","\\Vert":"\\Vert","\\lVert":"\\rVert","\\lbrack":"\\rbrack","\\ulcorner":"\\urcorner","\\llcorner":"\\lrcorner","\\lgroup":"\\rgroup","\\lmoustache":"\\rmoustache"};function dt(e){var t;return null!==(t={"[":91,"]":93,"(":40,")":41,"\\mid":8739,"|":8739,"â£":8739,"â¥":8741,"\\|":8739,"\\{":123,"\\}":125,"\\lbrace":123,"\\rbrace":125,"\\lparen":40,"\\rparen":41,"\\lbrack":91,"\\rbrack":93,"\\vert":8739,"\\lvert":8739,"\\mvert":8739,"\\rvert":8739,"\\Vert":8741,"\\lVert":8741,"\\mVert":8741,"\\rVert":8741,"\\parallel":8741,"\\shortparallel":8741,"\\langle":10216,"\\rangle":10217,"\\lfloor":8970,"\\rfloor":8971,"\\lceil":8968,"\\rceil":8969,"\\ulcorner":9484,"\\urcorner":9488,"\\llcorner":9492,"\\lrcorner":9496,"\\lgroup":10222,"\\rgroup":10223,"\\lmoustache":9136,"\\rmoustache":9137,"\\surd":8730}[e])&&void 0!==t?t:e.codePointAt(0)}function ht(e,t,n,i,r){const o=new G(i,null==r?void 0:r.style,"textstyle"),a=new re(dt(e),{fontFamily:"Size"+t+"-Regular",classes:"ML__delim-size"+t}).wrap(o);return n&&a.setTop(.25*(1-o.scalingFactor)),a}function pt(e,t,n,i,r){var o;let a,s,l,c;a=l=c=dt(e),s=null;let u="Size1-Regular";"\\vert"===e||"\\lvert"===e||"\\rvert"===e||"\\mvert"===e||"\\mid"===e?l=a=c=8739:"\\Vert"===e||"\\lVert"===e||"\\rVert"===e||"\\mVert"===e||"\\|"===e?l=a=c=8741:"\\uparrow"===e?l=c=9168:"\\Uparrow"===e?l=c=8214:"\\downarrow"===e?a=l=9168:"\\Downarrow"===e?a=l=8214:"\\updownarrow"===e?(a=8593,l=9168,c=8595):"\\Updownarrow"===e?(a=8657,l=8214,c=8659):"["===e||"\\lbrack"===e?(a=9121,l=9122,c=9123,u="Size4-Regular"):"]"===e||"\\rbrack"===e?(a=9124,l=9125,c=9126,u="Size4-Regular"):"\\lfloor"===e||"â"===e?(l=a=9122,c=9123,u="Size4-Regular"):"\\lceil"===e||"â"===e?(a=9121,l=c=9122,u="Size4-Regular"):"\\rfloor"===e||"â"===e?(l=a=9125,c=9126,u="Size4-Regular"):"\\rceil"===e||"â"===e?(a=9124,l=c=9125,u="Size4-Regular"):"("===e||"\\lparen"===e?(a=9115,l=9116,c=9117,u="Size4-Regular"):")"===e||"\\rparen"===e?(a=9118,l=9119,c=9120,u="Size4-Regular"):"\\{"===e||"\\lbrace"===e?(a=9127,s=9128,c=9129,l=9130,u="Size4-Regular"):"\\}"===e||"\\rbrace"===e?(a=9131,s=9132,c=9133,l=9130,u="Size4-Regular"):"\\lgroup"===e||"â®"===e?(a=9127,c=9129,l=9130,u="Size4-Regular"):"\\rgroup"===e||"â¯"===e?(a=9131,c=9133,l=9130,u="Size4-Regular"):"\\lmoustache"===e||"â°"===e?(a=9127,c=9133,l=9130,u="Size4-Regular"):"\\rmoustache"===e||"â±"===e?(a=9131,c=9129,l=9130,u="Size4-Regular"):"\\surd"===e?(a=57345,c=9143,l=57344,u="Size4-Regular"):"\\ulcorner"===e?(a=9484,l=c=32):"\\urcorner"===e?(a=9488,l=c=32):"\\llcorner"===e?(c=9492,l=a=32):"\\lrcorner"===e&&(a=9496,l=a=32);const d=K(a,u),h=d.height+d.depth,p=K(l,u),f=p.height+p.depth,m=K(c,u),g=m.height+m.depth;let y=0,v=1;if(null!==s){const e=K(s,u);y=e.height+e.depth,v=2}const b=h+g+y,_=Math.max(0,Math.ceil((t-b)/(v*f))),x=b+_*v*f;let k=.25;n&&(k*=i.scalingFactor);const w=x/2-k,S=[];S.push({box:new re(c,{fontFamily:u})}),S.push(-.008);const M=new re(l,{fontFamily:u});if(null===s)for(let O=0;O<_;O++)S.push({box:M});else{for(let e=0;e<_;e++)S.push({box:M});S.push(-.008),S.push({box:new re(s,{fontFamily:u})}),S.push(-.008);for(let e=0;e<_;e++)S.push({box:M})}S.push(-.008),S.push({box:new re(a,{fontFamily:u})});let C="";"Size1-Regular"===u?C=" delim-size1":"Size4-Regular"===u&&(C=" delim-size4");const L=new he({bottom:w,children:S},{classes:C});return new re(L,{...null!=r?r:{},classes:(null!==(o=null==r?void 0:r.classes)&&void 0!==o?o:"")+" ML__delim-mult"})}const ft=new Set(["(",")","\\lparen","\\rparen","[","]","\\lbrack","\\rbrack","\\{","\\}","\\lbrace","\\rbrace","\\lfloor","\\rfloor","\\lceil","\\rceil","\\surd","â","â","â","â"]),mt=new Set(["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\mvert","\\mid","\\lgroup","\\rgroup","\\lmoustache","\\rmoustache","â®","â¯","â°","â±"]),gt=new Set(["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"]),yt=[0,1.2,1.8,2.4,3],vt=[{type:"small",mathstyle:"scriptscriptstyle"},{type:"small",mathstyle:"scriptstyle"},{type:"small",mathstyle:"textstyle"},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],bt=[{type:"small",mathstyle:"scriptscriptstyle"},{type:"small",mathstyle:"scriptscriptstyle"},{type:"small",mathstyle:"textstyle"},{type:"stack"}],_t=[{type:"small",mathstyle:"scriptscriptstyle"},{type:"small",mathstyle:"scriptstyle"},{type:"small",mathstyle:"textstyle"},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}];function xt(e,t,n,i,r,o){var a;if(!t||0===t.length||"."===t)return wt(r,e,e);let s;"<"===t||"\\lt"===t?t="\\langle":">"!==t&&"\\gt"!==t||(t="\\rangle"),s=gt.has(t)?vt:ft.has(t)?_t:bt;const l=function(e,t,n,i){for(let o={"-4":0,"-3":1,0:2}[i.mathstyle.sizeDelta];o<n.length&&"stack"!==n[o].type;o++){const a=K(e,"small"===(r=n[o]).type?"Main-Regular":"large"===r.type?"Size"+r.size+"-Regular":"Size4-Regular");if(a.defaultMetrics)return{type:"small",mathstyle:"scriptstyle"};let s=a.height+a.depth;if("small"===n[o].type&&("scriptscriptstyle"===n[o].mathstyle?s*=$[Math.max(1,i.size-2)]:"scriptstyle"===n[o].mathstyle&&(s*=$[Math.max(1,i.size-1)])),s>t)return n[o]}var r;return n[n.length-1]}(dt(t),n,s,r),c=new G(r,null==o?void 0:o.style,l.mathstyle);return"small"===l.type?function(e,t,n,i){const r=new re(dt(e),{fontFamily:"Main-Regular"}).wrap(t,i);return n&&r.setTop(.25*(1-t.scalingFactor)),r}(t,c,i,{type:e,classes:"ML__small-delim "+(null!==(a=null==o?void 0:o.classes)&&void 0!==a?a:"")}):"large"===l.type?ht(t,l.size,i,c,{...o,type:e}):pt(t,n,i,c,{...o,type:e})}function kt(e,t,n,i,r,o){if("."===t)return wt(r,e,null==o?void 0:o.classes);const a=.25*r.scalingFactor,s=Math.max(n-a,i+a);return xt(e,t,Math.max(s/500*901,2*s-.5),!0,r,o)}function wt(e,t,n){const i=new G(e,void 0,"textstyle");return new re(null,{classes:" nulldelimiter "+(null!=n?n:""),type:t}).wrap(i)}class St extends ot{constructor(e,t){var n;super("leftright",{style:t.style,displayContainsHighlight:!0}),this.body=e,this.inner=null!==(n=t.inner)&&void 0!==n&&n,this.leftDelim=t.leftDelim,this.rightDelim=t.rightDelim}serialize(e){var t,n,i,r;let o=[];return o=this.inner?["\\left"+(null!==(t=this.leftDelim)&&void 0!==t?t:"."),this.bodyToLatex(e),"\\right"+(null!==(n=this.rightDelim)&&void 0!==n?n:".")]:e.expandMacro?[this.leftDelim&&"."!==this.leftDelim?this.leftDelim:"",this.bodyToLatex(e),this.rightDelim&&"."!==this.rightDelim?this.rightDelim:""]:["\\mleft"+(null!==(i=this.leftDelim)&&void 0!==i?i:"."),this.bodyToLatex(e),"\\mright"+(null!==(r=this.rightDelim)&&void 0!==r?r:".")],ke(o)}render(e){var t,n,i,r;const o=new G(e,this.style);if(!this.body){const e=[];return this.leftDelim&&e.push(new ot("mopen",{value:this.leftDelim}).render(o)),this.rightDelim&&e.push(new ot("mclose",{value:this.rightDelim}).render(o)),0===e.length?null:new re(e,{type:"minner"})}const a=new G(e,this.style,"textstyle"),s=null!==(t=ot.createBox(o,this.body,{newList:!0}))&&void 0!==t?t:new re(null,{newList:!0}),l=s.height/a.scalingFactor,c=s.depth/a.scalingFactor,u=[];if(this.leftDelim&&u.push(this.bind(a,kt("mopen",this.leftDelim,l,c,a,{classes:"ML__open"+(this.containsCaret?" ML__contains-caret":""),mode:this.mode,style:this.style}))),s){if(s.children)for(let e=0;e<s.children.length;e++){const t=s.children[e];if(t.delim){const n=t.caret;s.children[e]=this.bind(o,kt("minner",t.delim,l,c,o)),s.children[e].caret=n}}u.push(s)}if(this.rightDelim){let e=this.rightDelim,t=this.containsCaret?" ML__contains-caret":"";"?"===e&&(o.smartFence?(e=null!==(r=null!==(i={"(":")","[":"\\rbrack","\\{":"\\}","\\lbrace":"\\rbrace","\\lparen":"\\rparen","\\langle":"\\rangle","\\lfloor":"\\rfloor","\\lceil":"\\rceil","\\vert":"\\vert","\\lvert":"\\rvert","\\Vert":"\\Vert","\\lVert":"\\rVert","\\lbrack":"\\rbrack","\\ulcorner":"\\urcorner","\\llcorner":"\\lrcorner","\\lgroup":"\\rgroup","\\lmoustache":"\\rmoustache"}[null!==(n=this.leftDelim)&&void 0!==n?n:"."])&&void 0!==i?i:this.leftDelim)&&void 0!==r?r:".",t+=" ML__smart-fence__close"):e="."),u.push(this.bind(a,kt("mclose",e,l,c,a,{classes:t+" ML__close",mode:this.mode,style:this.style})))}const d=new re(u,{type:this.inner?"minner":"mclose",classes:"left-right"});return this.caret&&(d.caret=this.caret),this.bind(o,d.wrap(o))}}class Mt extends ot{constructor(e){super("msubsup",{style:null==e?void 0:e.style})}render(e){var t;const n=new G(e,{isPhantom:!0}),i=null!==(t=this.leftSibling.render(n))&&void 0!==t?t:new re(null),r=new re(null,{height:i.height,depth:i.depth});return this.attachSupsub(e,{base:r,isCharacterBox:this.leftSibling.isCharacterBox(),type:"supsub"})}serialize(e){return this.supsubToLatex(e)}}class Ct extends ot{constructor(e){super("placeholder",{mode:null==e?void 0:e.mode,style:null==e?void 0:e.style,value:null==e?void 0:e.value}),this.captureSelection=!0,this.value="â¬"}render(e){return"function"==typeof e.renderPlaceholder?e.renderPlaceholder(e):this.createBox(e,{classes:this.caret?"ML__placeholder-selected":""})}serialize(e){var t;return`\\placeholder{${null!==(t=this.value)&&void 0!==t?t:""}}`}}class Lt extends ot{constructor(e){super("error",{value:e,command:e,mode:"math"}),this.verbatimLatex=e}render(e){const t=this.createBox(e,{classes:"ML__error"});return this.caret&&(t.caret=this.caret),t}}class Ot extends ot{constructor(e,t){var n,i;super("macro",{command:e}),this.body=t.body,this.captureSelection=null===(n=t.captureSelection)||void 0===n||n,this.macroLatex=e+t.args,this.expand=null!==(i=t.expand)&&void 0!==i&&i}serialize(e){return e.expandMacro&&this.expand?this.bodyToLatex(e):this.macroLatex}render(e){const t=ot.createBox(e,this.body);return t?(this.caret&&(t.caret=this.caret),this.bind(e,t)):null}}class At extends ot{constructor(e,t,n){super("text",{command:e,mode:"text",displayContainsHighlight:!0}),this.value=t,this.verbatimLatex=t,this.applyStyle(n)}render(e){const t=this.createBox(e);return this.caret&&(t.caret=this.caret),t}serialize(e){var t;return null!==(t=this.verbatimLatex)&&void 0!==t?t:Be("text",this.value.codePointAt(0))}}function Et(e){return!/^<({|}|\$|\$\$|space)>$/.test(e)}class Tt{constructor(e,t){var n,i,r,o,a,s;this.index=0,this.smartFence=!1,this.endCount=0,this.tokens=e,this.args=null!==(n=t.args)&&void 0!==n?n:null,this.macros=t.macros,this.colorMap=t.colorMap,this.backgroundColorMap=null!==(i=t.backgroundColorMap)&&void 0!==i?i:this.colorMap,this.smartFence=null!==(r=t.smartFence)&&void 0!==r&&r,this.onError=t.onError?e=>t.onError({before:we(this.tokens.slice(this.index,this.index+10)),after:we(this.tokens.slice(Math.max(0,this.index-10),this.index)),...e}):()=>{},this._parsingContexts=[{parseMode:null!==(o=t.parseMode)&&void 0!==o?o:"math",mathstyle:null!==(a=t.mathstyle)&&void 0!==a?a:"displaystyle",registers:t.registers,tabular:!1,style:null!==(s=t.style)&&void 0!==s?s:{},mathlist:[]}]}get currentContext(){return this._parsingContexts[this._parsingContexts.length-1]}beginContext(e){var t,n,i;this._parsingContexts.push({parseMode:null!==(t=null==e?void 0:e.mode)&&void 0!==t?t:this.currentContext.parseMode,mathstyle:null!==(n=null==e?void 0:e.mathstyle)&&void 0!==n?n:this.currentContext.mathstyle,registers:null,style:{...this.currentContext.style},tabular:null!==(i=null==e?void 0:e.tabular)&&void 0!==i&&i,mathlist:[]})}endContext(){this._parsingContexts.pop()}get mathlist(){return this._parsingContexts[this._parsingContexts.length-1].mathlist}set mathlist(e){this._parsingContexts[this._parsingContexts.length-1].mathlist=e}get parseMode(){return this._parsingContexts[this._parsingContexts.length-1].parseMode}set parseMode(e){this._parsingContexts[this._parsingContexts.length-1].parseMode=e}get tabularMode(){return this._parsingContexts[this._parsingContexts.length-1].tabular}get style(){let e=this._parsingContexts.length-1,t=this._parsingContexts[e].style;for(;void 0===t&&e>0;)e-=1,t=this._parsingContexts[e].style;return null!=t?t:{}}set style(e){this._parsingContexts[this._parsingContexts.length-1].style=e}getRegister(e){var t,n,i,r;if(e.startsWith("global "))return null!==(n=null===(t=this._parsingContexts[0].registers)||void 0===t?void 0:t[e.slice(7)])&&void 0!==n?n:0;let o=this._parsingContexts.length-1,a=this._parsingContexts[o].registers;for(;o>=0&&a&&void 0===a[e];)o-=1,a=null===(i=this._parsingContexts[o])||void 0===i?void 0:i.registers;return null!==(r=null==a?void 0:a[e])&&void 0!==r?r:0}setRegister(e,t){if(e.startsWith("global ")){e=e.slice(7);let n=this._parsingContexts.length-1;for(;n>0;)this._parsingContexts[n].registers&&delete this._parsingContexts[n].registers[e],n-=1;this._parsingContexts[0].registers[e]=t}else this._parsingContexts[this._parsingContexts.length-1].registers||(this._parsingContexts[this._parsingContexts.length-1].registers={}),this._parsingContexts[this._parsingContexts.length-1].registers[e]=t}end(){return this.endCount++,this.index>=this.tokens.length||this.endCount>1e3}get(){return this.endCount=0,this.index<this.tokens.length?this.tokens[this.index++]:""}peek(){return this.tokens[this.index]}match(e){return this.tokens[this.index]===e&&(this.index++,!0)}lastSubsupAtom(){let e;if(this.mathlist.length>0){if(e=this.mathlist[this.mathlist.length-1],"msubsup"===e.type)return e;if(void 0!==e.subsupPlacement)return e}return e=new Mt({style:this.style}),this.mathlist.push(e),e}hasPattern(e){return e.test(this.tokens[this.index])}hasInfixCommand(){var e;const{index:t}=this;if(t<this.tokens.length&&this.tokens[t].startsWith("\\")){const n=Ve(this.tokens[t],this.parseMode,this.macros);return!!n&&!(n.ifMode&&!n.ifMode.includes(this.parseMode))&&null!==(e=n.infix)&&void 0!==e&&e}return!1}matchColumnSeparator(){const{index:e}=this;return!(!this.tabularMode||"&"!==this.tokens[e]||(this.index++,0))}matchRowSeparator(){const{index:e}=this;return!(!this.tabularMode||"\\\\"!==this.tokens[e]&&"\\cr"!==this.tokens[e]||(this.index++,0))}placeholder(){var e;const t=null===(e=this.args)||void 0===e?void 0:e.call(this,"?");return t?Nt(t,{parseMode:this.parseMode,onError:this.onError,registers:this.currentContext.registers,mathstyle:"textstyle",colorMap:this.colorMap,backgroundColorMap:this.backgroundColorMap}):[new Ct({mode:this.parseMode,style:this.style})]}matchWhitespace(){let e=!1;for(;this.match("<space>");)e=!0;return e}skipUntilToken(e){let t=this.tokens[this.index];for(;t&&t!==e;)t=this.tokens[++this.index];t===e&&this.index++}skipFiller(){let e=!1;do{const t=this.matchWhitespace(),n=this.match("\\relax");e=!t&&!n}while(!e)}matchKeyword(e){const t=this.index;let n=this.end(),i="";for(;!n;){const t=this.get();Et(t)?(i+=t,n=this.end()||i.length>=e.length):n=!0}const r=e.toUpperCase()===i.toUpperCase();return r||(this.index=t),r}scanString(){let e="";for(;!this.end();)if(this.match("<space>"))e+=" ";else{const t=this.peek();if("]"===t)break;if(Et(t))e+=this.get();else{if(!t.startsWith("\\"))break;this.onError({code:"unbalanced-braces"}),e+=this.get()}}return e}scanBalancedString(){let e="",t=this.end(),n=1;for(;!t;){if(this.match("<space>"))e+=" ";else{const t=this.get();"<{>"===t?(e+="{",n+=1):"<}>"===t?(n-=1,n>0?e+="}":this.index-=1):e+="<$>"===t?"$":"<$$>"===t?"$$":t}t=0===n||this.end()}return e}matchLiteralArg(){var e;let t="";if(this.match("<{>")){let n=1;for(;n>0&&!this.end();){const i=this.get();"<}>"===i?(n-=1,n>0&&(t+="}")):"<{>"===i?(n+=1,t+="{"):t+=null!==(e={"<space>":" ","<$$>":"$$","<$>":"$"}[i])&&void 0!==e?e:i}}return t}scanNumber(e=!0){var t,n;let i=!1,r=this.peek();for(;"<space>"===r||"+"===r||"-"===r;)this.get(),"-"===r&&(i=!i),r=this.peek();e=Boolean(e);let o=10,a=/\d/;if(this.match("'"))o=8,a=/[0-7]/,e=!0;else if(this.match('"')||this.match("x"))o=16,a=/[\dA-F]/,e=!0;else if(this.match("`"))return r=this.get(),r?r.startsWith("\\")&&2===r.length?(i?-1:1)*(null!==(t=r.codePointAt(1))&&void 0!==t?t:0):(i?-1:1)*(null!==(n=r.codePointAt(0))&&void 0!==n?n:0):null;let s="";for(;this.hasPattern(a);)s+=this.get();if(!e&&(this.match(".")||this.match(",")))for(s+=".";this.hasPattern(a);)s+=this.get();const l=e?Number.parseInt(s,o):Number.parseFloat(s);return Number.isNaN(l)?null:i?-l:l}scanDimen(){var e,t,n;let i,r=this.scanNumber(!1);if(null===r){if(!(null===(e=this.peek())||void 0===e?void 0:e.startsWith("\\")))return null;r=1}return this.matchWhitespace(),this.matchKeyword("pt")?i={dimension:r,unit:"pt"}:this.matchKeyword("mm")?i={dimension:r,unit:"mm"}:this.matchKeyword("cm")?i={dimension:r,unit:"cm"}:this.matchKeyword("ex")?i={dimension:r,unit:"ex"}:this.matchKeyword("px")?i={dimension:r,unit:"px"}:this.matchKeyword("em")?i={dimension:r,unit:"em"}:this.matchKeyword("bp")?i={dimension:r,unit:"bp"}:this.matchKeyword("dd")?i={dimension:r,unit:"dd"}:this.matchKeyword("pc")?i={dimension:r,unit:"pc"}:this.matchKeyword("in")?i={dimension:r,unit:"in"}:this.matchKeyword("mu")?i={dimension:r,unit:"mu"}:(null===(t=this.peek())||void 0===t?void 0:t.startsWith("\\"))?(i=null!==(n=Dt(this.getRegister(this.get().slice(1)),this.currentContext.registers))&&void 0!==n?n:{dimension:0},i.dimension*=r):(this.match("\\relax")||this.onError({code:"missing-unit"}),i={dimension:r,unit:"pt"}),i}scanGlue(){const e=this.scanDimen();if(null===e)return null;const t={glue:e};return this.matchWhitespace(),this.match("\\relax")||(this.matchKeyword("plus")&&this.scanDimen(),this.matchWhitespace(),this.match("\\relax")||(this.matchWhitespace(),this.matchKeyword("minus")&&this.scanDimen())),t}scanColspec(){this.matchWhitespace();const e=[];for(;!this.end()&&"<}>"!==this.peek()&&"]"!==this.peek();){const t=this.get();"c"===t||"r"===t||"l"===t?e.push({align:t}):"|"===t?e.push({separator:"solid"}):":"===t?e.push({separator:"dashed"}):"@"===t&&(this.match("<{>")&&(this.beginContext({mode:"math"}),e.push({gap:this.parse(e=>"<}>"===e)}),this.endContext()),this.match("<}>")||this.onError({code:"unbalanced-braces"}))}return e}parseModeSet(){let e="";if(this.match("\\(")&&(e="\\)"),!e&&this.match("\\[")&&(e="\\]"),!e)return null;this.beginContext({mode:"math",mathstyle:"\\)"===e?"textstyle":"displaystyle"});const t=new lt(this.parse(t=>t===e),{mathstyleName:"\\)"===e?"textstyle":"displaystyle",latexOpen:"\\]"===e?"\\[":"\\(",latexClose:e,boxType:"mord"});return this.match(e)||this.onError({code:"unbalanced-mode-shift"}),this.endContext(),t.hasEmptyBranch("body")?null:t}parseModeShift(){let e="";if(this.match("<$>")&&(e="<$>"),!e&&this.match("<$$>")&&(e="<$$>"),!e)return null;this.beginContext({mode:"math",mathstyle:"textstyle"});const t=new lt(this.parse(t=>t===e),{mathstyleName:"<$>"===e?"textstyle":"displaystyle",latexOpen:"<$>"===e?"$ ":"$$ ",latexClose:"<$>"===e?" $":" $$"});return this.match(e)||this.onError({code:"unbalanced-mode-shift"}),this.endContext(),t.hasEmptyBranch("body")?null:t}parseEnvironment(){if(!this.match("\\begin"))return null;const e=this.parseArgument("string");if(!e)return null;const t=function(e){var t;return null!==(t=De[e])&&void 0!==t?t:null}(e);if(!t)return this.onError({code:"unknown-environment",arg:e}),null;const n=[];if(t.params)for(const s of t.params)if(s.isOptional)n.push(this.parseOptionalArgument(s.type));else{const t=this.parseArgument(s.type);t||this.onError({code:"missing-argument",arg:e}),n.push(t)}this.beginContext({tabular:t.tabular});const i=[],r=[];let o=[],a=!1;do{if(this.end()&&(this.onError({code:"unbalanced-environment",arg:e}),a=!0),!a&&this.match("\\end")&&(this.parseArgument("string")!==e&&this.onError({code:"unbalanced-environment",arg:e}),a=!0),!a)if(this.matchColumnSeparator())o.push(this.mathlist),this.mathlist=[];else if(this.matchRowSeparator()){o.push(this.mathlist),this.mathlist=[];let e=null;this.matchWhitespace(),this.match("[")&&(e=this.scanDimen(),this.matchWhitespace(),this.match("]")),r.push(null!=e?e:{dimension:0}),i.push(o),o=[]}else this.mathlist=this.mathlist.concat(this.parse(e=>"<}>"===e||"&"===e||"\\end"===e||"\\cr"===e||"\\\\"===e))}while(!a);return o.push(this.mathlist),o.length>0&&i.push(o),this.endContext(),t.createAtom(e,i,r,n)}parse(e){this.beginContext(),e||(e=e=>"<}>"===e);let t="",n=null,i=[],r=null;const o=this.mathlist;for(this.mathlist=[];!this.end()&&!e(this.peek());)this.hasInfixCommand()&&!t?(t=this.get(),n=Ve(t,"math",this.macros),n&&(i=this.parseArguments(n)[1]),r=this.mathlist,this.mathlist=[]):this.parseToken();let a;return t?(i.unshift(this.mathlist),this.mathlist=o,r&&i.unshift(r),a=[n.createAtom(t,i,this.style,{colorMap:this.colorMap,backgroundColorMap:this.backgroundColorMap})]):(a=this.mathlist,this.mathlist=o),this.endContext(),a}parseGroup(){if(!this.match("<{>"))return null;const e=new lt(this.parse(e=>"<}>"===e),{mode:this.parseMode,latexOpen:"{",latexClose:"}"});return this.match("<}>")||this.onError({code:"unbalanced-braces"}),e}scanSmartFence(){if(this.matchWhitespace(),!this.match("("))return null;this.beginContext();let e=1;for(;!this.end()&&0!==e;)this.match("(")&&(e+=1),this.match(")")&&(e-=1),0!==e&&this.parseToken();0===e&&this.match(")");const t=new St(this.mathlist,{inner:!1,leftDelim:"(",rightDelim:0===e?")":"?"});return this.endContext(),t}scanDelim(){this.matchWhitespace();const e=this.get();if(!e)return this.onError({code:"unexpected-end-of-string"}),null;let t=".";(e.startsWith("\\")||Et(e))&&(t=e);const n=Ve(t,"math",this.macros);return n?n.ifMode&&!n.ifMode.includes(this.parseMode)?(this.onError({code:"unexpected-delimiter",arg:t}),null):"mopen"===n.type||"mclose"===n.type||/^(\.|\?|\||<|>|\\vert|\\Vert|\\\||\\surd|\\uparrow|\\downarrow|\\Uparrow|\\Downarrow|\\updownarrow|\\Updownarrow|\\mid|\\mvert|\\mVert)$/.test(t)?t:(this.onError({code:"unexpected-delimiter",arg:t}),null):(this.onError({code:"unknown-command",arg:t}),null)}parseLeftRight(){var e;if(this.match("\\right")||this.match("\\mright"))return this.onError({code:"unbalanced-braces"}),null;let t="\\right";if(!this.match("\\left")){if(!this.match("\\mleft"))return null;t="\\mright"}const n=this.scanDelim();if(!n)return null;for(this.beginContext();!this.end()&&!this.match(t);)this.parseToken();const i=this.mathlist;this.endContext();const r=null!==(e=this.scanDelim())&&void 0!==e?e:".";return new St(i,{leftDelim:n,rightDelim:r,inner:"\\right"===t,style:this.style})}parseSupSub(){if("math"!==this.parseMode)return!1;let e=this.peek();if("^"!==e&&"_"!==e&&"'"!==e)return!1;for(;"^"===e||"_"===e||"'"===e;){if(this.match("'"))this.match("'")?this.lastSubsupAtom().addChild(new ot("mord",{command:"\\doubleprime",mode:"math",value:"â²â²"}),"superscript"):this.lastSubsupAtom().addChild(new ot("mord",{command:"\\prime",mode:"math",value:"â²"}),"superscript");else if(this.match("^")||this.match("_")){const t=this.parseArgument("math");t?this.lastSubsupAtom().addChildren(t,"_"===e?"subscript":"superscript"):this.lastSubsupAtom().createBranch("_"===e?"subscript":"superscript")}e=this.peek()}return!0}parseLimits(){const e=this.match("\\limits"),t=!e&&this.match("\\nolimits"),n=!t&&!e&&this.match("\\displaylimits");if(!e&&!t&&!n)return!1;const i=this.mathlist.length>0?this.mathlist[this.mathlist.length-1]:null;return!(null===i||"mop"!==i.type||(e?(i.subsupPlacement="over-under",i.explicitSubsupPlacement=!0,0):t?(i.subsupPlacement="adjacent",i.explicitSubsupPlacement=!0,0):!n||(i.subsupPlacement="auto",i.explicitSubsupPlacement=!0,0)))}parseArguments(e){if(!e||!e.params)return[void 0,[]];let t;const n=[];let i=e.infix?2:0;for(;i<e.params.length;){const r=e.params[i];if("rest"===r.type)n.push(this.parse(e=>"<}>"===e||"&"===e||"\\end"===e||"\\cr"===e||"\\\\"===e));else if(r.isOptional)n.push(this.parseOptionalArgument(r.type));else if(r.type.endsWith("*"))t=r.type.slice(0,-1);else{const e=this.parseArgument(r.type);if(null!==e)n.push(e);else switch(this.onError({code:"missing-argument"}),r.type){case"number":n.push(0);break;case"dimen":n.push({dimension:0,unit:"pt"});break;case"glue":n.push({glue:{dimension:0,unit:"pt"}});break;case"string":case"balanced-string":n.push("");break;case"delim":n.push(".");break;case"colspec":n.push("llllllllll");break;case"auto":default:n.push(this.placeholder())}}i+=1}return[t,n]}parseArgument(e){var t,n,i,r;this.skipFiller(),e="auto"===e?this.parseMode:e;let o=null;if(!this.match("<{>")){if("delim"===e)return null!==(t=this.scanDelim())&&void 0!==t?t:".";if("text"===e||"math"===e){this.beginContext();const e=this.parseSimpleToken();return this.endContext(),e}}if("text"===e||"math"===e){this.beginContext({mode:e});const t=this.index;let r=1;do{const e=this.get();"<}>"===e&&(r-=1),"<{>"===e&&(r+=1)}while(r>0&&!this.end());if(o=Q.parseTokens(e,this.tokens.slice(t,this.index-1),this.onError,{args:null!==(n=this.args)&&void 0!==n?n:()=>"",macros:null!==(i=this.macros)&&void 0!==i?i:{},smartFence:this.smartFence,style:this.style,parse:(e,t,n)=>{const i=new Tt(t,{args:n.args,parseMode:e,smartFence:this.smartFence,macros:n.macros,registers:this.currentContext.registers,mathstyle:this.currentContext.mathstyle,colorMap:this.colorMap,backgroundColorMap:this.backgroundColorMap,style:n.style,onError:this.onError});return o=i.parse(),[o,t.slice(i.index)]}}),!o){this.index=t;do{this.mathlist=this.mathlist.concat(this.parse())}while(!this.match("<}>")&&!this.end())}}else{if(this.beginContext(),"string"===e?o=this.scanString():"balanced-string"===e?o=this.scanBalancedString():"number"===e?o=this.scanNumber():"colspec"===e?o=this.scanColspec():"dimen"===e?o=this.scanDimen():"glue"===e?o=this.scanGlue():"delim"===e&&(o=null!==(r=this.scanDelim())&&void 0!==r?r:"."),null===o)return this.endContext(),null;this.skipUntilToken("<}>")}const a=this.mathlist;return this.endContext(),null!=o?o:a}parseOptionalArgument(e){var t;if(e="auto"===e?this.parseMode:e,this.matchWhitespace(),!this.match("["))return null;let n=null;for(;!this.end()&&!this.match("]");)if("string"===e)n=this.scanString();else if("number"===e)n=this.scanNumber();else if("dimen"===e)n=this.scanDimen();else if("glue"===e)n=this.scanGlue();else if("colspec"===e)n=this.scanColspec();else if("bbox"===e){const e=this.scanString().toLowerCase().trim().split(/,(?![^(]*\)(?:(?:[^(]*\)){2})*[^"]*$)/),i={};for(const n of e){const e=null===(t=this.backgroundColorMap)||void 0===t?void 0:t.call(this,n);if(e)i.backgroundcolor=e;else{const e=n.match(/^\s*([\d.]+)\s*([a-z]{2})/);if(e)i.padding=e[0];else{const e=n.match(/^\s*border\s*:\s*(.*)/);e&&(i.border=e[1])}}}n=i}else"math"===e&&(this.beginContext({mode:"math"}),n=this.mathlist.concat(this.parse(e=>"]"===e)),this.endContext());return n}parseCommand(e){var t,n,i,r,o,a;let s=null;if("\\placeholder"===e)return[new Ct({mode:this.parseMode,value:null!==(t=this.parseArgument("string"))&&void 0!==t?t:void 0,style:this.style})];if("\\char"===e){const e=this.index;let t=Math.floor(null!==(n=this.scanNumber(!0))&&void 0!==n?n:Number.NaN);(!Number.isFinite(t)||t<0||t>1114111)&&(t=10067);const i="\\char"+we(this.tokens.slice(e,this.index));return s=new ot("math"===this.parseMode?"mord":"text",{command:"\\char",mode:this.parseMode,value:String.fromCodePoint(t),serialize:()=>i}),s.verbatimLatex=i,[s]}if("\\hskip"===e||"\\kern"===e){const t=this.scanGlue();return t?[new ct(e,this.style,t)]:null}if(s=this.scanMacro(e),s)return[s];const l=Ve(e,this.parseMode,{});if(!l)return this.onError({code:"unknown-command",arg:e}),[new Lt(e)];if(l.ifMode&&!l.ifMode.includes(this.parseMode))return[];const c=this.parseMode;l.applyMode&&(this.parseMode=l.applyMode);const u=this.index,[d,h]=this.parseArguments(l);if(this.parseMode=c,!h)return null;if(l.applyMode&&!l.applyStyle&&!l.createAtom)return h[0];if(l.infix)return this.onError({code:"too-many-infix-commands",arg:e}),null;if("function"==typeof l.createAtom)s=l.createAtom(e,h,this.style,{colorMap:this.colorMap,backgroundColorMap:this.backgroundColorMap}),d&&(s.body=null!==(i=this.parseArgument(d))&&void 0!==i?i:void 0);else if("function"==typeof l.applyStyle){const t=l.applyStyle(e,h,{colorMap:this.colorMap,backgroundColorMap:this.backgroundColorMap}),n=this.parseMode;if(l.applyMode&&(this.parseMode=l.applyMode),d){const e=this.style;this.style={...this.style,...t};const i=this.parseArgument(d);return this.style=e,this.parseMode=n,i}this.style={...this.style,...t},this.parseMode=n}else{const t={...this.style};l.variant&&(t.variant=l.variant),s=new ot(null!==(r=l.type)&&void 0!==r?r:"mop",{command:e,style:t,value:l.codepoint?String.fromCodePoint(l.codepoint):e,mode:null!==(o=l.applyMode)&&void 0!==o?o:this.parseMode})}if(s instanceof ot&&!s.verbatimLatex&&!/^\\(llap|rlap|class|cssId|htmlData)$/.test(e)&&(s.verbatimLatex=(null!==(a=s.command)&&void 0!==a?a:"")+we(this.tokens.slice(u,this.index)),s.isFunction&&this.smartFence)){const e=this.scanSmartFence();if(e)return[s,e]}return s?[s]:null}parseLiteral(e){const t=Q.createAtom(this.parseMode,e,{...this.style});if(!t)return null;if(t.isFunction&&this.smartFence){const e=this.scanSmartFence();if(e)return[t,e]}return[t]}parseSimpleToken(){const e=this.get();return e?"<space>"===e?"text"===this.parseMode?[new At(" "," ",this.style)]:null:e.startsWith("\\")?this.parseCommand(e):Et(e)?this.parseLiteral(e):("<}>"===e?this.onError({latex:"",code:"unbalanced-braces"}):this.onError({latex:"",code:"unexpected-token",arg:e}),null):null}scanMacro(e){var t,n;const i=e.slice(1);if(!this.macros||!this.macros[i])return null;const r=this.index,o=this.macros[i].def,a=this.macros[i].args,s={};for(let l=1;l<=a;l++)s[l]=this.matchLiteralArg();return s["?"]=null===(t=this.args)||void 0===t?void 0:t.call(this,"?"),new Ot(e,{expand:this.macros[i].expand,captureSelection:this.macros[i].captureSelection,args:we(this.tokens.slice(r,this.index)),body:Nt(o,{parseMode:this.parseMode,args:e=>s[e],macros:this.macros,registers:null!==(n=this.currentContext.registers)&&void 0!==n?n:null,mathstyle:this.currentContext.mathstyle,colorMap:this.colorMap,backgroundColorMap:this.backgroundColorMap,onError:this.onError})})}parseToken(){var e,t,n,r;let o=null!==(r=null!==(n=null!==(t=null!==(e=this.parseEnvironment())&&void 0!==e?e:this.parseModeShift())&&void 0!==t?t:this.parseModeSet())&&void 0!==n?n:this.parseGroup())&&void 0!==r?r:this.parseLeftRight();if(null===o){if(this.parseSupSub())return!0;if(this.parseLimits())return!0;o=this.parseSimpleToken()}return i(o)?this.mathlist=this.mathlist.concat(o):o&&this.mathlist.push(o),null!==o}}function Nt(e,t){var n,i,r,o,a,s,l,c;const h=new Tt(xe(e,null!==(n=null==t?void 0:t.args)&&void 0!==n?n:null),{args:null!==(i=null==t?void 0:t.args)&&void 0!==i?i:null,macros:Je(null==t?void 0:t.macros),registers:null!==(r=null==t?void 0:t.registers)&&void 0!==r?r:null,mathstyle:null!==(o=null==t?void 0:t.mathstyle)&&void 0!==o?o:"displaystyle",colorMap:null!==(a=null==t?void 0:t.colorMap)&&void 0!==a?a:u,parseMode:null!==(s=null==t?void 0:t.parseMode)&&void 0!==s?s:"math",smartFence:null==t?void 0:t.smartFence,backgroundColorMap:null!==(c=null!==(l=null==t?void 0:t.backgroundColorMap)&&void 0!==l?l:null==t?void 0:t.colorMap)&&void 0!==c?c:d,onError:n=>{"function"==typeof(null==t?void 0:t.onError)&&t.onError({...n,latex:e})}});let p=[];for(;!h.end();){const e=h.parse();if(!e)break;p=p.concat(e)}return p}function Dt(e,t){return"number"==typeof e?{dimension:e,unit:"pt"}:("object"==typeof e&&"glue"in e&&(e=e.glue),"object"==typeof e&&"dimension"in e?e:new Tt(xe(e),{registers:t}).scanDimen())}class Pt extends ot{constructor(e,t,n){super("accent",{command:e,style:n.style}),n.accentChar?this.accent=n.accentChar:this.svgAccent=null==n?void 0:n.svgAccent,this.body=t,this.skipBoundary=!0}render(e){var t;const n=new G(e,this.style,"cramp"),i=null!==(t=ot.createBox(n,this.body))&&void 0!==t?t:new re(null);if(!this.accent)return i;let r=0;!this.hasEmptyBranch("body")&&2===this.body.length&&this.body[1].isCharacterBox()&&(r=i.skew);let o,a=Math.min(i.height,.431);if(this.svgAccent)o=de(this.svgAccent),a=n.metrics.bigOpSpacing1-a;else{const e=new re(this.accent,{fontFamily:"Main-Regular"});e.italic=0;const t=8407===this.accent?" ML__accent-vec":"";o=new re(new re(e),{classes:"ML__accent-body"+t})}o=new he({shift:0,children:[{box:new re(i)},-a,{box:o,marginLeft:i.left+2*r,classes:["ML__center"]}]});const s=new re(o,{newList:!0,type:"mord"});return this.caret&&(s.caret=this.caret),this.bind(n,s.wrap(n)),this.attachSupsub(n,{base:s})}}class qt extends ot{constructor(e,t){var n,i,r;super("overunder",{command:e,serialize:t.serialize,style:t.style}),this.skipBoundary=null===(n=t.skipBoundary)||void 0===n||n,this.subsupPlacement=t.supsubPlacement,this.body=t.body,this.svgAbove=t.svgAbove,this.svgBelow=t.svgBelow,this.svgBody=t.svgBody,this.above=t.above,this.below=t.below,this.boxType=null!==(i=t.boxType)&&void 0!==i?i:"mord",this.padded=null!==(r=t.padded)&&void 0!==r&&r}render(e){let t=this.svgBody?de(this.svgBody):ot.createBox(e,this.body,{newList:!0});const n=new G(e,this.style,"scriptstyle");let i=null;this.svgAbove?i=de(this.svgAbove):this.above&&(i=ot.createBox(n,this.above,{newList:!0}));let r=null;this.svgBelow?r=de(this.svgBelow):this.below&&(r=ot.createBox(n,this.below,{newList:!0})),this.padded&&(t=new re([wt(e,"mopen"),t,wt(e,"mclose")],{newList:!0}));let o=function(e,t){if(!t.base)return null;if(!t.above&&!t.below){const e=new re(t.base,{type:t.type});return e.setStyle("position","relative"),e}let n=0;t.above&&(n=-t.above.depth+e.metrics.bigOpSpacing2);let i=null;const r=t.base;if(t.below&&t.above){const o=e.metrics.bigOpSpacing5+t.below.height+t.below.depth+r.depth+0;i=new he({bottom:o,children:[e.metrics.bigOpSpacing5,{box:t.below,classes:["ML__center"]},{box:r,classes:["ML__center"]},n,{box:t.above,classes:["ML__center"]},e.metrics.bigOpSpacing5]})}else t.below?i=new he({top:r.height-0,children:[e.metrics.bigOpSpacing5,{box:t.below,classes:["ML__center"]},{box:r,classes:["ML__center"]}]}):t.above&&(i=new he({bottom:r.depth+0,children:[{box:r,classes:["ML__center"]},n,{box:t.above,classes:["ML__center"]},e.metrics.bigOpSpacing5]}));return new re(i,{type:t.type})}(e,{base:t,above:i,below:r,type:"mbin"===this.boxType||"mrel"===this.boxType?this.boxType:"mord"});return o?(o="over-under"===this.subsupPlacement?this.attachLimits(e,{base:o,type:o.type}):this.attachSupsub(e,{base:o}),this.caret&&(o.caret=this.caret),this.bind(e,o)):null}}class It extends ot{constructor(e,t,n){super("box",{command:e,serialize:n.serialize,style:n.style}),this.body=t,this.framecolor=n.framecolor,this.verbatimFramecolor=n.verbatimBackgroundcolor,this.backgroundcolor=n.backgroundcolor,this.verbatimBackgroundcolor=n.verbatimBackgroundcolor,this.padding=n.padding,this.border=n.border}render(e){const t=new G(e,this.style),n=U(t.getRegisterAsDimension("fboxsep")),i=void 0===this.padding?n:U(Dt(this.padding,e.registers)),r=ot.createBox(e,this.body);if(!r)return null;r.setStyle("vertical-align",-r.height,"em");const o=new re(r,{type:"mord"}),a=new re(null,{classes:"ML__box"});a.height=o.height+i,a.depth=o.depth+i,a.setStyle("box-sizing","border-box"),a.setStyle("position","absolute"),a.setStyle("height",o.height+o.depth+2*i,"em"),0===i?a.setStyle("width","100%"):(a.setStyle("width",`calc(100% + ${2*i}em)`),a.setStyle("top",n,"em"),a.setStyle("left",-i,"em")),a.setStyle("z-index","-1"),this.backgroundcolor&&a.setStyle("background-color",this.backgroundcolor),this.framecolor&&a.setStyle("border",`${U(t.getRegisterAsDimension("fboxrule"))}em solid ${this.framecolor}`),this.border&&a.setStyle("border",this.border),o.setStyle("display","inline-block"),o.setStyle("height",r.height+r.depth,"em"),o.setStyle("vertical-align",-i,"em");const s=new re([a,o]);return s.setStyle("position","relative"),s.setStyle("display","inline-block"),s.setStyle("line-height",0),s.height=o.height+i,s.depth=o.depth+i,s.left=i,s.right=i,s.setStyle("height",o.height+i,"em"),s.setStyle("top",o.depth-o.height,"em"),s.setStyle("vertical-align",o.depth+i,"em"),this.caret&&(s.caret=this.caret),this.attachSupsub(e,{base:s})}}class jt extends ot{constructor(e,t,n){var i,r,o,a;super("phantom",{command:e,style:n.style}),this.captureSelection=!0,this.body=t,this.isInvisible=null!==(i=n.isInvisible)&&void 0!==i&&i,this.smashDepth=null!==(r=n.smashDepth)&&void 0!==r&&r,this.smashHeight=null!==(o=n.smashHeight)&&void 0!==o&&o,this.smashWidth=null!==(a=n.smashWidth)&&void 0!==a&&a}render(e){const t=new G(e,{isPhantom:!0});if(!this.smashDepth&&!this.smashHeight&&!this.smashWidth)return ot.createBox(t,this.body,{classes:"inner"});const n=ot.createBox(this.isInvisible?t:e,this.body);if(!n)return null;if(this.smashWidth){const t=new re(null,{classes:"fix"});return new re([n,t],{classes:"rlap"}).wrap(e)}if(!this.smashHeight&&!this.smashDepth)return n;if(this.smashHeight&&(n.height=0),this.smashDepth&&(n.depth=0),n.children)for(const i of n.children)this.smashHeight&&(i.height=0),this.smashDepth&&(i.depth=0);return new he({firstBaseline:[{box:n}]},{type:"mord"}).wrap(e)}}class zt extends ot{constructor(e,t,n){super("delim",{command:e,style:null==n?void 0:n.style}),this.value=t,this.size=null==n?void 0:n.size}render(e){const t=new re(null);return t.delim=this.value,t}serialize(e){return 1===this.value.length?this.command+this.value:this.command+"{"+this.value+"}"}}class Rt extends ot{constructor(e,t,n){super("sizeddelim",{command:e,style:n.style}),this.value=t,this.delimClass=n.delimClass,this.size=n.size}render(e){const t=this.bind(e,function(e,t,n,i){var r;return void 0===e||"."===e?wt(n,null!==(r=i.type)&&void 0!==r?r:"minner",i.classes):("<"===e||"\\lt"===e||"â¨"===e?e="\\langle":">"!==e&&"\\gt"!==e&&"â©"!==e||(e="\\rangle"),ft.has(e)||gt.has(e)?ht(e,t,!1,n,i):mt.has(e)?pt(e,yt[t],!1,n,i):null)}(this.value,this.size,e,{classes:this.delimClass}));return t?(this.caret&&(t.caret=this.caret),t):null}serialize(e){return 1===this.value.length?this.command+this.value:this.command+"{"+this.value+"}"}}class Ft extends ot{constructor(e,t,n){super("line",{command:e,style:n.style}),this.skipBoundary=!0,this.body=t,this.position=n.position}render(e){const t=new G(e,this.style,"cramp"),n=ot.createBox(t,this.body);if(!n)return null;const i=t.metrics.defaultRuleThickness/t.scalingFactor,r=new re(null,{classes:this.position+"-line"});let o;return r.height=i,r.maxFontSize=1.125*i*t.scalingFactor,o="overline"===this.position?new he({shift:0,children:[{box:n},3*i,{box:r},i]}):new he({top:n.height,children:[i,{box:r},3*i,{box:n}]}),this.caret&&(o.caret=this.caret),new re(o,{classes:this.position,type:"mord"})}}class $t extends ot{constructor(e,t,n){var i,r;super("overlap",{command:e,style:null==n?void 0:n.style}),this.skipBoundary=!0,this.body="string"==typeof t?[new ot("mord",{value:t})]:t,this.align=null!==(i=null==n?void 0:n.align)&&void 0!==i?i:"left",this.boxType=null!==(r=null==n?void 0:n.boxType)&&void 0!==r?r:"mord"}render(e){const t=ot.createBox(e,this.body,{classes:"inner"});return t?(this.caret&&(t.caret=this.caret),this.bind(e,new re([t,new re(null,{classes:"fix"})],{classes:"left"===this.align?"llap":"rlap",type:this.boxType}))):null}}class Bt extends ot{constructor(e,t,n,i){var r,o;super("genfrac",{style:i.style,command:e,serialize:i.serialize,displayContainsHighlight:!0}),this.above=t,this.below=n,this.hasBarLine=null===(r=null==i?void 0:i.hasBarLine)||void 0===r||r,this.continuousFraction=null!==(o=null==i?void 0:i.continuousFraction)&&void 0!==o&&o,this.numerPrefix=null==i?void 0:i.numerPrefix,this.denomPrefix=null==i?void 0:i.denomPrefix,this.mathstyleName=null==i?void 0:i.mathstyleName,this.leftDelim=null==i?void 0:i.leftDelim,this.rightDelim=null==i?void 0:i.rightDelim}serialize(e){return this.command+`{${this.aboveToLatex(e)}}`+`{${this.belowToLatex(e)}}`}render(e){var t,n;const i=new G(e,this.style,this.mathstyleName),r=i.metrics,o=new G(i,this.style,this.continuousFraction?"":"numerator"),a=this.numerPrefix?new re([new re(this.numerPrefix),ot.createBox(o,this.above)],{isTight:o.isTight,newList:!0}):null!==(t=ot.createBox(o,this.above,{newList:!0}))&&void 0!==t?t:new re(null,{newList:!0}),s=new G(i,this.style,this.continuousFraction?"":"denominator"),l=this.denomPrefix?new re([new re(this.denomPrefix),ot.createBox(s,this.below,{newList:!0})]):null!==(n=ot.createBox(s,this.below,{newList:!0}))&&void 0!==n?n:new re(null,{newList:!0}),c=this.hasBarLine?r.defaultRuleThickness:0;let u,d,h=0;i.isDisplayStyle?(u=r.num1,h=c>0?3*c:7*c,d=r.denom1):(c>0?(u=r.num2,h=c):(u=r.num3,h=3*c),d=r.denom2);const p=a.depth,f=l.height;let m;if(c<=0){const e=u-p-(f-d);e<h&&(u+=(h-e)/2,d+=(h-e)/2),m=new he({individualShift:[{box:a,shift:-u,classes:["ML__center"]},{box:l,shift:d,classes:["ML__center"]}]}).wrap(i)}else{const e=.25+c/2,t=.25-c/2;u<h+p+e&&(u=h+p+e),d<h+f-t&&(d=h+f-t);const n=new re(null,{classes:"ML__frac-line",mode:this.mode,style:this.style});n.height=c/2,n.depth=c/2,m=new he({individualShift:[{box:l,shift:d,classes:["ML__center"]},{box:n,shift:-t},{box:a,shift:-u,classes:["ML__center"]}]}).wrap(i)}const g=i.isDisplayStyle?r.delim1:r.delim2,y=this.leftDelim?this.bind(e,xt("mopen",this.leftDelim,g,!0,e,{style:this.style,mode:this.mode})):wt(i,"mopen");let v=null;v=this.continuousFraction?new re(null,{type:"mclose"}):this.rightDelim?this.bind(e,xt("mclose",this.rightDelim,g,!0,e,{style:this.style,mode:this.mode})):wt(i,"mclose");const b=this.bind(e,new re([y,m,v],{isTight:i.isTight,type:"mord",classes:"mfrac"}));return b?(this.caret&&(b.caret=this.caret),this.attachSupsub(e,{base:b})):null}}class Kt extends ot{constructor(e,t){var n;super("rule",{command:e,style:t.style}),this.shift=null!==(n=t.shift)&&void 0!==n?n:{dimension:0},this.height=t.height,this.width=t.width}render(e){const t=new G(e,this.style,"textstyle"),n=U(this.shift),i=U(this.width),r=U(this.height),o=new re(null,{classes:"rule",type:"mord"});return o.setStyle("border-right-width",i,"em"),o.setStyle("border-top-width",r,"em"),o.setStyle("border-color",this.style.color),o.setStyle("vertical-align",n,"em"),t.isSelected&&o.setStyle("opacity","50%"),o.width=i,o.height=r+n,o.depth=-n,this.bind(e,o),this.caret&&(o.caret=this.caret),o.wrap(t)}serialize(e){var t;let n=null!==(t=this.command)&&void 0!==t?t:"";return this.shift&&(n+=`[${H(this.shift)}]`),n+=`{${H(this.width)}}{${H(this.height)}}`,n}}class Wt extends ot{constructor(e,t,n){var i,r;super(null!==(i=n.type)&&void 0!==i?i:"mop",{command:e,style:n.style,isFunction:null==n?void 0:n.isFunction}),"string"==typeof t?this.value=t:this.body=t,this.captureSelection=n.captureSelection,this.variant=null==n?void 0:n.variant,this.variantStyle=null==n?void 0:n.variantStyle,this.subsupPlacement=null==n?void 0:n.limits,this.isExtensibleSymbol=null!==(r=null==n?void 0:n.isExtensibleSymbol)&&void 0!==r&&r}render(e){var t;let n,i=0,r=0;if(this.isExtensibleSymbol){const t=e.isDisplayStyle&&"\\smallint"!==this.value;if(n=new re(this.value,{fontFamily:t?"Size2-Regular":"Size1-Regular",classes:"op-symbol "+(t?"large-op":"small-op"),type:"mop",maxFontSize:e.scalingFactor}),!n)return null;i=(n.height-n.depth)/2-.25*e.scalingFactor,r=n.italic,n.setStyle("color",this.style.color),n.setStyle("background-color",this.style.backgroundColor)}else if(this.body){if(n=ot.createBox(e,this.body,{newList:!0}),!n)return null;n.setStyle("color",this.style.color),n.setStyle("background-color",this.style.backgroundColor)}else n=new re(this.value,{type:"mop",mode:"math",maxFontSize:e.scalingFactor,style:{color:this.style.color,backgroundColor:this.style.backgroundColor,letterShapeStyle:e.letterShapeStyle,variant:this.variant,variantStyle:this.variantStyle}});this.isExtensibleSymbol&&n.setTop(i);let o=n;if(this.superscript||this.subscript){const a=null!==(t=this.subsupPlacement)&&void 0!==t?t:"auto";o="over-under"===a||"auto"===a&&e.isDisplayStyle?this.attachLimits(e,{base:n,baseShift:i,slant:r}):this.attachSupsub(e,{base:n})}return this.caret&&(o.caret=this.caret),new re(this.bind(e,o),{type:"mop",classes:"op-group"})}serialize(e){var t;const n=[];return"â"!==this.value&&(n.push("\\mathop"===this.command||"\\operatorname"===this.command?this.command+`{${this.bodyToLatex(e)}}`:null!==(t=this.command)&&void 0!==t?t:""),this.explicitSubsupPlacement&&("over-under"===this.subsupPlacement&&n.push("\\limits"),"adjacent"===this.subsupPlacement&&n.push("\\nolimits"),"auto"===this.subsupPlacement&&n.push("\\displaylimits"))),n.push(this.supsubToLatex(e)),ke(n)}}Ye("ensuremath","{:math}",{createAtom:(e,t,n)=>new lt(t[0],{mode:"math",latexOpen:"\\ensuremath{",latexClose:"}",style:n})}),Ye("color","{:string}",{applyStyle:(e,t,n)=>{var i,r;const o=t[0];return{verbatimColor:t[0],color:null!==(r=null===(i=n.colorMap)||void 0===i?void 0:i.call(n,o))&&void 0!==r?r:o}}}),Ye("textcolor","{:string}{content:auto*}",{applyStyle:(e,t,n)=>{var i,r;const o=t[0];return{verbatimColor:o,color:null!==(r=null===(i=n.colorMap)||void 0===i?void 0:i.call(n,o))&&void 0!==r?r:o}}}),Ye("boxed","{content:math}",{createAtom:(e,t,n)=>new It(e,t[0],{framecolor:"black",style:n})}),Ye("colorbox","{:string}{content:auto*}",{applyMode:"text",applyStyle:(e,t,n)=>{var i,r;const o=t[0];return{verbatimBackgroundColor:t[0],backgroundColor:null!==(r=null===(i=n.backgroundColorMap)||void 0===i?void 0:i.call(n,o))&&void 0!==r?r:o}}}),Ye("fcolorbox","{frame-color:string}{background-color:string}{content:auto}",{applyMode:"text",createAtom:(e,t,n,i)=>{var r,o,a,s;const l=t[0],c=t[1];return new It(e,t[2],{verbatimFramecolor:l,framecolor:null!==(o=null===(r=i.colorMap)||void 0===r?void 0:r.call(i,l))&&void 0!==o?o:l,verbatimBackgroundcolor:t[1],backgroundcolor:null!==(s=null===(a=i.backgroundColorMap)||void 0===a?void 0:a.call(i,c))&&void 0!==s?s:c,style:n,serialize:(e,t)=>{var n,i;return`${e.command}{${null!==(n=e.verbatimFramecolor)&&void 0!==n?n:e.framecolor}{${null!==(i=e.verbatimBackgroundcolor)&&void 0!==i?i:e.backgroundcolor}}{${e.bodyToLatex(t)}}`}})}}),Ye("bbox","[:bbox]{body:auto}",{createAtom:(e,t,n)=>{if(t[0]){const i=t[0];return new It(e,t[1],{padding:i.padding,border:i.border,backgroundcolor:i.backgroundcolor,style:n,serialize:(t,n)=>{var i;let r=e;if(Number.isFinite(t.padding)||void 0!==t.border||void 0!==t.backgroundcolor){const e=[];t.padding&&e.push(t.padding),t.border&&e.push("border: "+t.border),(t.verbatimBackgroundcolor||t.backgroundcolor)&&e.push(null!==(i=t.verbatimBackgroundcolor)&&void 0!==i?i:t.backgroundcolor),r+=`[${e.join(",")}]`}return r+`{${t.bodyToLatex(n)}}`}})}return new It(e,t[1],{style:n})}}),Ye(["displaystyle","textstyle","scriptstyle","scriptscriptstyle"],"{:rest}",{createAtom:(e,t,n)=>new lt(t[0],{latexOpen:`{${e} `,latexClose:"}",style:n,mathstyleName:e.slice(1)})}),Ye(["tiny","scriptsize","footnotesize","small","normalsize","large","Large","LARGE","huge","Huge"],"",{applyStyle:(e,t)=>({fontSize:{"\\tiny":1,"\\scriptsize":2,"\\footnotesize":3,"\\small":4,"\\normalsize":5,"\\large":6,"\\Large":7,"\\LARGE":8,"\\huge":9,"\\Huge":10}[e]})}),Ye("fontseries","{:string}",{ifMode:"text",applyStyle:(e,t)=>({fontSeries:t[0]})}),Ye("fontshape","{:string}",{ifMode:"text",applyStyle:(e,t)=>({fontShape:t[0]})}),Ye("fontfamily","{:string}",{ifMode:"text",applyStyle:(e,t)=>({fontFamily:t[0]})}),Ye("selectfont","",{ifMode:"text",applyStyle:(e,t)=>({})}),Ye("bf","",{applyStyle:(e,t)=>({fontSeries:"b",fontShape:"n",fontFamily:"cmr"})}),Ye(["boldsymbol","bm"],"{:math*}",{applyMode:"math",createAtom:(e,t,n)=>new lt(t[0],{latexOpen:e+"{",latexClose:"}",style:n,customClass:"ML__boldsymbol"})}),Ye("bold","{:math*}",{applyMode:"math",applyStyle:(e,t)=>({variantStyle:"bold"})}),Ye("bfseries","",{applyMode:"text",applyStyle:(e,t)=>({fontSeries:"b"})}),Ye("mdseries","",{applyMode:"text",applyStyle:(e,t)=>({fontSeries:"m"})}),Ye("upshape","",{applyMode:"text",applyStyle:(e,t)=>({fontShape:"n"})}),Ye("slshape","",{applyMode:"text",applyStyle:(e,t)=>({fontShape:"sl"})}),Ye("scshape","",{applyMode:"text",applyStyle:(e,t)=>({fontShape:"sc"})}),Ye("textbf","{:text*}",{applyMode:"text",applyStyle:(e,t)=>({fontSeries:"b"})}),Ye("textmd","{:text*}",{applyMode:"text",applyStyle:(e,t)=>({fontSeries:"m"})}),Ye("textup","{:text*}",{applyMode:"text",applyStyle:(e,t)=>({fontShape:"n"})}),Ye("textnormal","{:text*}",{applyMode:"text",applyStyle:(e,t)=>({fontShape:"n",fontSeries:"m"})}),Ye("textsl","{:text*}",{applyMode:"text",applyStyle:(e,t)=>({fontShape:"sl"})}),Ye("textit","{:text*}",{applyMode:"text",applyStyle:(e,t)=>({fontShape:"it"})}),Ye("textsc","{:text*}",{applyMode:"text",applyStyle:(e,t)=>({fontShape:"sc"})}),Ye("textrm","{:text*}",{applyMode:"text",applyStyle:(e,t)=>({fontFamily:"roman"})}),Ye("textsf","{:text*}",{applyMode:"text",applyStyle:(e,t)=>({fontFamily:"sans-serif"})}),Ye("texttt","{:text*}",{applyMode:"text",applyStyle:(e,t)=>({fontFamily:"monospace"})}),Ye("mathbf","{:math*}",{applyMode:"math",applyStyle:(e,t)=>({variant:"normal",variantStyle:"bold"})}),Ye("mathit","{:math*}",{applyMode:"math",applyStyle:(e,t)=>({variant:"normal",variantStyle:"italic"})}),Ye("mathbfit","{:math*}",{applyMode:"math",applyStyle:(e,t)=>({variant:"normal",variantStyle:"bolditalic"})}),Ye("mathrm","{:math*}",{applyMode:"math",applyStyle:(e,t)=>({variant:"normal",variantStyle:"up"})}),Ye("mathsf","{:math*}",{applyMode:"math",applyStyle:(e,t)=>({variant:"sans-serif",variantStyle:"up"})}),Ye("mathtt","{:math*}",{applyMode:"math",applyStyle:(e,t)=>({variant:"monospace",variantStyle:"up"})}),Ye("it","",{applyStyle:(e,t)=>({fontSeries:"m",fontShape:"it",fontFamily:"cmr",variantStyle:"italic"})}),Ye("rmfamily","",{applyStyle:(e,t)=>({fontFamily:"roman"})}),Ye("sffamily","",{applyStyle:(e,t)=>({fontFamily:"sans-serif"})}),Ye("ttfamily","",{applyStyle:(e,t)=>({fontFamily:"monospace"})}),Ye(["Bbb","mathbb"],"{:math*}",{applyStyle:(e,t)=>({variant:"double-struck",variantStyle:"up"})}),Ye(["frak","mathfrak"],"{:math*}",{applyStyle:(e,t)=>({variant:"fraktur",variantStyle:"up"})}),Ye("mathcal","{:math*}",{applyStyle:(e,t)=>({variant:"calligraphic",variantStyle:"up"})}),Ye("mathscr","{:math*}",{applyStyle:(e,t)=>({variant:"script",variantStyle:"up"})}),Ye("mbox","{:text}",{ifMode:"math",createAtom:(e,t,n)=>new lt(t[0],{changeMode:!0,style:n,mode:"text",serialize:(e,t)=>`\\mbox{${e.bodyToLatex({...t,skipModeCommand:!0})}}`})}),Ye("text","{:text}",{ifMode:"math",applyMode:"text"}),Ye("class","{name:string}{content:auto*}",{createAtom:(e,t,n)=>new lt(t[1],{customClass:t[0],style:n})}),Ye("cssId","{id:string}{content:auto}",{createAtom:(e,t,n)=>new lt(t[1],{cssId:t[0],style:n})}),Ye("htmlData","{data:string}{content:auto}",{createAtom:(e,t,n)=>new lt(t[1],{htmlData:t[0],style:n})}),Ye("em","{:auto*}",{createAtom:(e,t,n)=>new lt(t[0],{latexOpen:"\\em",latexClose:"",customClass:"ML__emph",style:n})}),Ye("emph","{:auto}",{createAtom:(e,t,n)=>new lt(t[0],{latexOpen:"\\emph{",latexClose:"}",customClass:"ML__emph",style:n})});const Vt={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}};Ye(["bigl","Bigl","biggl","Biggl","bigr","Bigr","biggr","Biggr","bigm","Bigm","biggm","Biggm","big","Big","bigg","Bigg"],"{:delim}",{createAtom:(e,t,n)=>new Rt(e,t[0],{size:Vt[e].size,delimClass:Vt[e].mclass,style:n})}),Ye(["hspace","hspace*"],"{width:glue}",{createAtom:(e,t,n)=>{var i;return new ct(e,n,null!==(i=t[0])&&void 0!==i?i:{glue:{dimension:0}})}}),Ye("mathop","{:auto}",{createAtom:(e,t,n)=>new Wt(e,t[0],{type:"mop",captureSelection:!0,limits:"over-under",isFunction:!0,style:n})}),Ye(["mathbin","mathrel","mathopen","mathclose","mathpunct","mathord","mathinner"],"{:auto}",{createAtom:(e,t,n)=>new Wt(e,t[0],{type:{"\\mathbin":"mbin","\\mathrel":"mrel","\\mathopen":"mopen","\\mathclose":"mclose","\\mathpunct":"mpunct","\\mathord":"mord","\\mathinner":"minner"}[e],captureSelection:!0,style:n})}),Ye(["operatorname","operatorname*"],"{operator:math}",{createAtom:(e,t,n)=>{const i=new Wt(e,t[0],{isFunction:!0,limits:"\\operatorname"===e?"adjacent":"over-under",style:n});return i.captureSelection=!0,i.body&&i.body.forEach(e=>{var t;"first"!==e.type&&(e.type="mord",e.value=null!==(t={"â":"*","â":"-"}[e.value])&&void 0!==t?t:e.value,e.isFunction=!1,e.style.variant||e.style.variantStyle||(e.style.variant="main",e.style.variantStyle="up"))}),i}});class Ut extends ot{constructor(e,t){let n=Number.parseInt(e);Number.isFinite(n)||(n=10067),super("mord",{value:String.fromCodePoint(n),style:t}),this.codepoint=n}serialize(e){return'\\unicode"'+("000000"+this.codepoint.toString(16)).toUpperCase().slice(-6)}}function Ht(e){if(1===e.length){const t=e[0];if("mbin"===t.type)return"mbin";if("mrel"===t.type)return"mrel"}return"mord"}Ye("unicode","{charcode:number}",{createAtom:(e,t,n)=>new Ut(t[0],n)}),Ye("rule","[raise:dimen]{width:dimen}{thickness:dimen}",{createAtom:(e,t,n)=>new Kt(e,{shift:t[0],width:t[1],height:t[2],style:n})}),Ye("overline","{:auto}",{createAtom:(e,t,n)=>new Ft(e,t[0],{position:"overline",style:n})}),Ye("underline","{:auto}",{createAtom:(e,t,n)=>new Ft(e,t[0],{position:"underline",style:n})}),Ye("overset","{above:auto}{base:auto}",{createAtom:(e,t,n)=>new qt(e,{above:t[0],body:t[1],skipBoundary:!1,style:n,boxType:Ht(t[1]),serialize:(e,t)=>`${e.command}{${e.aboveToLatex(t)}}{${e.bodyToLatex(t)}}`})}),Ye("underset","{below:auto}{base:auto}",{createAtom:(e,t,n)=>new qt(e,{below:t[0],body:t[1],skipBoundary:!1,style:n,boxType:Ht(t[1]),serialize:(t,n)=>`${e}{${t.belowToLatex(n)}}{${t.bodyToLatex(n)}}`})}),Ye("overunderset","{above:auto}{below:auto}{base:auto}",{createAtom:(e,t,n)=>new qt(e,{above:t[0],below:t[1],body:t[2],skipBoundary:!1,style:n,boxType:Ht(t[2]),serialize:(e,t)=>`${e.command}{${e.aboveToLatex(t)}}{${e.bodyToLatex(t)}}`})}),Ye(["stackrel","stackbin"],"[below:auto]{above:auto}{base:auto}",{createAtom:(e,t,n)=>new qt(e,{body:t[2],above:t[1],below:t[0],skipBoundary:!1,style:n,boxType:"\\stackrel"===e?"mrel":"mbin",serialize:(e,t)=>`${e.command}{${e.aboveToLatex(t)}}{${e.bodyToLatex(t)}}`})}),Ye(["overwithdelims","atopwithdelims"],"{numer:auto}{denom:auto}{left-delim:delim}{right-delim:delim}",{infix:!0,createAtom:(e,t,n)=>new Bt(e,t[0],t[1],{leftDelim:t[2],rightDelim:t[3],hasBarLine:!1,style:n,serialize:(e,t)=>`${e.aboveToLatex(t)} ${e.command}${e.leftDelim}${e.rightDelim}${e.belowToLatex(t)}`})}),Ye("smash","[:string]{:auto}",{createAtom:(e,t,n)=>t[0]?new jt(e,t[1],{smashHeight:t[0].includes("t"),smashDepth:t[0].includes("b"),style:n}):new jt(e,t[1],{smashHeight:!0,smashDepth:!0,style:n})}),Ye(["vphantom"],"{:auto*}",{createAtom:(e,t,n)=>new jt(e,t[1],{isInvisible:!0,smashWidth:!0,style:n})}),Ye(["hphantom"],"{:auto*}",{createAtom:(e,t,n)=>new jt(e,t[1],{isInvisible:!0,smashHeight:!0,smashDepth:!0,style:n})}),Ye(["phantom"],"{:auto*}",{createAtom:(e,t,n)=>new jt(e,t[1],{isInvisible:!0,style:n})}),Ye("not","{:math}",{createAtom:(e,t,n)=>{if(t.length<1||null===t[0])return new ot("mrel",{command:e,style:n,value:"î "});const i=t[0];return new lt([new $t(e,"î ",{align:"right",style:n,boxType:"mrel"}),...i],{boxType:"mrel",captureSelection:!0,serialize:(e,t)=>{const n=ot.serialize(i,t);return 1!==n.length||/[a-zA-Z]/.test(n)?`\\not{${n}}`:"\\not"+n}})}}),Ye(["ne","neq"],"",{createAtom:(e,t,n)=>new lt([new $t(e,"î ",{align:"right",style:n,boxType:"mrel"}),new ot("mrel",{style:n,value:"="})],{boxType:"mrel",captureSelection:!0,serialize:()=>e})}),Ye("rlap","{:auto}",{createAtom:(e,t,n)=>new $t(e,t[0],{align:"right",style:n})}),Ye("llap","{:auto}",{createAtom:(e,t,n)=>new $t(e,t[0],{style:n})}),Ye("mathllap","{:auto}",{createAtom:(e,t,n)=>new $t(e,t[0],{style:n})}),Ye("mathrlap","{:auto}",{createAtom:(e,t,n)=>new $t(e,t[0],{align:"right",style:n})});const Gt={acute:714,grave:715,dot:729,ddot:168,mathring:730,tilde:126,bar:713,breve:728,check:711,hat:94,vec:8407};Ye(Object.keys(Gt),"{body:auto}",{createAtom:(e,t,n)=>new Pt(e,t[0],{accentChar:Gt[e.slice(1)],style:n})}),Ye(["widehat","widecheck","widetilde"],"{body:auto}",{createAtom:(e,t,n)=>{const i=Ge(t[0]);return new Pt(e,t[0],{style:n,svgAccent:e.slice(1)+(i.length>5?"4":["1","1","2","2","3","3"][i.length])})}}),Ye(["overarc","overparen","wideparen"],"{body:auto}",{createAtom:(e,t,n)=>new Pt(e,t[0],{style:n,svgAccent:"overarc"})}),Ye(["underarc","underparen"],"{body:auto}",{createAtom:(e,t,n)=>new qt(e,{body:t[0],style:n,svgBelow:"underarc"})}),Ye("utilde","{body:auto}",{createAtom:(e,t,n)=>{const i=Ge(t[0]),r="widetilde"+(i.length>5?"4":["1","1","2","2","3","3"][i.length]);return new qt(e,{body:t[0],svgBelow:r,style:n,boxType:Ht(t[0])})}}),Ye("^","{:string}",{createAtom:(e,t,n)=>{var i;return new ot("mord",{command:e,isFunction:!1,limits:"adjacent",style:n,value:t[0]&&null!==(i={a:"Ã¢",e:"Ãª",i:"Ã®",o:"Ã´",u:"Ã»",A:"Ã",E:"Ã",I:"Ã",O:"Ã",U:"Ã"}[t[0]])&&void 0!==i?i:"^"})}}),Ye("`","{:string}",{createAtom:(e,t,n)=>{var i;return new ot("mord",{command:e,isFunction:!1,limits:"adjacent",style:n,value:t[0]&&null!==(i={a:"Ã ",e:"Ã¨",i:"Ã¬",o:"Ã²",u:"Ã¹",A:"Ã",E:"Ã",I:"Ã",O:"Ã",U:"Ã"}[t[0]])&&void 0!==i?i:"`"})}}),Ye("'","{:string}",{createAtom:(e,t,n)=>{var i;return new ot("mord",{command:e,isFunction:!1,limits:"adjacent",style:n,value:t[0]&&null!==(i={a:"Ã¡",e:"Ã©",i:"Ã­",o:"Ã³",u:"Ãº",A:"Ã",E:"Ã",I:"Ã",O:"Ã",U:"Ã"}[t[0]])&&void 0!==i?i:"^"})}}),Ye("~","{:string}",{createAtom:(e,t,n)=>{var i;return new ot("mord",{command:e,isFunction:!1,limits:"adjacent",style:n,value:t[0]&&null!==(i={n:"Ã±",N:"Ã",a:"Ã£",o:"Ãµ",A:"Ã",O:"Ã"}[t[0]])&&void 0!==i?i:"Â´"})}}),Ye("c","{:string}",{createAtom:(e,t,n)=>{var i;return new ot("mord",{command:e,isFunction:!1,limits:"adjacent",style:n,value:t[0]&&null!==(i={c:"Ã§",C:"Ã"}[t[0]])&&void 0!==i?i:""})}});class Xt extends ot{constructor(e,t,n,i){super("enclose",{command:e,style:i.style}),this.body=t,this.backgroundcolor=i.backgroundcolor,n.updiagonalarrow&&(n.updiagonalstrike=!1),n.box&&(n.left=!1,n.right=!1,n.bottom=!1,n.top=!1),this.notation=n,this.shadow=i.shadow,this.strokeWidth=i.strokeWidth,this.strokeStyle=i.strokeStyle,this.svgStrokeStyle=i.svgStrokeStyle,this.strokeColor=i.strokeColor,this.borderStyle=i.borderStyle,this.padding=i.padding,this.captureSelection=!0}serialize(e){var t;let n=null!==(t=this.command)&&void 0!==t?t:"";if("\\enclose"===this.command){n+="{"+Object.keys(this.notation).join(" ")+"}";let e="",t="";this.backgroundcolor&&"transparent"!==this.backgroundcolor&&(e+=t+'mathbackground="'+this.backgroundcolor+'"',t=","),this.shadow&&"auto"!==this.shadow&&(e+=t+'shadow="'+this.shadow+'"',t=","),this.strokeWidth||"solid"!==this.strokeStyle?(e+=t+this.borderStyle,t=","):this.strokeColor&&"currentColor"!==this.strokeColor&&(e+=t+'mathcolor="'+this.strokeColor+'"',t=","),e&&(n+=`[${e}]`)}return n+=`{${this.bodyToLatex(e)}}`,n}render(e){var t;const n=new G(e,this.style),i=ot.createBox(n,this.body);if(!i)return null;const r=null!==(t=U(this.padding&&"auto"!==this.padding?Dt(this.padding,e.registers):n.getRegisterAsDimension("fboxsep")))&&void 0!==t?t:0,o=new re(null,{classes:"ML__notation"});o.setStyle("position","absolute"),o.setStyle("height",i.height+i.depth+2*r,"em"),o.height=i.height+r,o.depth=i.depth+r,0!==r?o.setStyle("width",`calc(100% + ${2*r}em)`):o.setStyle("width","100%"),o.setStyle("top",-i.height+2*r,"em"),o.setStyle("left",-r,"em"),o.setStyle("z-index","-1"),o.setStyle("box-sizing","border-box"),this.backgroundcolor&&o.setStyle("background-color",this.backgroundcolor),this.notation.box&&o.setStyle("border",this.borderStyle),this.notation.actuarial&&(o.setStyle("border-top",this.borderStyle),o.setStyle("border-right",this.borderStyle)),this.notation.madruwb&&(o.setStyle("border-bottom",this.borderStyle),o.setStyle("border-right",this.borderStyle)),this.notation.roundedbox&&(o.setStyle("border-radius",(i.height+i.depth)/2,"em"),o.setStyle("border",this.borderStyle)),this.notation.circle&&(o.setStyle("border-radius","50%"),o.setStyle("border",this.borderStyle)),this.notation.top&&o.setStyle("border-top",this.borderStyle),this.notation.left&&o.setStyle("border-left",this.borderStyle),this.notation.right&&o.setStyle("border-right",this.borderStyle),this.notation.bottom&&o.setStyle("border-bottom",this.borderStyle);let a="";if(this.notation.horizontalstrike&&(a+='<line x1="3%"  y1="50%" x2="97%" y2="50%"',a+=` stroke-width="${this.strokeWidth}" stroke="${this.strokeColor}"`,a+=' stroke-linecap="round"',this.svgStrokeStyle&&(a+=` stroke-dasharray="${this.svgStrokeStyle}"`),a+="/>"),this.notation.verticalstrike&&(a+='<line x1="50%"  y1="3%" x2="50%" y2="97%"',a+=` stroke-width="${this.strokeWidth}" stroke="${this.strokeColor}"`,a+=' stroke-linecap="round"',this.svgStrokeStyle&&(a+=` stroke-dasharray="${this.svgStrokeStyle}"`),a+="/>"),this.notation.updiagonalstrike&&(a+='<line x1="3%"  y1="97%" x2="97%" y2="3%"',a+=` stroke-width="${this.strokeWidth}" stroke="${this.strokeColor}"`,a+=' stroke-linecap="round"',this.svgStrokeStyle&&(a+=` stroke-dasharray="${this.svgStrokeStyle}"`),a+="/>"),this.notation.downdiagonalstrike&&(a+='<line x1="3%"  y1="3%" x2="97%" y2="97%"',a+=` stroke-width="${this.strokeWidth}" stroke="${this.strokeColor}"`,a+=' stroke-linecap="round"',this.svgStrokeStyle&&(a+=` stroke-dasharray="${this.svgStrokeStyle}"`),a+="/>"),a){let e;"none"!==this.shadow&&(e="auto"===this.shadow?"filter: drop-shadow(0 0 .5px rgba(255, 255, 255, .7)) drop-shadow(1px 1px 2px #333)":"filter: drop-shadow("+this.shadow+")"),function(e,t,n){e.svgOverlay=t,e.svgStyle=n}(o,a,e)}const s=new re([o,i]);return s.setStyle("position","relative"),s.setStyle("display","inline"),s.height=i.height+r,s.depth=i.depth+r,s.left=r,s.right=r,this.caret&&(s.caret=this.caret),s.wrap(n)}}Ye("enclose","{notation:string}[style:string]{body:auto}",{createAtom:(e,t,n)=>{var i;const r={strokeColor:"currentColor",strokeWidth:"",strokeStyle:"solid",backgroundcolor:"transparent",padding:"auto",shadow:"auto",svgStrokeStyle:void 0,borderStyle:void 0,style:n};if(t[1]){const e=t[1].split(/,(?![^(]*\)(?:(?:[^(]*\)){2})*[^"]*$)/);for(const t of e){const e=t.match(/\s*(\S+)\s+(\S+)\s+(.*)/);if(e)r.strokeWidth=e[1],r.strokeStyle=e[2],r.strokeColor=e[3];else{const e=t.match(/\s*([a-z]*)\s*=\s*"(.*)"/);e&&("mathbackground"===e[1]?r.backgroundcolor=e[2]:"mathcolor"===e[1]?r.strokeColor=e[2]:"padding"===e[1]?r.padding=e[2]:"shadow"===e[1]&&(r.shadow=e[2]))}}"dashed"===r.strokeStyle?r.svgStrokeStyle="5,5":"dotted"===r.strokeStyle&&(r.svgStrokeStyle="1,5")}r.borderStyle=`${r.strokeWidth}px ${r.strokeStyle} ${r.strokeColor}`;const o={};return(null!==(i=t[0])&&void 0!==i?i:"").split(/[, ]/).filter(e=>e.length>0).forEach(e=>{o[e.toLowerCase()]=!0}),new Xt(e,t[2],o,r)}}),Ye("cancel","{body:auto}",{createAtom:(e,t,n)=>new Xt(e,t[0],{updiagonalstrike:!0},{strokeColor:"currentColor",strokeWidth:"",strokeStyle:"solid",borderStyle:"1px solid currentColor",backgroundcolor:"transparent",padding:"auto",shadow:"auto",style:n})}),Ye("bcancel","{body:auto}",{createAtom:(e,t,n)=>new Xt(e,t[0],{downdiagonalstrike:!0},{strokeColor:"currentColor",strokeWidth:"",strokeStyle:"solid",borderStyle:"1px solid currentColor",backgroundcolor:"transparent",padding:"auto",shadow:"auto",style:n})}),Ye("xcancel","{body:auto}",{createAtom:(e,t,n)=>new Xt(e,t[0],{updiagonalstrike:!0,downdiagonalstrike:!0},{strokeColor:"currentColor",strokeWidth:"",strokeStyle:"solid",borderStyle:"1px solid currentColor",backgroundcolor:"transparent",padding:"auto",shadow:"auto",style:n})});class Zt extends ot{constructor(e,t,n,i={}){var r;super("array"),this.environmentName=e,this.rowGaps=n,i.mathstyleName&&(this.mathstyleName=i.mathstyleName),i.columns&&(0===i.columns.length?this.colFormat=[{align:"l"}]:this.colFormat=i.columns),this.colFormat||(this.colFormat=[{align:"l"},{align:"l"},{align:"l"},{align:"l"},{align:"l"},{align:"l"},{align:"l"},{align:"l"},{align:"l"},{align:"l"}]),this.array=function(e,t,n){let i=0;for(const c of n)"align"in c&&(i+=1);let r=0;const o=[];for(const c of t){let t=0;for(r=Math.max(r,Math.min(c.length,i));t<c.length;){const n=[],r=Math.min(c.length,t+i);for(;t<r;)c[t].length>0&&"first"!==c[t][0].type?n.push([new ot("first",{mode:e.mode}),...c[t]]):n.push(c[t]),t+=1;o.push(n)}}1===o[o.length-1].length&&0===o[o.length-1][0].length&&o.pop();const a=[];for(const c of o){if(c.length!==r)for(let t=c.length;t<r;t++)c.push([new ot("first",{mode:e.mode}),new Ct]);a.push(c)}let s=0,l=0;for(const c of a){l=0;for(const t of c){for(const n of t)n.parent=e,n.treeBranch=[s,l];l+=1}s+=1}return e.isDirty=!0,a}(this,t,this.colFormat),i.leftDelim&&(this.leftDelim=i.leftDelim),i.rightDelim&&(this.rightDelim=i.rightDelim),void 0!==i.jot&&(this.jot=i.jot),i.arraycolsep&&(this.arraycolsep=i.arraycolsep),this.colSeparationType=i.colSeparationType,this.arraystretch=null!==(r=i.arraystretch)&&void 0!==r?r:1}branch(e){var t;if(rt(e))return null!==(t=this.array[e[0]][e[1]])&&void 0!==t?t:void 0}get branches(){const e=super.branches;return this.array.forEach((t,n)=>{this.array[n].forEach((t,i)=>{this.array[n][i]&&e.push([n,i])})}),e}createBranch(e){return rt(e),[]}get rowCount(){return this.array.length}get colCount(){return this.array[0].length}removeBranch(e){if(it(e))return super.removeBranch(e);const t=this.branch(e);return this.array[e[0]][e[1]]=void 0,t.forEach(e=>{e.parent=void 0,e.treeBranch=void 0}),t.shift(),this.isDirty=!0,t}get hasChildren(){return this.children.length>0}get children(){const e=[];for(const t of this.array)for(const n of t)if(n)for(const t of n)e.push(...t.children),e.push(t);return[...e,...super.children]}render(e){var t,n,i,r,o;const a=new G(e,this.style,this.mathstyleName),s=a.getRegisterAsEm("arrayrulewidth"),l=a.getRegisterAsEm("arraycolsep"),c=a.getRegisterAsEm("doublerulesep"),u=null!==(t=this.arraystretch)&&void 0!==t?t:1;let d="number"==typeof this.arraycolsep?this.arraycolsep:l;"small"===this.colSeparationType&&(d=new G(e,void 0,"scriptstyle").scalingFactor/e.scalingFactor*.2778);const h=1.2*u,p=.7*h,f=.3*h;let m=0;const g=[];let y=0;const v=this.array.length;for(let T=0;T<v;++T){const e=this.array[T];y=Math.max(y,e.length);const t=new G(a,this.style,this.mathstyleName);let r=p/t.scalingFactor,o=f/t.scalingFactor;const s={cells:[],height:0,depth:0,pos:0};for(const i of e){const e=null!==(n=ot.createBox(t,i,{newList:!0}))&&void 0!==n?n:new re(null,{newList:!0});o=Math.max(o,e.depth),r=Math.max(r,e.height),s.cells.push(e)}let l=null!==(i=U(this.rowGaps[T]))&&void 0!==i?i:0;l>0&&(l+=f,o=Math.max(o,l),l=0),void 0!==this.jot&&(o+=this.jot),s.height=r,s.depth=o,m+=r,s.pos=m,m+=o+l,g.push(s)}const b=m/2+.25,_=[];for(let T=0;T<y;T++){const e=[];for(const t of g){const n=t.cells[T];n.depth=t.depth,n.height=t.height,e.push({box:n,shift:t.pos-b})}e.length>0&&_.push(new he({individualShift:e}))}const x=[];let k=!1,w=!1,S=0,M=!this.leftDelim;const{colFormat:C}=this;for(const T of C){if("align"in T&&S>=_.length)break;if("align"in T)k?x.push(Yt(2*d)):(w||M)&&x.push(Yt(d)),x.push(new re(_[S],{classes:"col-align-"+T.align})),S++,k=!0,w=!1,M=!1;else if("gap"in T){if("number"==typeof T.gap)x.push(Yt(T.gap));else{const t=Qt(e,g,b,T.gap);t&&x.push(t)}k=!1,w=!1,M=!1}else if("separator"in T){const e=new re(null,{classes:"vertical-separator"});e.setStyle("height",m,"em"),e.setStyle("border-right",`${s}em ${T.separator} currentColor`),e.setStyle("vertical-align",-(m-b),"em");let t=0;w?t=c-s:k&&(t=d-s),e.left=t,x.push(e),k=!1,w=!0,M=!1}}k&&!this.rightDelim&&x.push(Yt(d));const L=new re(x,{classes:"mtable"});if(!(this.leftDelim&&"."!==this.leftDelim||this.rightDelim&&"."!==this.rightDelim))return L;const O=L.height,A=L.depth,E=this.bind(e,new re([this.bind(e,kt("mopen",null!==(r=this.leftDelim)&&void 0!==r?r:".",O,A,a)),L,this.bind(e,kt("mclose",null!==(o=this.rightDelim)&&void 0!==o?o:".",O,A,a))],{type:"mord"}));return E?(this.caret&&(E.caret=this.caret),this.attachSupsub(e,{base:E})):null}serialize(e){let t="\\begin{"+this.environmentName+"}";if("array"===this.environmentName){if(t+="{",void 0!==this.colFormat)for(const e of this.colFormat)"align"in e?t+=e.align:"separator"in e&&"solid"===e.separator?t+="|":"separator"in e&&"dashed"===e.separator&&(t+=":");t+="}"}for(let n=0;n<this.array.length;n++){for(let i=0;i<this.array[n].length;i++)i>0&&(t+=" & "),t=ke([t,ot.serialize(this.array[n][i],e)]);n<this.array.length-1&&(t+=" \\\\ ")}return t+="\\end{"+this.environmentName+"}",t}getCell(e,t){return this.array[e][t]}setCell(e,t,n){this.isDirty=!0}addRowBefore(e){this.isDirty=!0}addRowAfter(e){this.isDirty=!0}addColumnBefore(e){this.isDirty=!0}addColumnAfter(e){this.isDirty=!0}get cells(){const e=[];for(const t of this.array)for(const n of t)n&&e.push(n);return e}}function Yt(e){const t=new re(null,{classes:"arraycolsep"});return t.width=e,t}function Qt(e,t,n,i){if(!i)return null;const r=[];for(const o of t){const t=ot.createBox(e,i,{newList:!0});t&&(t.depth=o.depth,t.height=o.height,r.push({box:t,shift:o.pos-n}))}return new he({individualShift:r}).wrap(e)}Xe("math","",(e,t,n)=>new Zt(e,t,n,{mathstyleName:"textstyle"})),Xe("displaymath","",(e,t,n)=>new Zt(e,t,n,{mathstyleName:"textstyle"})),Ze("array","{columns:colspec}",(e,t,n,i)=>new Zt(e,t,n,{columns:i[0],mathstyleName:"textstyle"})),Ze(["equation","equation*","subequations"],"",(e,t,n)=>new Zt(e,t,n,{columns:[{align:"c"}]})),Ze("multline","",(e,t,n)=>new Zt(e,t,n,{columns:[{align:"m"}]})),Ze(["align","align*","aligned","eqnarray"],"",(e,t,n)=>{let i=0;for(const a of t)i=Math.max(i,a.length);const r=[{gap:0},{align:"r"},{gap:0},{align:"l"}];let o=2;for(;o<i;)r.push({gap:1}),r.push({align:"r"}),r.push({gap:0}),r.push({align:"l"}),o+=2;return r.push({gap:0}),new Zt(e,t,n,{arraycolsep:0,columns:r,colSeparationType:"align",jot:.3})}),Ze("split","",(e,t,n)=>new Zt(e,t,n,{columns:[{align:"r"},{align:"l"}]})),Ze(["gather","gathered"],"",(e,t,n)=>new Zt(e,t,n,{columns:[{gap:.25},{align:"c"},{gap:0}],colSeparationType:"gather"})),Ze(["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],"[columns:colspec]",(e,t,n,i)=>{var r;let o=".",a=".";switch(e){case"pmatrix":case"pmatrix*":o="(",a=")";break;case"bmatrix":case"bmatrix*":o="[",a="]";break;case"Bmatrix":case"Bmatrix*":o="\\lbrace",a="\\rbrace";break;case"vmatrix":case"vmatrix*":o="\\vert",a="\\vert";break;case"Vmatrix":case"Vmatrix*":o="\\Vert",a="\\Vert";break;case"matrix":case"matrix*":o=".",a="."}return new Zt(e,t,n,{mathstyleName:"textstyle",leftDelim:o,rightDelim:a,columns:null!==(r=i[0])&&void 0!==r?r:[{align:"c"},{align:"c"},{align:"c"},{align:"c"},{align:"c"},{align:"c"},{align:"c"},{align:"c"},{align:"c"},{align:"c"}]})}),Ze(["smallmatrix","smallmatrix*"],"[columns:colspec]",(e,t,n,i)=>{var r;return new Zt(e,t,n,{mathstyleName:"scriptstyle",columns:null!==(r=i[0])&&void 0!==r?r:[{align:"c"},{align:"c"},{align:"c"},{align:"c"},{align:"c"},{align:"c"},{align:"c"},{align:"c"},{align:"c"},{align:"c"}],colSeparationType:"small",arraystretch:.5})}),Ze(["cases","dcases"],"",(e,t,n)=>new Zt(e,t,n,{mathstyleName:"dcases"===e?"displaystyle":"textstyle",arraystretch:1.2,leftDelim:"\\lbrace",rightDelim:".",columns:[{align:"l"},{gap:1},{align:"l"}]})),Ze("rcases","",(e,t,n)=>new Zt(e,t,n,{arraystretch:1.2,leftDelim:".",rightDelim:"\\rbrace",columns:[{align:"l"},{gap:1},{align:"l"}]})),Xe("center","",(e,t,n)=>new Zt(e,t,n,{columns:[{align:"c"}]})),Ye(["overrightarrow","overleftarrow","Overrightarrow","overleftharpoon","overrightharpoon","overleftrightarrow","overlinesegment","overgroup"],"{:auto}",{createAtom:(e,t,n)=>new qt(e,{body:t[0],skipBoundary:!1,supsubPlacement:"over-under",padded:!0,boxType:"mrel",style:n,svgAbove:e.slice(1)})}),Ye("overbrace","{:auto}",{createAtom:(e,t,n)=>new qt(e,{body:t[0],skipBoundary:!1,supsubPlacement:"over-under",padded:!0,boxType:"mord",style:n,svgAbove:e.slice(1)})}),Ye(["underrightarrow","underleftarrow","underleftrightarrow","underlinesegment","undergroup"],"{:auto}",{createAtom:(e,t,n)=>new qt(e,{body:t[0],skipBoundary:!1,supsubPlacement:"over-under",padded:!0,boxType:"mrel",style:n,svgBelow:e.slice(1)})}),Ye(["underbrace"],"{:auto}",{createAtom:(e,t,n)=>new qt(e,{body:t[0],skipBoundary:!1,supsubPlacement:"over-under",padded:!0,boxType:"mord",style:n,svgBelow:e.slice(1)})}),Ye(["xrightarrow","xleftarrow","xRightarrow","xLeftarrow","xleftharpoonup","xleftharpoondown","xrightharpoonup","xrightharpoondown","xlongequal","xtwoheadleftarrow","xtwoheadrightarrow","xleftrightarrow","xLeftrightarrow","xrightleftharpoons","xleftrightharpoons","xhookleftarrow","xhookrightarrow","xmapsto","xtofrom","xrightleftarrows","xrightequilibrium","xleftequilibrium"],"[:auto]{:auto}",{createAtom:(e,t,n)=>{var i,r;return new qt(e,{style:n,svgBody:e.slice(1),above:0===(null===(i=t[1])||void 0===i?void 0:i.length)?void 0:t[1],below:null!==(r=t[0])&&void 0!==r?r:null,skipBoundary:!1,supsubPlacement:"over-under",padded:!0,boxType:"mrel",serialize:(t,n)=>e+(t.hasEmptyBranch("below")?"":`[${t.belowToLatex(n)}]`)+`{${t.aboveToLatex(n)}}`})}});class Jt extends ot{constructor(e,t){var n;super("surd",{command:e,mode:null!==(n=t.mode)&&void 0!==n?n:"math",style:t.style,displayContainsHighlight:!0}),this.body=t.body,this.above=t.index}serialize(e){let t="";return this.above&&(t+=`[${this.aboveToLatex(e)}]`),t+=`{${this.bodyToLatex(e)}}`,this.command+t}render(e){var t;const n=new G(e,this.style,"cramp"),i=null!==(t=ot.createBox(n,this.body,{style:this.style,newList:!0}))&&void 0!==t?t:new re(null),r=n.scalingFactor,o=n.metrics.defaultRuleThickness/r,a=e.isDisplayStyle?.431:o,s=new re(null,{classes:"ML__sqrt-line",style:this.style,height:o});let l=r*(o+a/4);const c=Math.max(2*r*a,i.height+i.depth)+l+o,u=new G(e,this.style),d=this.bind(u,new re(xt("","\\surd",c,!1,u),{classes:"ML__sqrt-sign",style:this.style}));if(!d)return null;const h=d.height+d.depth-o;h>i.height+i.depth+l&&(l=(l+h-(i.height+i.depth))/2),d.setTop(d.height-i.height-(l+o));const p=new he({firstBaseline:[{box:new re(i)},l-2*o,{box:s},o]}).wrap(e),f=ot.createBox(new G(e,this.style,"scriptscriptstyle"),this.above,{style:this.style,newList:!0});if(!f){const t=new re([d,p],{classes:this.containsCaret?"ML__contains-caret":"",type:"mord"});return this.caret&&(t.caret=this.caret),this.bind(e,t.wrap(e))}const m=new he({shift:-.6*(Math.max(d.height,p.height)-Math.max(d.depth,p.depth)),children:[{box:f}]}),g=new re([new re(m,{classes:"ML__sqrt-index"}),d,p],{type:"mord",classes:this.containsCaret?"ML__contains-caret":""});return g.height=d.height,g.depth=d.depth,this.caret&&(g.caret=this.caret),this.bind(e,g.wrap(e))}}Ye(["arccos","arcsin","arctan","arctg","arcctg","arg","ch","cos","cosh","cot","coth","ctg","cth","cotg","csc","cosec","deg","dim","exp","hom","inf","ker","lg","lb","lg","ln","log","Pr","sec","sh","sin","sinh","sup","tan","tanh","tg","th"],"",{isFunction:!0,createAtom:(e,t,n)=>new Wt(e,e.slice(1),{limits:"adjacent",isFunction:!0,variant:"main",variantStyle:"up",style:n})}),Ye(["liminf","limsup"],"",{createAtom:(e,t,n)=>new Wt(e,{"\\liminf":"lim inf","\\limsup":"lim sup"}[e],{limits:"over-under",variant:"main",style:n})}),Ye(["lim","mod"],"",{createAtom:(e,t,n)=>new Wt(e,e.slice(1),{limits:"over-under",variant:"main",style:n})}),Ye(["det","max","min"],"",{isFunction:!0,createAtom:(e,t,n)=>new Wt(e,e.slice(1),{limits:"over-under",isFunction:!0,variant:"main",style:n})}),Ye("sqrt","[index:auto]{radicand:auto}",{createAtom:(e,t,n)=>new Jt(e,{body:t[1],index:t[0],style:n})}),Ye(["frac","dfrac","tfrac","cfrac","binom","dbinom","tbinom"],"{numerator}{denominator}",{createAtom:(e,t,n)=>{const i={style:n};switch(e){case"\\dfrac":case"\\frac":case"\\tfrac":i.hasBarLine=!0;break;case"\\atopfrac":i.hasBarLine=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":i.hasBarLine=!1,i.leftDelim="(",i.rightDelim=")"}switch(e){case"\\dfrac":case"\\dbinom":i.mathstyleName="displaystyle";break;case"\\tfrac":case"\\tbinom":i.mathstyleName="textstyle";break;case"\\cfrac":i.hasBarLine=!0,i.continuousFraction=!0}return new Bt(e,t[0],t[1],i)}}),Ye(["over","atop","choose"],"",{infix:!0,createAtom:(e,t,n)=>{let i,r;return"\\choose"===e&&(i="(",r=")"),new Bt(e,t[0],t[1],{hasBarLine:"\\over"===e,leftDelim:i,rightDelim:r,style:n,serialize:(e,t)=>`{${e.aboveToLatex(t)}${e.command} ${e.belowToLatex(t)}}`})}}),Ye("pdiff","{numerator}{denominator}",{createAtom:(e,t,n)=>new Bt(e,t[0],t[1],{hasBarLine:!0,numerPrefix:"â",denomPrefix:"â",style:n})}),Ye(["sum","prod","bigcup","bigcap","coprod","bigvee","bigwedge","biguplus","bigotimes","bigoplus","bigodot","bigsqcup","smallint","intop"],"",{createAtom:(e,t,n)=>new Wt(e,{coprod:"â",bigvee:"â",bigwedge:"â",biguplus:"â¨",bigcap:"â",bigcup:"â",intop:"â«",prod:"â",sum:"â",bigotimes:"â¨",bigoplus:"â¨",bigodot:"â¨",bigsqcup:"â¨",smallint:"â«"}[e.slice(1)],{isExtensibleSymbol:!0,limits:"auto",variant:"main",style:n})});const en={int:"â«",iint:"â¬",iiint:"â­",oint:"â®",oiint:"â¯",oiiint:"â°",intclockwise:"â±",varointclockwise:"â²",ointctrclockwise:"â³",intctrclockwise:"â¨",sqcup:"â",sqcap:"â",uplus:"â",wr:"â",amalg:"â¨¿",Cap:"â",Cup:"â",doublecap:"â",doublecup:"â"};Ye(Object.keys(en),"",{createAtom:(e,t,n)=>new Wt(e,en[e.slice(1)],{limits:"adjacent",isExtensibleSymbol:!0,style:n,variant:{"â":"ams","â":"ams"}[en[e.slice(1)]]})}),Ye(["Re","Im"],"",{createAtom:(e,t,n)=>new Wt(e,{"\\Re":"â","\\Im":"â"}[e],{limits:"adjacent",style:n,isFunction:!0,variant:"fraktur"})}),Ye("middle","{:delim}",{createAtom:(e,t,n)=>new zt(e,t[0],{size:1,style:n})});class tn extends ot{constructor(e,t){super("chem",{command:e,mode:"math"});const n=an.go(nn.go(t,"\\pu"===e?"pu":"ce"),!1);this.body=Nt(n),this.verbatimLatex=e+"{"+t+"}",this.captureSelection=!0}render(e){const t=ot.createBox(e,this.body,{type:"chem",newList:!0});return this.caret&&(t.caret=this.caret),this.bind(e,t)}serialize(e){return this.verbatimLatex}}Ye(["ce","pu"],"{chemformula:balanced-string}",{createAtom:(e,t,n)=>new tn(e,t[0])});var nn={go:function(e,t){if(!e)return[];void 0===t&&(t="ce");var n,i="0",r={parenthesisLevel:0};e=(e=(e=e.replace(/\n/g," ")).replace(/[\u2212\u2013\u2014\u2010]/g,"-")).replace(/[\u2026]/g,"...");for(var o=10,a=[];;){n!==e?(o=10,n=e):o--;var s=nn.stateMachines[t],l=s.transitions[i]||s.transitions["*"];e:for(var c=0;c<l.length;c++){var u=nn.patterns.match_(l[c].pattern,e);if(u){for(var d=l[c].task,h=0;h<d.action_.length;h++){var p;if(s.actions[d.action_[h].type_])p=s.actions[d.action_[h].type_](r,u.match_,d.action_[h].option);else{if(!nn.actions[d.action_[h].type_])throw["MhchemBugA","mhchem bug A. Please report. ("+d.action_[h].type_+")"];p=nn.actions[d.action_[h].type_](r,u.match_,d.action_[h].option)}nn.concatArray(a,p)}if(i=d.nextState||i,!(e.length>0))return a;if(d.revisit||(e=u.remainder),!d.toContinue)break e}}if(o<=0)throw["MhchemBugU","mhchem bug U. Please report."]}},concatArray:function(e,t){if(t)if(Array.isArray(t))for(var n=0;n<t.length;n++)e.push(t[n]);else e.push(t)},patterns:{patterns:{empty:/^$/,else:/^./,else2:/^./,space:/^\s/,"space A":/^\s(?=[A-Z\\$])/,space$:/^\s$/,"a-z":/^[a-z]/,x:/^x/,x$:/^x$/,i$:/^i$/,letters:/^(?:[a-zA-Z\u03B1-\u03C9\u0391-\u03A9?@]|(?:\\(?:alpha|beta|gamma|delta|epsilon|zeta|eta|theta|iota|kappa|lambda|mu|nu|xi|omicron|pi|rho|sigma|tau|upsilon|phi|chi|psi|omega|Gamma|Delta|Theta|Lambda|Xi|Pi|Sigma|Upsilon|Phi|Psi|Omega)(?:\s+|\{\}|(?![a-zA-Z]))))+/,"\\greek":/^\\(?:alpha|beta|gamma|delta|epsilon|zeta|eta|theta|iota|kappa|lambda|mu|nu|xi|omicron|pi|rho|sigma|tau|upsilon|phi|chi|psi|omega|Gamma|Delta|Theta|Lambda|Xi|Pi|Sigma|Upsilon|Phi|Psi|Omega)(?:\s+|\{\}|(?![a-zA-Z]))/,"one lowercase latin letter $":/^(?:([a-z])(?:$|[^a-zA-Z]))$/,"$one lowercase latin letter$ $":/^\$(?:([a-z])(?:$|[^a-zA-Z]))\$$/,"one lowercase greek letter $":/^(?:\$?[\u03B1-\u03C9]\$?|\$?\\(?:alpha|beta|gamma|delta|epsilon|zeta|eta|theta|iota|kappa|lambda|mu|nu|xi|omicron|pi|rho|sigma|tau|upsilon|phi|chi|psi|omega)\s*\$?)(?:\s+|\{\}|(?![a-zA-Z]))$/,digits:/^[0-9]+/,"-9.,9":/^[+\-]?(?:[0-9]+(?:[,.][0-9]+)?|[0-9]*(?:\.[0-9]+))/,"-9.,9 no missing 0":/^[+\-]?[0-9]+(?:[.,][0-9]+)?/,"(-)(9.,9)(e)(99)":function(e){var t=e.match(/^(\+\-|\+\/\-|\+|\-|\\pm\s?)?([0-9]+(?:[,.][0-9]+)?|[0-9]*(?:\.[0-9]+))?(\((?:[0-9]+(?:[,.][0-9]+)?|[0-9]*(?:\.[0-9]+))\))?(?:([eE]|\s*(\*|x|\\times|\u00D7)\s*10\^)([+\-]?[0-9]+|\{[+\-]?[0-9]+\}))?/);return t&&t[0]?{match_:t.splice(1),remainder:e.substr(t[0].length)}:null},"(-)(9)^(-9)":function(e){var t=e.match(/^(\+\-|\+\/\-|\+|\-|\\pm\s?)?([0-9]+(?:[,.][0-9]+)?|[0-9]*(?:\.[0-9]+)?)\^([+\-]?[0-9]+|\{[+\-]?[0-9]+\})/);return t&&t[0]?{match_:t.splice(1),remainder:e.substr(t[0].length)}:null},"state of aggregation $":function(e){var t=nn.patterns.findObserveGroups(e,"",/^\([a-z]{1,3}(?=[\),])/,")","");if(t&&t.remainder.match(/^($|[\s,;\)\]\}])/))return t;var n=e.match(/^(?:\((?:\\ca\s?)?\$[amothc]\$\))/);return n?{match_:n[0],remainder:e.substr(n[0].length)}:null},"_{(state of aggregation)}$":/^_\{(\([a-z]{1,3}\))\}/,"{[(":/^(?:\\\{|\[|\()/,")]}":/^(?:\)|\]|\\\})/,", ":/^[,;]\s*/,",":/^[,;]/,".":/^[.]/,". ":/^([.\u22C5\u00B7\u2022])\s*/,"...":/^\.\.\.(?=$|[^.])/,"* ":/^([*])\s*/,"^{(...)}":function(e){return nn.patterns.findObserveGroups(e,"^{","","","}")},"^($...$)":function(e){return nn.patterns.findObserveGroups(e,"^","$","$","")},"^a":/^\^([0-9]+|[^\\_])/,"^\\x{}{}":function(e){return nn.patterns.findObserveGroups(e,"^",/^\\[a-zA-Z]+\{/,"}","","","{","}","",!0)},"^\\x{}":function(e){return nn.patterns.findObserveGroups(e,"^",/^\\[a-zA-Z]+\{/,"}","")},"^\\x":/^\^(\\[a-zA-Z]+)\s*/,"^(-1)":/^\^(-?\d+)/,"'":/^'/,"_{(...)}":function(e){return nn.patterns.findObserveGroups(e,"_{","","","}")},"_($...$)":function(e){return nn.patterns.findObserveGroups(e,"_","$","$","")},_9:/^_([+\-]?[0-9]+|[^\\])/,"_\\x{}{}":function(e){return nn.patterns.findObserveGroups(e,"_",/^\\[a-zA-Z]+\{/,"}","","","{","}","",!0)},"_\\x{}":function(e){return nn.patterns.findObserveGroups(e,"_",/^\\[a-zA-Z]+\{/,"}","")},"_\\x":/^_(\\[a-zA-Z]+)\s*/,"^_":/^(?:\^(?=_)|\_(?=\^)|[\^_]$)/,"{}":/^\{\}/,"{...}":function(e){return nn.patterns.findObserveGroups(e,"","{","}","")},"{(...)}":function(e){return nn.patterns.findObserveGroups(e,"{","","","}")},"$...$":function(e){return nn.patterns.findObserveGroups(e,"","$","$","")},"${(...)}$":function(e){return nn.patterns.findObserveGroups(e,"${","","","}$")},"$(...)$":function(e){return nn.patterns.findObserveGroups(e,"$","","","$")},"=<>":/^[=<>]/,"#":/^[#\u2261]/,"+":/^\+/,"-$":/^-(?=[\s_},;\]/]|$|\([a-z]+\))/,"-9":/^-(?=[0-9])/,"- orbital overlap":/^-(?=(?:[spd]|sp)(?:$|[\s,;\)\]\}]))/,"-":/^-/,"pm-operator":/^(?:\\pm|\$\\pm\$|\+-|\+\/-)/,operator:/^(?:\+|(?:[\-=<>]|<<|>>|\\approx|\$\\approx\$)(?=\s|$|-?[0-9]))/,arrowUpDown:/^(?:v|\(v\)|\^|\(\^\))(?=$|[\s,;\)\]\}])/,"\\bond{(...)}":function(e){return nn.patterns.findObserveGroups(e,"\\bond{","","","}")},"->":/^(?:<->|<-->|->|<-|<=>>|<<=>|<=>|[\u2192\u27F6\u21CC])/,CMT:/^[CMT](?=\[)/,"[(...)]":function(e){return nn.patterns.findObserveGroups(e,"[","","","]")},"1st-level escape":/^(&|\\\\|\\hline)\s*/,"\\,":/^(?:\\[,\ ;:])/,"\\x{}{}":function(e){return nn.patterns.findObserveGroups(e,"",/^\\[a-zA-Z]+\{/,"}","","","{","}","",!0)},"\\x{}":function(e){return nn.patterns.findObserveGroups(e,"",/^\\[a-zA-Z]+\{/,"}","")},"\\ca":/^\\ca(?:\s+|(?![a-zA-Z]))/,"\\x":/^(?:\\[a-zA-Z]+\s*|\\[_&{}%])/,orbital:/^(?:[0-9]{1,2}[spdfgh]|[0-9]{0,2}sp)(?=$|[^a-zA-Z])/,others:/^[\/~|]/,"\\frac{(...)}":function(e){return nn.patterns.findObserveGroups(e,"\\frac{","","","}","{","","","}")},"\\overset{(...)}":function(e){return nn.patterns.findObserveGroups(e,"\\overset{","","","}","{","","","}")},"\\underset{(...)}":function(e){return nn.patterns.findObserveGroups(e,"\\underset{","","","}","{","","","}")},"\\underbrace{(...)}":function(e){return nn.patterns.findObserveGroups(e,"\\underbrace{","","","}_","{","","","}")},"\\color{(...)}0":function(e){return nn.patterns.findObserveGroups(e,"\\color{","","","}")},"\\color{(...)}{(...)}1":function(e){return nn.patterns.findObserveGroups(e,"\\color{","","","}","{","","","}")},"\\color(...){(...)}2":function(e){return nn.patterns.findObserveGroups(e,"\\color","\\","",/^(?=\{)/,"{","","","}")},"\\ce{(...)}":function(e){return nn.patterns.findObserveGroups(e,"\\ce{","","","}")},oxidation$:/^(?:[+-][IVX]+|\\pm\s*0|\$\\pm\$\s*0)$/,"d-oxidation$":/^(?:[+-]?\s?[IVX]+|\\pm\s*0|\$\\pm\$\s*0)$/,"roman numeral":/^[IVX]+/,"1/2$":/^[+\-]?(?:[0-9]+|\$[a-z]\$|[a-z])\/[0-9]+(?:\$[a-z]\$|[a-z])?$/,amount:function(e){var t;if(t=e.match(/^(?:(?:(?:\([+\-]?[0-9]+\/[0-9]+\)|[+\-]?(?:[0-9]+|\$[a-z]\$|[a-z])\/[0-9]+|[+\-]?[0-9]+[.,][0-9]+|[+\-]?\.[0-9]+|[+\-]?[0-9]+)(?:[a-z](?=\s*[A-Z]))?)|[+\-]?[a-z](?=\s*[A-Z])|\+(?!\s))/))return{match_:t[0],remainder:e.substr(t[0].length)};var n=nn.patterns.findObserveGroups(e,"","$","$","");return n&&(t=n.match_.match(/^\$(?:\(?[+\-]?(?:[0-9]*[a-z]?[+\-])?[0-9]*[a-z](?:[+\-][0-9]*[a-z]?)?\)?|\+|-)\$$/))?{match_:t[0],remainder:e.substr(t[0].length)}:null},amount2:function(e){return this.amount(e)},"(KV letters),":/^(?:[A-Z][a-z]{0,2}|i)(?=,)/,formula$:function(e){if(e.match(/^\([a-z]+\)$/))return null;var t=e.match(/^(?:[a-z]|(?:[0-9\ \+\-\,\.\(\)]+[a-z])+[0-9\ \+\-\,\.\(\)]*|(?:[a-z][0-9\ \+\-\,\.\(\)]+)+[a-z]?)$/);return t?{match_:t[0],remainder:e.substr(t[0].length)}:null},uprightEntities:/^(?:pH|pOH|pC|pK|iPr|iBu)(?=$|[^a-zA-Z])/,"/":/^\s*(\/)\s*/,"//":/^\s*(\/\/)\s*/,"*":/^\s*[*.]\s*/},findObserveGroups:function(e,t,n,i,r,o,a,s,l,c){var u=function(e,t){if("string"==typeof t)return 0!==e.indexOf(t)?null:t;var n=e.match(t);return n?n[0]:null},d=u(e,t);if(null===d)return null;if(e=e.substr(d.length),null===(d=u(e,n)))return null;var h=function(e,t,n){for(var i=0;t<e.length;){var r=e.charAt(t),o=u(e.substr(t),n);if(null!==o&&0===i)return{endMatchBegin:t,endMatchEnd:t+o.length};if("{"===r)i++;else if("}"===r){if(0===i)throw["ExtraCloseMissingOpen","Extra close brace or missing open brace"];i--}t++}return null}(e,d.length,i||r);if(null===h)return null;var p=e.substring(0,i?h.endMatchEnd:h.endMatchBegin);if(o||a){var f=this.findObserveGroups(e.substr(h.endMatchEnd),o,a,s,l);if(null===f)return null;var m=[p,f.match_];return{match_:c?m.join(""):m,remainder:f.remainder}}return{match_:p,remainder:e.substr(h.endMatchEnd)}},match_:function(e,t){var n=nn.patterns.patterns[e];if(void 0===n)throw["MhchemBugP","mhchem bug P. Please report. ("+e+")"];if("function"==typeof n)return nn.patterns.patterns[e](t);var i=t.match(n);return i?{match_:i[2]?[i[1],i[2]]:i[1]?i[1]:i[0],remainder:t.substr(i[0].length)}:null}},actions:{"a=":function(e,t){e.a=(e.a||"")+t},"b=":function(e,t){e.b=(e.b||"")+t},"p=":function(e,t){e.p=(e.p||"")+t},"o=":function(e,t){e.o=(e.o||"")+t},"q=":function(e,t){e.q=(e.q||"")+t},"d=":function(e,t){e.d=(e.d||"")+t},"rm=":function(e,t){e.rm=(e.rm||"")+t},"text=":function(e,t){e.text_=(e.text_||"")+t},insert:function(e,t,n){return{type_:n}},"insert+p1":function(e,t,n){return{type_:n,p1:t}},"insert+p1+p2":function(e,t,n){return{type_:n,p1:t[0],p2:t[1]}},copy:function(e,t){return t},rm:function(e,t){return{type_:"rm",p1:t||""}},text:function(e,t){return nn.go(t,"text")},"{text}":function(e,t){var n=["{"];return nn.concatArray(n,nn.go(t,"text")),n.push("}"),n},"tex-math":function(e,t){return nn.go(t,"tex-math")},"tex-math tight":function(e,t){return nn.go(t,"tex-math tight")},bond:function(e,t,n){return{type_:"bond",kind_:n||t}},"color0-output":function(e,t){return{type_:"color0",color:t[0]}},ce:function(e,t){return nn.go(t)},"1/2":function(e,t){var n=[];t.match(/^[+\-]/)&&(n.push(t.substr(0,1)),t=t.substr(1));var i=t.match(/^([0-9]+|\$[a-z]\$|[a-z])\/([0-9]+)(\$[a-z]\$|[a-z])?$/);return i[1]=i[1].replace(/\$/g,""),n.push({type_:"frac",p1:i[1],p2:i[2]}),i[3]&&(i[3]=i[3].replace(/\$/g,""),n.push({type_:"tex-math",p1:i[3]})),n},"9,9":function(e,t){return nn.go(t,"9,9")}},createTransitions:function(e){var t,n,i,r,o={};for(t in e)for(n in e[t])for(i=n.split("|"),e[t][n].stateArray=i,r=0;r<i.length;r++)o[i[r]]=[];for(t in e)for(n in e[t])for(i=e[t][n].stateArray||[],r=0;r<i.length;r++){var a=e[t][n];if(a.action_){a.action_=[].concat(a.action_);for(var s=0;s<a.action_.length;s++)"string"==typeof a.action_[s]&&(a.action_[s]={type_:a.action_[s]})}else a.action_=[];for(var l=t.split("|"),c=0;c<l.length;c++)if("*"===i[r])for(var u in o)o[u].push({pattern:l[c],task:a});else o[i[r]].push({pattern:l[c],task:a})}return o},stateMachines:{}};nn.stateMachines={ce:{transitions:nn.createTransitions({empty:{"*":{action_:"output"}},else:{"0|1|2":{action_:"beginsWithBond=false",revisit:!0,toContinue:!0}},oxidation$:{0:{action_:"oxidation-output"}},CMT:{r:{action_:"rdt=",nextState:"rt"},rd:{action_:"rqt=",nextState:"rdt"}},arrowUpDown:{"0|1|2|as":{action_:["sb=false","output","operator"],nextState:"1"}},uprightEntities:{"0|1|2":{action_:["o=","output"],nextState:"1"}},orbital:{"0|1|2|3":{action_:"o=",nextState:"o"}},"->":{"0|1|2|3":{action_:"r=",nextState:"r"},"a|as":{action_:["output","r="],nextState:"r"},"*":{action_:["output","r="],nextState:"r"}},"+":{o:{action_:"d= kv",nextState:"d"},"d|D":{action_:"d=",nextState:"d"},q:{action_:"d=",nextState:"qd"},"qd|qD":{action_:"d=",nextState:"qd"},dq:{action_:["output","d="],nextState:"d"},3:{action_:["sb=false","output","operator"],nextState:"0"}},amount:{"0|2":{action_:"a=",nextState:"a"}},"pm-operator":{"0|1|2|a|as":{action_:["sb=false","output",{type_:"operator",option:"\\pm"}],nextState:"0"}},operator:{"0|1|2|a|as":{action_:["sb=false","output","operator"],nextState:"0"}},"-$":{"o|q":{action_:["charge or bond","output"],nextState:"qd"},d:{action_:"d=",nextState:"d"},D:{action_:["output",{type_:"bond",option:"-"}],nextState:"3"},q:{action_:"d=",nextState:"qd"},qd:{action_:"d=",nextState:"qd"},"qD|dq":{action_:["output",{type_:"bond",option:"-"}],nextState:"3"}},"-9":{"3|o":{action_:["output",{type_:"insert",option:"hyphen"}],nextState:"3"}},"- orbital overlap":{o:{action_:["output",{type_:"insert",option:"hyphen"}],nextState:"2"},d:{action_:["output",{type_:"insert",option:"hyphen"}],nextState:"2"}},"-":{"0|1|2":{action_:[{type_:"output",option:1},"beginsWithBond=true",{type_:"bond",option:"-"}],nextState:"3"},3:{action_:{type_:"bond",option:"-"}},a:{action_:["output",{type_:"insert",option:"hyphen"}],nextState:"2"},as:{action_:[{type_:"output",option:2},{type_:"bond",option:"-"}],nextState:"3"},b:{action_:"b="},o:{action_:{type_:"- after o/d",option:!1},nextState:"2"},q:{action_:{type_:"- after o/d",option:!1},nextState:"2"},"d|qd|dq":{action_:{type_:"- after o/d",option:!0},nextState:"2"},"D|qD|p":{action_:["output",{type_:"bond",option:"-"}],nextState:"3"}},amount2:{"1|3":{action_:"a=",nextState:"a"}},letters:{"0|1|2|3|a|as|b|p|bp|o":{action_:"o=",nextState:"o"},"q|dq":{action_:["output","o="],nextState:"o"},"d|D|qd|qD":{action_:"o after d",nextState:"o"}},digits:{o:{action_:"q=",nextState:"q"},"d|D":{action_:"q=",nextState:"dq"},q:{action_:["output","o="],nextState:"o"},a:{action_:"o=",nextState:"o"}},"space A":{"b|p|bp":{}},space:{a:{nextState:"as"},0:{action_:"sb=false"},"1|2":{action_:"sb=true"},"r|rt|rd|rdt|rdq":{action_:"output",nextState:"0"},"*":{action_:["output","sb=true"],nextState:"1"}},"1st-level escape":{"1|2":{action_:["output",{type_:"insert+p1",option:"1st-level escape"}]},"*":{action_:["output",{type_:"insert+p1",option:"1st-level escape"}],nextState:"0"}},"[(...)]":{"r|rt":{action_:"rd=",nextState:"rd"},"rd|rdt":{action_:"rq=",nextState:"rdq"}},"...":{"o|d|D|dq|qd|qD":{action_:["output",{type_:"bond",option:"..."}],nextState:"3"},"*":{action_:[{type_:"output",option:1},{type_:"insert",option:"ellipsis"}],nextState:"1"}},". |* ":{"*":{action_:["output",{type_:"insert",option:"addition compound"}],nextState:"1"}},"state of aggregation $":{"*":{action_:["output","state of aggregation"],nextState:"1"}},"{[(":{"a|as|o":{action_:["o=","output","parenthesisLevel++"],nextState:"2"},"0|1|2|3":{action_:["o=","output","parenthesisLevel++"],nextState:"2"},"*":{action_:["output","o=","output","parenthesisLevel++"],nextState:"2"}},")]}":{"0|1|2|3|b|p|bp|o":{action_:["o=","parenthesisLevel--"],nextState:"o"},"a|as|d|D|q|qd|qD|dq":{action_:["output","o=","parenthesisLevel--"],nextState:"o"}},", ":{"*":{action_:["output","comma"],nextState:"0"}},"^_":{"*":{}},"^{(...)}|^($...$)":{"0|1|2|as":{action_:"b=",nextState:"b"},p:{action_:"b=",nextState:"bp"},"3|o":{action_:"d= kv",nextState:"D"},q:{action_:"d=",nextState:"qD"},"d|D|qd|qD|dq":{action_:["output","d="],nextState:"D"}},"^a|^\\x{}{}|^\\x{}|^\\x|'":{"0|1|2|as":{action_:"b=",nextState:"b"},p:{action_:"b=",nextState:"bp"},"3|o":{action_:"d= kv",nextState:"d"},q:{action_:"d=",nextState:"qd"},"d|qd|D|qD":{action_:"d="},dq:{action_:["output","d="],nextState:"d"}},"_{(state of aggregation)}$":{"d|D|q|qd|qD|dq":{action_:["output","q="],nextState:"q"}},"_{(...)}|_($...$)|_9|_\\x{}{}|_\\x{}|_\\x":{"0|1|2|as":{action_:"p=",nextState:"p"},b:{action_:"p=",nextState:"bp"},"3|o":{action_:"q=",nextState:"q"},"d|D":{action_:"q=",nextState:"dq"},"q|qd|qD|dq":{action_:["output","q="],nextState:"q"}},"=<>":{"0|1|2|3|a|as|o|q|d|D|qd|qD|dq":{action_:[{type_:"output",option:2},"bond"],nextState:"3"}},"#":{"0|1|2|3|a|as|o":{action_:[{type_:"output",option:2},{type_:"bond",option:"#"}],nextState:"3"}},"{}":{"*":{action_:{type_:"output",option:1},nextState:"1"}},"{...}":{"0|1|2|3|a|as|b|p|bp":{action_:"o=",nextState:"o"},"o|d|D|q|qd|qD|dq":{action_:["output","o="],nextState:"o"}},"$...$":{a:{action_:"a="},"0|1|2|3|as|b|p|bp|o":{action_:"o=",nextState:"o"},"as|o":{action_:"o="},"q|d|D|qd|qD|dq":{action_:["output","o="],nextState:"o"}},"\\bond{(...)}":{"*":{action_:[{type_:"output",option:2},"bond"],nextState:"3"}},"\\frac{(...)}":{"*":{action_:[{type_:"output",option:1},"frac-output"],nextState:"3"}},"\\overset{(...)}":{"*":{action_:[{type_:"output",option:2},"overset-output"],nextState:"3"}},"\\underset{(...)}":{"*":{action_:[{type_:"output",option:2},"underset-output"],nextState:"3"}},"\\underbrace{(...)}":{"*":{action_:[{type_:"output",option:2},"underbrace-output"],nextState:"3"}},"\\color{(...)}{(...)}1|\\color(...){(...)}2":{"*":{action_:[{type_:"output",option:2},"color-output"],nextState:"3"}},"\\color{(...)}0":{"*":{action_:[{type_:"output",option:2},"color0-output"]}},"\\ce{(...)}":{"*":{action_:[{type_:"output",option:2},"ce"],nextState:"3"}},"\\,":{"*":{action_:[{type_:"output",option:1},"copy"],nextState:"1"}},"\\x{}{}|\\x{}|\\x":{"0|1|2|3|a|as|b|p|bp|o|c0":{action_:["o=","output"],nextState:"3"},"*":{action_:["output","o=","output"],nextState:"3"}},others:{"*":{action_:[{type_:"output",option:1},"copy"],nextState:"3"}},else2:{a:{action_:"a to o",nextState:"o",revisit:!0},as:{action_:["output","sb=true"],nextState:"1",revisit:!0},"r|rt|rd|rdt|rdq":{action_:["output"],nextState:"0",revisit:!0},"*":{action_:["output","copy"],nextState:"3"}}}),actions:{"o after d":function(e,t){var n;if((e.d||"").match(/^[0-9]+$/)){var i=e.d;e.d=void 0,n=this.output(e),e.b=i}else n=this.output(e);return nn.actions["o="](e,t),n},"d= kv":function(e,t){e.d=t,e.dType="kv"},"charge or bond":function(e,t){if(e.beginsWithBond){var n=[];return nn.concatArray(n,this.output(e)),nn.concatArray(n,nn.actions.bond(e,t,"-")),n}e.d=t},"- after o/d":function(e,t,n){var i=nn.patterns.match_("orbital",e.o||""),r=nn.patterns.match_("one lowercase greek letter $",e.o||""),o=nn.patterns.match_("one lowercase latin letter $",e.o||""),a=nn.patterns.match_("$one lowercase latin letter$ $",e.o||""),s="-"===t&&(i&&""===i.remainder||r||o||a);!s||e.a||e.b||e.p||e.d||e.q||i||!o||(e.o="$"+e.o+"$");var l=[];return s?(nn.concatArray(l,this.output(e)),l.push({type_:"hyphen"})):(i=nn.patterns.match_("digits",e.d||""),n&&i&&""===i.remainder?(nn.concatArray(l,nn.actions["d="](e,t)),nn.concatArray(l,this.output(e))):(nn.concatArray(l,this.output(e)),nn.concatArray(l,nn.actions.bond(e,t,"-")))),l},"a to o":function(e){e.o=e.a,e.a=void 0},"sb=true":function(e){e.sb=!0},"sb=false":function(e){e.sb=!1},"beginsWithBond=true":function(e){e.beginsWithBond=!0},"beginsWithBond=false":function(e){e.beginsWithBond=!1},"parenthesisLevel++":function(e){e.parenthesisLevel++},"parenthesisLevel--":function(e){e.parenthesisLevel--},"state of aggregation":function(e,t){return{type_:"state of aggregation",p1:nn.go(t,"o")}},comma:function(e,t){var n=t.replace(/\s*$/,"");return n!==t&&0===e.parenthesisLevel?{type_:"comma enumeration L",p1:n}:{type_:"comma enumeration M",p1:n}},output:function(e,t,n){var i,r,o;for(var a in e.r?(r="M"===e.rdt?nn.go(e.rd,"tex-math"):"T"===e.rdt?[{type_:"text",p1:e.rd||""}]:nn.go(e.rd),o="M"===e.rqt?nn.go(e.rq,"tex-math"):"T"===e.rqt?[{type_:"text",p1:e.rq||""}]:nn.go(e.rq),i={type_:"arrow",r:e.r,rd:r,rq:o}):(i=[],(e.a||e.b||e.p||e.o||e.q||e.d||n)&&(e.sb&&i.push({type_:"entitySkip"}),e.o||e.q||e.d||e.b||e.p||2===n?e.o||e.q||e.d||!e.b&&!e.p?e.o&&"kv"===e.dType&&nn.patterns.match_("d-oxidation$",e.d||"")?e.dType="oxidation":e.o&&"kv"===e.dType&&!e.q&&(e.dType=void 0):(e.o=e.a,e.d=e.b,e.q=e.p,e.a=e.b=e.p=void 0):(e.o=e.a,e.a=void 0),i.push({type_:"chemfive",a:nn.go(e.a,"a"),b:nn.go(e.b,"bd"),p:nn.go(e.p,"pq"),o:nn.go(e.o,"o"),q:nn.go(e.q,"pq"),d:nn.go(e.d,"oxidation"===e.dType?"oxidation":"bd"),dType:e.dType}))),e)"parenthesisLevel"!==a&&"beginsWithBond"!==a&&delete e[a];return i},"oxidation-output":function(e,t){var n=["{"];return nn.concatArray(n,nn.go(t,"oxidation")),n.push("}"),n},"frac-output":function(e,t){return{type_:"frac-ce",p1:nn.go(t[0]),p2:nn.go(t[1])}},"overset-output":function(e,t){return{type_:"overset",p1:nn.go(t[0]),p2:nn.go(t[1])}},"underset-output":function(e,t){return{type_:"underset",p1:nn.go(t[0]),p2:nn.go(t[1])}},"underbrace-output":function(e,t){return{type_:"underbrace",p1:nn.go(t[0]),p2:nn.go(t[1])}},"color-output":function(e,t){return{type_:"color",color1:t[0],color2:nn.go(t[1])}},"r=":function(e,t){e.r=t},"rdt=":function(e,t){e.rdt=t},"rd=":function(e,t){e.rd=t},"rqt=":function(e,t){e.rqt=t},"rq=":function(e,t){e.rq=t},operator:function(e,t,n){return{type_:"operator",kind_:n||t}}}},a:{transitions:nn.createTransitions({empty:{"*":{}},"1/2$":{0:{action_:"1/2"}},else:{0:{nextState:"1",revisit:!0}},"$(...)$":{"*":{action_:"tex-math tight",nextState:"1"}},",":{"*":{action_:{type_:"insert",option:"commaDecimal"}}},else2:{"*":{action_:"copy"}}}),actions:{}},o:{transitions:nn.createTransitions({empty:{"*":{}},"1/2$":{0:{action_:"1/2"}},else:{0:{nextState:"1",revisit:!0}},letters:{"*":{action_:"rm"}},"\\ca":{"*":{action_:{type_:"insert",option:"circa"}}},"\\x{}{}|\\x{}|\\x":{"*":{action_:"copy"}},"${(...)}$|$(...)$":{"*":{action_:"tex-math"}},"{(...)}":{"*":{action_:"{text}"}},else2:{"*":{action_:"copy"}}}),actions:{}},text:{transitions:nn.createTransitions({empty:{"*":{action_:"output"}},"{...}":{"*":{action_:"text="}},"${(...)}$|$(...)$":{"*":{action_:"tex-math"}},"\\greek":{"*":{action_:["output","rm"]}},"\\,|\\x{}{}|\\x{}|\\x":{"*":{action_:["output","copy"]}},else:{"*":{action_:"text="}}}),actions:{output:function(e){if(e.text_){var t={type_:"text",p1:e.text_};for(var n in e)delete e[n];return t}}}},pq:{transitions:nn.createTransitions({empty:{"*":{}},"state of aggregation $":{"*":{action_:"state of aggregation"}},i$:{0:{nextState:"!f",revisit:!0}},"(KV letters),":{0:{action_:"rm",nextState:"0"}},formula$:{0:{nextState:"f",revisit:!0}},"1/2$":{0:{action_:"1/2"}},else:{0:{nextState:"!f",revisit:!0}},"${(...)}$|$(...)$":{"*":{action_:"tex-math"}},"{(...)}":{"*":{action_:"text"}},"a-z":{f:{action_:"tex-math"}},letters:{"*":{action_:"rm"}},"-9.,9":{"*":{action_:"9,9"}},",":{"*":{action_:{type_:"insert+p1",option:"comma enumeration S"}}},"\\color{(...)}{(...)}1|\\color(...){(...)}2":{"*":{action_:"color-output"}},"\\color{(...)}0":{"*":{action_:"color0-output"}},"\\ce{(...)}":{"*":{action_:"ce"}},"\\,|\\x{}{}|\\x{}|\\x":{"*":{action_:"copy"}},else2:{"*":{action_:"copy"}}}),actions:{"state of aggregation":function(e,t){return{type_:"state of aggregation subscript",p1:nn.go(t,"o")}},"color-output":function(e,t){return{type_:"color",color1:t[0],color2:nn.go(t[1],"pq")}}}},bd:{transitions:nn.createTransitions({empty:{"*":{}},x$:{0:{nextState:"!f",revisit:!0}},formula$:{0:{nextState:"f",revisit:!0}},else:{0:{nextState:"!f",revisit:!0}},"-9.,9 no missing 0":{"*":{action_:"9,9"}},".":{"*":{action_:{type_:"insert",option:"electron dot"}}},"a-z":{f:{action_:"tex-math"}},x:{"*":{action_:{type_:"insert",option:"KV x"}}},letters:{"*":{action_:"rm"}},"'":{"*":{action_:{type_:"insert",option:"prime"}}},"${(...)}$|$(...)$":{"*":{action_:"tex-math"}},"{(...)}":{"*":{action_:"text"}},"\\color{(...)}{(...)}1|\\color(...){(...)}2":{"*":{action_:"color-output"}},"\\color{(...)}0":{"*":{action_:"color0-output"}},"\\ce{(...)}":{"*":{action_:"ce"}},"\\,|\\x{}{}|\\x{}|\\x":{"*":{action_:"copy"}},else2:{"*":{action_:"copy"}}}),actions:{"color-output":function(e,t){return{type_:"color",color1:t[0],color2:nn.go(t[1],"bd")}}}},oxidation:{transitions:nn.createTransitions({empty:{"*":{}},"roman numeral":{"*":{action_:"roman-numeral"}},"${(...)}$|$(...)$":{"*":{action_:"tex-math"}},else:{"*":{action_:"copy"}}}),actions:{"roman-numeral":function(e,t){return{type_:"roman numeral",p1:t||""}}}},"tex-math":{transitions:nn.createTransitions({empty:{"*":{action_:"output"}},"\\ce{(...)}":{"*":{action_:["output","ce"]}},"{...}|\\,|\\x{}{}|\\x{}|\\x":{"*":{action_:"o="}},else:{"*":{action_:"o="}}}),actions:{output:function(e){if(e.o){var t={type_:"tex-math",p1:e.o};for(var n in e)delete e[n];return t}}}},"tex-math tight":{transitions:nn.createTransitions({empty:{"*":{action_:"output"}},"\\ce{(...)}":{"*":{action_:["output","ce"]}},"{...}|\\,|\\x{}{}|\\x{}|\\x":{"*":{action_:"o="}},"-|+":{"*":{action_:"tight operator"}},else:{"*":{action_:"o="}}}),actions:{"tight operator":function(e,t){e.o=(e.o||"")+"{"+t+"}"},output:function(e){if(e.o){var t={type_:"tex-math",p1:e.o};for(var n in e)delete e[n];return t}}}},"9,9":{transitions:nn.createTransitions({empty:{"*":{}},",":{"*":{action_:"comma"}},else:{"*":{action_:"copy"}}}),actions:{comma:function(){return{type_:"commaDecimal"}}}},pu:{transitions:nn.createTransitions({empty:{"*":{action_:"output"}},space$:{"*":{action_:["output","space"]}},"{[(|)]}":{"0|a":{action_:"copy"}},"(-)(9)^(-9)":{0:{action_:"number^",nextState:"a"}},"(-)(9.,9)(e)(99)":{0:{action_:"enumber",nextState:"a"}},space:{"0|a":{}},"pm-operator":{"0|a":{action_:{type_:"operator",option:"\\pm"},nextState:"0"}},operator:{"0|a":{action_:"copy",nextState:"0"}},"//":{d:{action_:"o=",nextState:"/"}},"/":{d:{action_:"o=",nextState:"/"}},"{...}|else":{"0|d":{action_:"d=",nextState:"d"},a:{action_:["space","d="],nextState:"d"},"/|q":{action_:"q=",nextState:"q"}}}),actions:{enumber:function(e,t){var n=[];return"+-"===t[0]||"+/-"===t[0]?n.push("\\pm "):t[0]&&n.push(t[0]),t[1]&&(nn.concatArray(n,nn.go(t[1],"pu-9,9")),t[2]&&(t[2].match(/[,.]/)?nn.concatArray(n,nn.go(t[2],"pu-9,9")):n.push(t[2])),t[3]=t[4]||t[3],t[3]&&(t[3]=t[3].trim(),"e"===t[3]||"*"===t[3].substr(0,1)?n.push({type_:"cdot"}):n.push({type_:"times"}))),t[3]&&n.push("10^{"+t[5]+"}"),n},"number^":function(e,t){var n=[];return"+-"===t[0]||"+/-"===t[0]?n.push("\\pm "):t[0]&&n.push(t[0]),nn.concatArray(n,nn.go(t[1],"pu-9,9")),n.push("^{"+t[2]+"}"),n},operator:function(e,t,n){return{type_:"operator",kind_:n||t}},space:function(){return{type_:"pu-space-1"}},output:function(e){var t,n=nn.patterns.match_("{(...)}",e.d||"");n&&""===n.remainder&&(e.d=n.match_);var i=nn.patterns.match_("{(...)}",e.q||"");if(i&&""===i.remainder&&(e.q=i.match_),e.d&&(e.d=e.d.replace(/\u00B0C|\^oC|\^{o}C/g,"{}^{\\circ}C"),e.d=e.d.replace(/\u00B0F|\^oF|\^{o}F/g,"{}^{\\circ}F")),e.q){e.q=e.q.replace(/\u00B0C|\^oC|\^{o}C/g,"{}^{\\circ}C"),e.q=e.q.replace(/\u00B0F|\^oF|\^{o}F/g,"{}^{\\circ}F");var r={d:nn.go(e.d,"pu"),q:nn.go(e.q,"pu")};"//"===e.o?t={type_:"pu-frac",p1:r.d,p2:r.q}:(t=r.d,r.d.length>1||r.q.length>1?t.push({type_:" / "}):t.push({type_:"/"}),nn.concatArray(t,r.q))}else t=nn.go(e.d,"pu-2");for(var o in e)delete e[o];return t}}},"pu-2":{transitions:nn.createTransitions({empty:{"*":{action_:"output"}},"*":{"*":{action_:["output","cdot"],nextState:"0"}},"\\x":{"*":{action_:"rm="}},space:{"*":{action_:["output","space"],nextState:"0"}},"^{(...)}|^(-1)":{1:{action_:"^(-1)"}},"-9.,9":{0:{action_:"rm=",nextState:"0"},1:{action_:"^(-1)",nextState:"0"}},"{...}|else":{"*":{action_:"rm=",nextState:"1"}}}),actions:{cdot:function(){return{type_:"tight cdot"}},"^(-1)":function(e,t){e.rm+="^{"+t+"}"},space:function(){return{type_:"pu-space-2"}},output:function(e){var t=[];if(e.rm){var n=nn.patterns.match_("{(...)}",e.rm||"");t=n&&""===n.remainder?nn.go(n.match_,"pu"):{type_:"rm",p1:e.rm}}for(var i in e)delete e[i];return t}}},"pu-9,9":{transitions:nn.createTransitions({empty:{0:{action_:"output-0"},o:{action_:"output-o"}},",":{0:{action_:["output-0","comma"],nextState:"o"}},".":{0:{action_:["output-0","copy"],nextState:"o"}},else:{"*":{action_:"text="}}}),actions:{comma:function(){return{type_:"commaDecimal"}},"output-0":function(e){var t=[];if(e.text_=e.text_||"",e.text_.length>4){var n=e.text_.length%3;0===n&&(n=3);for(var i=e.text_.length-3;i>0;i-=3)t.push(e.text_.substr(i,3)),t.push({type_:"1000 separator"});t.push(e.text_.substr(0,n)),t.reverse()}else t.push(e.text_);for(var r in e)delete e[r];return t},"output-o":function(e){var t=[];if(e.text_=e.text_||"",e.text_.length>4){for(var n=e.text_.length-3,i=0;i<n;i+=3)t.push(e.text_.substr(i,3)),t.push({type_:"1000 separator"});t.push(e.text_.substr(i))}else t.push(e.text_);for(var r in e)delete e[r];return t}}}};var rn,on,an={go:function(e,t){if(!e)return"";for(var n="",i=!1,r=0;r<e.length;r++){var o=e[r];"string"==typeof o?n+=o:(n+=an._go2(o),"1st-level escape"===o.type_&&(i=!0))}return t||i||!n||(n="{"+n+"}"),n},_goInner:function(e){return e?an.go(e,!0):e},_go2:function(e){var t;switch(e.type_){case"chemfive":t="";var n={a:an._goInner(e.a),b:an._goInner(e.b),p:an._goInner(e.p),o:an._goInner(e.o),q:an._goInner(e.q),d:an._goInner(e.d)};n.a&&(n.a.match(/^[+\-]/)&&(n.a="{"+n.a+"}"),t+=n.a+"\\,"),(n.b||n.p)&&(t+="{\\vphantom{X}}",t+="^{\\hphantom{"+(n.b||"")+"}}_{\\hphantom{"+(n.p||"")+"}}",t+="{\\vphantom{X}}",t+="^{\\smash[t]{\\vphantom{2}}\\mathllap{"+(n.b||"")+"}}",t+="_{\\vphantom{2}\\mathllap{\\smash[t]{"+(n.p||"")+"}}}"),n.o&&(n.o.match(/^[+\-]/)&&(n.o="{"+n.o+"}"),t+=n.o),"kv"===e.dType?((n.d||n.q)&&(t+="{\\vphantom{X}}"),n.d&&(t+="^{"+n.d+"}"),n.q&&(t+="_{\\smash[t]{"+n.q+"}}")):"oxidation"===e.dType?(n.d&&(t+="{\\vphantom{X}}",t+="^{"+n.d+"}"),n.q&&(t+="{\\vphantom{X}}",t+="_{\\smash[t]{"+n.q+"}}")):(n.q&&(t+="{\\vphantom{X}}",t+="_{\\smash[t]{"+n.q+"}}"),n.d&&(t+="{\\vphantom{X}}",t+="^{"+n.d+"}"));break;case"rm":t="\\mathrm{"+e.p1+"}";break;case"text":e.p1.match(/[\^_]/)?(e.p1=e.p1.replace(" ","~").replace("-","\\text{-}"),t="\\mathrm{"+e.p1+"}"):t="\\text{"+e.p1+"}";break;case"roman numeral":t="\\mathrm{"+e.p1+"}";break;case"state of aggregation":t="\\mskip2mu "+an._goInner(e.p1);break;case"state of aggregation subscript":t="\\mskip1mu "+an._goInner(e.p1);break;case"bond":if(!(t=an._getBond(e.kind_)))throw["MhchemErrorBond","mhchem Error. Unknown bond type ("+e.kind_+")"];break;case"frac":var i="\\frac{"+e.p1+"}{"+e.p2+"}";t="\\mathchoice{\\textstyle"+i+"}{"+i+"}{"+i+"}{"+i+"}";break;case"pu-frac":var r="\\frac{"+an._goInner(e.p1)+"}{"+an._goInner(e.p2)+"}";t="\\mathchoice{\\textstyle"+r+"}{"+r+"}{"+r+"}{"+r+"}";break;case"tex-math":t=e.p1+" ";break;case"frac-ce":t="\\frac{"+an._goInner(e.p1)+"}{"+an._goInner(e.p2)+"}";break;case"overset":t="\\overset{"+an._goInner(e.p1)+"}{"+an._goInner(e.p2)+"}";break;case"underset":t="\\underset{"+an._goInner(e.p1)+"}{"+an._goInner(e.p2)+"}";break;case"underbrace":t="\\underbrace{"+an._goInner(e.p1)+"}_{"+an._goInner(e.p2)+"}";break;case"color":t="{\\color{"+e.color1+"}{"+an._goInner(e.color2)+"}}";break;case"color0":t="\\color{"+e.color+"}";break;case"arrow":var o={rd:an._goInner(e.rd),rq:an._goInner(e.rq)},a="\\x"+an._getArrow(e.r);o.rq&&(a+="[{"+o.rq+"}]"),t=a+=o.rd?"{"+o.rd+"}":"{}";break;case"operator":t=an._getOperator(e.kind_);break;case"1st-level escape":t=e.p1+" ";break;case"space":t=" ";break;case"entitySkip":case"pu-space-1":t="~";break;case"pu-space-2":t="\\mkern3mu ";break;case"1000 separator":t="\\mkern2mu ";break;case"commaDecimal":t="{,}";break;case"comma enumeration L":t="{"+e.p1+"}\\mkern6mu ";break;case"comma enumeration M":t="{"+e.p1+"}\\mkern3mu ";break;case"comma enumeration S":t="{"+e.p1+"}\\mkern1mu ";break;case"hyphen":t="\\text{-}";break;case"addition compound":t="\\,{\\cdot}\\,";break;case"electron dot":t="\\mkern1mu \\bullet\\mkern1mu ";break;case"KV x":t="{\\times}";break;case"prime":t="\\prime ";break;case"cdot":t="\\cdot ";break;case"tight cdot":t="\\mkern1mu{\\cdot}\\mkern1mu ";break;case"times":t="\\times ";break;case"circa":t="{\\sim}";break;case"^":t="uparrow";break;case"v":t="downarrow";break;case"ellipsis":t="\\ldots ";break;case"/":t="/";break;case" / ":t="\\,/\\,";break;default:throw["MhchemBugT","mhchem bug T. Please report."]}return t},_getArrow:function(e){switch(e){case"->":case"â":case"â¶":return"rightarrow";case"<-":return"leftarrow";case"<->":return"leftrightarrow";case"<--\x3e":return"rightleftarrows";case"<=>":case"â":return"rightleftharpoons";case"<=>>":return"rightequilibrium";case"<<=>":return"leftequilibrium";default:throw["MhchemBugT","mhchem bug T. Please report."]}},_getBond:function(e){switch(e){case"-":case"1":return"{-}";case"=":case"2":return"{=}";case"#":case"3":return"{\\equiv}";case"~":return"{\\tripledash}";case"~-":return"{\\mathrlap{\\raisebox{-.1em}{$-$}}\\raisebox{.1em}{$\\tripledash$}}";case"~=":case"~--":return"{\\mathrlap{\\raisebox{-.2em}{$-$}}\\mathrlap{\\raisebox{.2em}{$\\tripledash$}}-}";case"-~-":return"{\\mathrlap{\\raisebox{-.2em}{$-$}}\\mathrlap{\\raisebox{.2em}{$-$}}\\tripledash}";case"...":return"{{\\cdot}{\\cdot}{\\cdot}}";case"....":return"{{\\cdot}{\\cdot}{\\cdot}{\\cdot}}";case"->":return"{\\rightarrow}";case"<-":return"{\\leftarrow}";case"<":return"{<}";case">":return"{>}";default:throw["MhchemBugT","mhchem bug T. Please report."]}},_getOperator:function(e){switch(e){case"+":return" {}+{} ";case"-":return" {}-{} ";case"=":return" {}={} ";case"<":return" {}<{} ";case">":return" {}>{} ";case"<<":return" {}\\ll{} ";case">>":return" {}\\gg{} ";case"\\pm":return" {}\\pm{} ";case"\\approx":case"$\\approx$":return" {}\\approx{} ";case"v":case"(v)":return" \\downarrow{} ";case"^":case"(^)":return" \\uparrow{} ";default:throw["MhchemBugT","mhchem bug T. Please report."]}}};function sn(e){let t="";try{t=new URL(e,ln).toString()}catch(e){}return t}Fe("0123456789/@.?!"),$e(65,90),$e(97,122),Fe([["\\forall",8704],["\\exists",8707],["\\nexists",8708,"mord","ams"],["\\mid",8739,"mrel"],["\\top",8868],["\\bot",8869]]),Fe([["\\sharp",9839],["\\flat",9837],["\\natural",9838],["\\#",35],["\\&",38],["\\clubsuit",9827],["\\heartsuit",9825],["\\spadesuit",9824],["\\diamondsuit",9826]]),Fe([["\\backslash",92],["\\nabla",8711],["\\partial",8706],["\\ell",8467],["\\hbar",8463],["\\Q",81,"mord","double-struck"],["\\C",67,"mord","double-struck"],["\\P",80,"mord","double-struck"],["\\pounds",163],["\\euro",8364]]),Fe([["\\rightarrow",8594],["\\to",8594],["\\leftarrow",8592],["\\gets",8592],["\\Rightarrow",8658],["\\Leftarrow",8656],["\\longrightarrow",10230],["\\longleftarrow",10229],["\\Longrightarrow",10233],["\\implies",10233],["\\Longleftarrow",10232],["\\impliedby",10232],["\\longleftrightarrow",10231],["\\biconditional",10231],["\\Longleftrightarrow",10234],["\\mapsto",8614],["\\longmapsto",10236],["\\uparrow",8593],["\\downarrow",8595],["\\Uparrow",8657],["\\Downarrow",8659],["\\updownarrow",8597],["\\Updownarrow",8661],["\\hookrightarrow",8618],["\\hookleftarrow",8617],["\\rightharpoonup",8640],["\\leftharpoonup",8636],["\\rightharpoondown",8641],["\\leftharpoondown",8637],["\\searrow",8600],["\\nearrow",8599],["\\swarrow",8601],["\\nwarrow",8598],["\\originalof",8886],["\\laplace",8886],["\\imageof",8887],["\\Laplace",8887]],"mrel"),Fe([["\\lbrace",123,"mopen"],["\\rbrace",125,"mclose"],["\\lparen",40,"mopen"],["\\rparen",41,"mclose"],["\\langle",10216,"mopen"],["\\rangle",10217,"mclose"],["\\lfloor",8970,"mopen"],["\\rfloor",8971,"mclose"],["\\lceil",8968,"mopen"],["\\rceil",8969,"mclose"],["\\vert",8739],["\\lvert",8739,"mopen"],["\\rvert",8739,"mclose"],["\\|",8741],["\\Vert",8741],["\\mVert",8741],["\\lVert",8741,"mopen"],["\\rVert",8741,"mclose"],["\\lbrack",91,"mopen"],["\\rbrack",93,"mclose"],["\\{",123,"mopen"],["\\}",125,"mclose"],["(",40,"mopen"],[")",41,"mclose"],["[",91,"mopen"],["]",93,"mclose"],["\\ulcorner",9484,"mopen","ams"],["\\urcorner",9488,"mclose","ams"],["\\llcorner",9492,"mopen","ams"],["\\lrcorner",9496,"mclose","ams"],["\\lgroup",10222,"mopen"],["\\rgroup",10223,"mclose"],["\\lmoustache",9136,"mopen"],["\\rmoustache",9137,"mclose"]]),Fe([["\\dashrightarrow",8674],["\\dashleftarrow",8672],["\\Rrightarrow",8667],["\\Lleftarrow",8666],["\\leftrightarrows",8646],["\\rightleftarrows",8644],["\\curvearrowright",8631],["\\curvearrowleft",8630],["\\rightrightarrows",8649],["\\leftleftarrows",8647],["\\upuparrows",8648],["\\downdownarrows",8650],["\\vartriangle",9651],["\\triangleq",8796],["\\vartriangleleft",8882],["\\trianglelefteq",8884],["\\ntriangleleft",8938],["\\ntrianglelefteq",8940],["\\vartriangleright",8883],["\\trianglerighteq",8885],["\\ntriangleright",8939],["\\ntrianglerighteq",8941],["\\blacktriangleleft",9664],["\\blacktriangleright",9654],["\\leftarrowtail",8610],["\\rightarrowtail",8611],["\\looparrowright",8620],["\\looparrowleft",8619],["\\twoheadleftarrow",8606],["\\twoheadrightarrow",8608],["\\rightleftharpoons",8652],["\\leftrightharpoons",8651],["\\Rsh",8625],["\\Lsh",8624],["\\circlearrowright",8635],["\\circlearrowleft",8634],["\\restriction",8638],["\\upharpoonright",8638],["\\upharpoonleft",8639],["\\downharpoonright",8642],["\\downharpoonleft",8643],["\\rightsquigarrow",8669],["\\leadsto",8669],["\\leftrightsquigarrow",8621],["\\multimap",8888],["\\nrightarrow",8603],["\\nleftarrow",8602],["\\nRightarrow",8655],["\\nLeftarrow",8653],["\\nleftrightarrow",8622],["\\nLeftrightarrow",8654],["\\shortparallel",8741],["\\nless",8814],["\\nleqslant",57360],["\\lneq",10887],["\\lneqq",8808],["\\nleqq",57361],["\\lvertneqq",57356],["\\lnsim",8934],["\\lnapprox",10889],["\\nprec",8832],["\\npreceq",8928],["\\precnsim",8936],["\\precnapprox",10937],["\\nsim",8769],["\\nshortmid",57350],["\\nmid",8740],["\\nvdash",8876],["\\nvDash",8877],["\\ngtr",8815],["\\ngeqslant",57359],["\\ngeqq",57358],["\\gneq",10888],["\\gneqq",8809],["\\gvertneqq",57357],["\\gnsim",8935],["\\gnapprox",10890],["\\nsucc",8833],["\\nsucceq",8929],["\\succnsim",8937],["\\succnapprox",10938],["\\ncong",8774],["\\nshortparallel",57351],["\\nparallel",8742],["\\nVDash",8879],["\\nsupseteqq",57368],["\\supsetneq",8843],["\\varsupsetneq",57371],["\\supsetneqq",10956],["\\varsupsetneqq",57369],["\\nVdash",8878],["\\precneqq",10933],["\\succneqq",10934],["\\nsubseteqq",57366],["\\leqslant",10877],["\\geqslant",10878],["\\gtrsim",8819],["\\approxeq",8778],["\\thickapprox",8776],["\\lessapprox",10885],["\\gtrapprox",10886],["\\precapprox",10935],["\\succapprox",10936],["\\thicksim",8764],["\\succsim",8831],["\\precsim",8830],["\\backsim",8765],["\\eqsim",8770],["\\backsimeq",8909],["\\lesssim",8818],["\\nleq",8816],["\\ngeq",8817],["\\smallsmile",8995],["\\smallfrown",8994],["\\leqq",8806],["\\eqslantless",10901],["\\lll",8920],["\\lessgtr",8822],["\\lesseqgtr",8922],["\\lesseqqgtr",10891],["\\risingdotseq",8787],["\\fallingdotseq",8786],["\\subseteqq",10949],["\\Subset",8912],["\\sqsubset",8847],["\\preccurlyeq",8828],["\\curlyeqprec",8926],["\\vDash",8872],["\\Vvdash",8874],["\\bumpeq",8783],["\\Bumpeq",8782],["\\geqq",8807],["\\eqslantgtr",10902],["\\ggg",8921],["\\gtrless",8823],["\\gtreqless",8923],["\\gtreqqless",10892],["\\supseteqq",10950],["\\Supset",8913],["\\sqsupset",8848],["\\succcurlyeq",8829],["\\curlyeqsucc",8927],["\\Vdash",8873],["\\shortmid",8739],["\\between",8812],["\\pitchfork",8916],["\\varpropto",8733],["\\backepsilon",8717],["\\llless",8920],["\\gggtr",8921],["\\doteqdot",8785],["\\Doteq",8785],["\\eqcirc",8790],["\\circeq",8791],["\\therefore",8756],["\\because",8757]],"mrel","ams"),Fe([["+",43],["-",8722],["â",8722],["\\pm",177],["\\mp",8723],["*",8727],["\\times",215],["\\div",247],["\\divides",8739],["\\cdot",8901],["\\cap",8745],["\\cup",8746],["\\setminus",8726],["\\land",8743],["\\wedge",8743],["\\lor",8744],["\\vee",8744],["\\circ",8728],["\\bigcirc",9711],["\\bullet",8729],["\\oplus",8853],["\\ominus",8854],["\\otimes",8855],["\\odot",8857],["\\oslash",8856],["\\bigtriangleup",9651],["\\bigtriangledown",9661],["\\triangleleft",9667],["\\triangleright",9657],["\\And",38],["\\dagger",8224],["\\dag",8224],["\\ddag",8225],["\\ddagger",8225],["\\ast",8727],["\\star",8902],["\\bigstar",9733],["\\diamond",8900]],"mbin"),Fe([["\\lhd",8882],["\\rhd",8883],["\\lessdot",8918],["\\gtrdot",8919],["\\ltimes",8905],["\\rtimes",8906],["\\leftthreetimes",8907],["\\rightthreetimes",8908],["\\intercal",8890],["\\dotplus",8724],["\\doublebarwedge",10846],["\\divideontimes",8903],["\\centerdot",8901],["\\smallsetminus",8726],["\\barwedge",8892],["\\veebar",8891],["\\nor",8891],["\\curlywedge",8911],["\\curlyvee",8910],["\\boxminus",8863],["\\boxplus",8862],["\\boxtimes",8864],["\\boxdot",8865],["\\circleddash",8861],["\\circledast",8859],["\\circledcirc",8858],["\\unlhd",8884],["\\unrhd",8885]],"mbin","ams"),Fe([["\\surd",8730],["\\infty",8734],["\\prime",8242],["\\doubleprime",8243],["\\angle",8736],["`",8216],["\\$",36],["\\%",37],["\\_",95],["\\alpha",945],["\\beta",946],["\\gamma",947],["\\delta",948],["\\epsilon",1013],["\\varepsilon",949],["\\zeta",950],["\\eta",951],["\\theta",952],["\\vartheta",977],["\\iota",953],["\\kappa",954],["\\varkappa",1008,"mord","ams"],["\\lambda",955],["\\mu",956],["\\nu",957],["\\xi",958],["\\omicron",111],["\\pi",960],["\\varpi",982],["\\rho",961],["\\varrho",1009],["\\sigma",963],["\\varsigma",962],["\\tau",964],["\\phi",981],["\\varphi",966],["\\upsilon",965],["\\chi",967],["\\psi",968],["\\omega",969],["\\Gamma",915],["\\Delta",916],["\\Theta",920],["\\Lambda",923],["\\Xi",926],["\\Pi",928],["\\Sigma",931],["\\Upsilon",933],["\\Phi",934],["\\Psi",936],["\\Omega",937],["\\digamma",989,"mord","ams"],["\\emptyset",8709]]),Fe([["=",61],["<",60],["\\lt",60],[">",62],["\\gt",62],["\\le",8804],["\\leq",8804],["\\ge",8805],["\\geq",8805],["\\ll",8810],["\\gg",8811],["\\coloneq",8788],["\\measeq",8797],["\\eqdef",8798],["\\questeq",8799],[":",58],["\\cong",8773],["\\equiv",8801],["\\prec",8826],["\\preceq",10927],["\\succ",8827],["\\succeq",10928],["\\perp",8869],["\\propto",8733],["\\Colon",8759],["\\smile",8995],["\\frown",8994],["\\sim",8764],["\\doteq",8784],["\\bowtie",8904],["\\Join",8904],["\\asymp",8781],["\\sqsubseteq",8849],["\\sqsupseteq",8850],["\\approx",8776],["\\~",126],["\\leftrightarrow",8596],["\\Leftrightarrow",8660],["\\models",8872],["\\vdash",8866],["\\dashv",8867],["\\roundimplies",10608],["\\in",8712],["\\notin",8713],["\\ni",8715],["\\owns",8715],["\\subset",8834],["\\supset",8835],["\\subseteq",8838],["\\supseteq",8839],["\\differencedelta",8710],["\\mvert",8739],["\\parallel",8741],["\\simeq",8771]],"mrel"),Fe([["\\lnot",172],["\\neg",172],["\\triangle",9651],["\\subsetneq",8842],["\\varsubsetneq",57370],["\\subsetneqq",10955],["\\varsubsetneqq",57367],["\\nsubset",8836],["\\nsupset",8837],["\\nsubseteq",8840],["\\nsupseteq",8841]],"mrel","ams"),Fe([["\\wp",8472],["\\aleph",8501]]),Fe([["\\blacktriangle",9650],["\\hslash",8463],["\\Finv",8498],["\\Game",8513],["\\eth",240],["\\mho",8487],["\\Bbbk",107],["\\yen",165],["\\square",9633],["\\Box",9633],["\\blacksquare",9632],["\\circledS",9416],["\\circledR",174],["\\triangledown",9661],["\\blacktriangledown",9660],["\\checkmark",10003],["\\diagup",9585],["\\measuredangle",8737],["\\sphericalangle",8738],["\\backprime",8245],["\\backdoubleprime",8246],["\\Diamond",9674],["\\lozenge",9674],["\\blacklozenge",10731],["\\varnothing",8709],["\\complement",8705],["\\maltese",10016],["\\beth",8502],["\\daleth",8504],["\\gimel",8503]],"mord","ams"),Fe([["\\ ",160],["~",160],["\\space",160]],"space"),Ye(["!",",",":",";","enskip","enspace","quad","qquad"],"",{createAtom:(e,t,n)=>new ct(e,n)}),Fe([["\\colon",58],["\\cdotp",8901],["\\vdots",8942,"mord"],["\\ldotp",46],[",",44],[";",59]],"mpunct"),Fe([["\\cdots",8943],["\\ddots",8945],["\\ldots",8230],["\\mathellipsis",8230]],"minner"),Fe([["\\/",47],["|",8739,"mord"],["\\imath",305],["\\jmath",567],["\\degree",176],["'",8242],['"',8221]]);const ln=(null===(on=null===(rn=null===globalThis||void 0===globalThis?void 0:globalThis.document)||void 0===rn?void 0:rn.currentScript)||void 0===on?void 0:on.src)||function(){const e=String((new Error).stack).replace(/^Error.*\n/,"").split("\n");if(0===e.length)return"";let t=e[1],n=t.match(/http.*\.ts[\?:]/);return n&&(t=e[2]),n=t.match(/(http.*(\.mjs|\.js))[\?:]/),n||(n=t.match(/at (.*(\.ts))[\?:]/),n||(n=t.match(/at (.*(\.mjs|\.js))[\?:]/))),n?n[1]:""}();async function cn(e,t){var n;if(Se()&&!document.body.classList.contains("ML__fonts-loading")&&(null===(n=getComputedStyle(document.documentElement).getPropertyValue("--ML__static-fonts"))||void 0===n||!n)&&"fonts"in document){const n=["KaTeX_Main","KaTeX_Math","KaTeX_AMS","KaTeX_Caligraphic","KaTeX_Fraktur","KaTeX_SansSerif","KaTeX_Script","KaTeX_Size1","KaTeX_Size2","KaTeX_Size3","KaTeX_Size4"];let i=!1;if(Se()&&!/firefox|safari/i.test(navigator.userAgent))try{i=n.every(e=>document.fonts.check("16px "+e))}catch{i=!1}if(i)return;const r=sn(null!=e?e:"./fonts");if(!r)return;document.body.classList.add("ML__fonts-loading");const o=[["KaTeX_Main-Regular"],["KaTeX_Main-BoldItalic",{style:"italic",weight:"bold"}],["KaTeX_Main-Bold",{weight:"bold"}],["KaTeX_Main-Italic",{style:"italic"}],["KaTeX_Math-Italic",{style:"italic"}],["KaTeX_Math-BoldItalic",{style:"italic",weight:"bold"}],["KaTeX_AMS-Regular"],["KaTeX_Caligraphic-Regular"],["KaTeX_Caligraphic-Bold",{weight:"bold"}],["KaTeX_Fraktur-Regular"],["KaTeX_Fraktur-Bold",{weight:"bold"}],["KaTeX_SansSerif-Regular",{style:"italic"}],["KaTeX_SansSerif-Bold",{weight:"bold"}],["KaTeX_SansSerif-Italic",{style:"italic"}],["KaTeX_Script-Regular"],["KaTeX_Typewriter-Regular"],["KaTeX_Size1-Regular"],["KaTeX_Size2-Regular"],["KaTeX_Size3-Regular"],["KaTeX_Size4-Regular"]].map(e=>function(e,t,n={}){return new FontFace(e,`url(${t}.woff2) format('woff2')`,n)}(e[0].replace(/-[a-zA-Z]+$/,""),r+"/"+e[0],e[1]));try{(await Promise.all(o.map(e=>{try{return e.load()}catch{}}))).forEach(e=>document.fonts.add(e))}catch(e){"function"==typeof t&&t({code:"font-not-found",arg:e})}document.body.classList.remove("ML__fonts-loading")}}function un(e,t,n){var i,r;if(Me(),!t)return null;let o=null!==(i=null==e?void 0:e.getRootNode())&&void 0!==i?i:null===document||void 0===document?void 0:document.head;if(!o)return null;o===document&&(o=document.head);const a=o.querySelector(`style[data-id="${n}"]`);if(a){const e=Number.parseFloat(null!==(r=a.getAttribute("data-refcount"))&&void 0!==r?r:"0");a.dataset.refcount=Number(e+1).toString()}else{const e=document.createElement("style");e.dataset.id=n,e.dataset.refcount="1",e.append(document.createTextNode(t)),o.appendChild(e)}return{release:()=>{var e;const t=document.head.querySelector(`style[data-id="${n}"]`);if(t){const n=Number.parseFloat(null!==(e=t.getAttribute("data-refcount"))&&void 0!==e?e:"0");1===n?t.remove():t.dataset.refcount=Number(n-1).toString()}}}}var dn='.ML__sr-only{clip:rect(0,0,0,0);border:0;height:1px;overflow:hidden;padding:0;position:absolute;white-space:nowrap;width:1px}.ML__base,.ML__isInline{display:inline-block}.ML__base{border:0;box-sizing:content-box;cursor:text;font-family:inherit;font-style:inherit;font-weight:inherit;margin:0;outline:0;padding:0;position:relative;text-decoration:none;vertical-align:baseline;visibility:inherit;width:-webkit-min-content;width:-moz-min-content;width:min-content}body.ML__fonts-loading .ML__base{visibility:hidden}.ML__strut,.ML__strut--bottom{display:inline-block;min-height:.5em}.ML__small-delim{font-family:KaTeX_Main}.ML__text{font-family:var(--text-font-family,system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI","Roboto","Oxygen","Ubuntu","Cantarell","Fira Sans","Droid Sans","Helvetica Neue",sans-serif);white-space:pre}.ML__cmr{font-family:KaTeX_Main;font-style:normal}.ML__mathit{font-family:KaTeX_Math;font-style:italic}.ML__mathbf{font-family:KaTeX_Main;font-weight:700}.lcGreek.ML__mathbf{font-family:KaTeX_Math;font-weight:400}.ML__mathbfit{font-family:KaTeX_Math;font-style:italic;font-weight:700}.ML__ams,.ML__bb{font-family:KaTeX_AMS}.ML__cal{font-family:KaTeX_Caligraphic}.ML__frak{font-family:KaTeX_Fraktur}.ML__tt{font-family:KaTeX_Typewriter}.ML__script{font-family:KaTeX_Script}.ML__sans{font-family:KaTeX_SansSerif}.ML__series_el,.ML__series_ul{font-weight:100}.ML__series_l{font-weight:200}.ML__series_sl{font-weight:300}.ML__series_sb{font-weight:500}.ML__bold,.ML__boldsymbol{font-weight:700}.ML__series_eb{font-weight:800}.ML__series_ub{font-weight:900}.ML__series_uc{font-stretch:ultra-condensed}.ML__series_ec{font-stretch:extra-condensed}.ML__series_c{font-stretch:condensed}.ML__series_sc{font-stretch:semi-condensed}.ML__series_sx{font-stretch:semi-expanded}.ML__series_x{font-stretch:expanded}.ML__series_ex{font-stretch:extra-expanded}.ML__series_ux{font-stretch:ultra-expanded}.ML__it{font-style:italic}.ML__shape_ol{-webkit-text-stroke:1px #000;text-stroke:1px #000;color:transparent}.ML__shape_sc{font-variant:small-caps}.ML__shape_sl{font-style:oblique}.ML__emph{color:#bc2612}.ML__emph .ML__emph{color:#0c7f99}.ML__highlight{background:#edd1b0;color:#007cb2}.ML__center{text-align:center}.ML__frac-line{min-height:1px;width:100%}.ML__frac-line:after{background:currentColor;box-sizing:content-box;content:"";display:block;margin-top:-.04em;min-height:.04em;transform:translate(0)}.ML__sqrt,.ML__sqrt-sign{display:inline-block}.ML__sqrt-sign{font-family:KaTeX_Main;position:relative}.ML__sqrt-line{display:inline-block;height:.04em;width:100%}.ML__sqrt-line:before{background:currentColor;content:"";display:block;margin-top:-.04em;min-height:.04em}.ML__sqrt-line:after{border-bottom-width:1px;content:" ";display:block;margin-top:-.1em;transform:translate(0)}.ML__sqrt-index{margin-left:.27777778em;margin-right:-.55555556em}.ML__delim-size1{font-family:KaTeX_Size1}.ML__delim-size2{font-family:KaTeX_Size2}.ML__delim-size3{font-family:KaTeX_Size3}.ML__delim-size4{font-family:KaTeX_Size4}.ML__delim-mult .delim-size1>span{font-family:KaTeX_Size1}.ML__delim-mult .delim-size4>span{font-family:KaTeX_Size4}.ML__accent-body>span{font-family:KaTeX_Main;width:0}.ML__accent-vec>span{left:.38em;position:relative}.ML__mathlive{text-rendering:auto;word-wrap:normal;direction:ltr;display:inline-block;font-family:KaTeX_Main;font-size-adjust:none;font-stretch:normal;font-style:normal;font-variant-caps:normal;letter-spacing:normal;text-align:left;text-indent:0;text-shadow:none;transform:translateZ(0);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;white-space:nowrap;width:-webkit-min-content;width:-moz-min-content;width:min-content;word-spacing:normal}.ML__mathlive .style-wrap{position:relative}.ML__mathlive .left-right,.ML__mathlive .mfrac{display:inline-block}.ML__mathlive .vlist-t{border-collapse:collapse;display:inline-table;table-layout:fixed}.ML__mathlive .vlist-r{display:table-row}.ML__mathlive .vlist{display:table-cell;position:relative;vertical-align:bottom}.ML__mathlive .vlist>span{display:block;height:0;position:relative}.ML__mathlive .vlist>span>span{display:inline-block}.ML__mathlive .vlist>span>.pstrut{overflow:hidden;width:0}.ML__mathlive .vlist-t2{margin-right:-2px}.ML__mathlive .vlist-s{display:table-cell;font-size:1px;min-width:2px;vertical-align:bottom;width:2px}.ML__mathlive .msubsup{text-align:left}.ML__mathlive .negativethinspace{display:inline-block;margin-left:-.16667em}.ML__mathlive .thinspace{display:inline-block;width:.16667em}.ML__mathlive .mediumspace{display:inline-block;width:.22222em}.ML__mathlive .thickspace{display:inline-block;width:.27778em}.ML__mathlive .enspace{display:inline-block;width:.5em}.ML__mathlive .quad{display:inline-block;width:1em}.ML__mathlive .qquad{display:inline-block;width:2em}.ML__mathlive .llap,.ML__mathlive .rlap{display:inline-block;position:relative;width:0}.ML__mathlive .llap>.inner,.ML__mathlive .rlap>.inner{position:absolute}.ML__mathlive .llap>.fix,.ML__mathlive .rlap>.fix{display:inline-block}.ML__mathlive .llap>.inner{right:0}.ML__mathlive .rlap>.inner{left:0}.ML__mathlive .rule{border:0 solid;box-sizing:border-box;display:inline-block;position:relative}.ML__mathlive .overline .overline-line,.ML__mathlive .underline .underline-line{width:100%}.ML__mathlive .overline .overline-line:before,.ML__mathlive .underline .underline-line:before{border-bottom-style:solid;border-bottom-width:.04em;content:"";display:block}.ML__mathlive .overline .overline-line:after,.ML__mathlive .underline .underline-line:after{border-bottom-style:solid;border-bottom-width:.04em;content:"";display:block;margin-top:-1px;min-height:thin}.ML__mathlive .stretchy{display:block;left:0;overflow:hidden;position:absolute;width:100%}.ML__mathlive .stretchy:after,.ML__mathlive .stretchy:before{content:""}.ML__mathlive .stretchy svg{fill:currentColor;stroke:currentColor;fill-rule:nonzero;fill-opacity:1;stroke-width:1;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;display:block;height:inherit;position:absolute;width:100%}.ML__mathlive .slice-1-of-2{left:0}.ML__mathlive .slice-1-of-2,.ML__mathlive .slice-2-of-2{display:inline-flex;overflow:hidden;position:absolute;width:50.2%}.ML__mathlive .slice-2-of-2{right:0}.ML__mathlive .slice-1-of-3{display:inline-flex;left:0;overflow:hidden;position:absolute;width:25.1%}.ML__mathlive .slice-2-of-3{display:inline-flex;left:25%;overflow:hidden;position:absolute;width:50%}.ML__mathlive .slice-3-of-3{display:inline-flex;overflow:hidden;position:absolute;right:0;width:25.1%}.ML__mathlive .slice-1-of-1{display:inline-flex;left:0;overflow:hidden;position:absolute;width:100%}.ML__mathlive .nulldelimiter{display:inline-block;width:.12em}.ML__mathlive .op-group{display:inline-block}.ML__mathlive .op-symbol{position:relative}.ML__mathlive .op-symbol.small-op{font-family:KaTeX_Size1}.ML__mathlive .op-symbol.large-op{font-family:KaTeX_Size2}.ML__mathlive .accent>.vlist>span{text-align:center}.ML__mathlive .mtable .vertical-separator{box-sizing:border-box;display:inline-block;min-width:1px}.ML__mathlive .mtable .arraycolsep{display:inline-block}.ML__mathlive .mtable .col-align-m>.vlist-t{text-align:center}.ML__mathlive .mtable .col-align-c>.vlist-t{text-align:center}.ML__mathlive .mtable .col-align-l>.vlist-t{text-align:left}.ML__mathlive .mtable .col-align-r>.vlist-t{text-align:right}.ML__error{background-image:radial-gradient(ellipse at center,#cc0041,transparent 70%);background-position:0 98%;background-repeat:repeat-x;background-size:3px 3px}.ML__composition{background:#fff1c2;color:#000;-webkit-text-decoration:underline var(--caret,hsl(var(--hue,212),40%,49%));text-decoration:underline var(--caret,hsl(var(--hue,212),40%,49%))}@media (prefers-color-scheme:dark){.ML__composition{background:#69571c;color:#fff}}.ML__placeholder{color:var(--caret,hsl(var(--hue,212),40%,49%));font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;padding-left:.4ex;padding-right:.4ex}';const hn={"%":"\\%","''":{mode:"math",value:"^{\\doubleprime}"},alpha:"\\alpha",delta:"\\delta",Delta:"\\Delta",pi:{mode:"math",value:"\\pi"},"pi ":{mode:"text",value:"\\pi "},Pi:{mode:"math",value:"\\Pi"},theta:"\\theta",Theta:"\\Theta",ii:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\imaginaryI"},jj:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\imaginaryJ"},ee:{mode:"math",after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\exponentialE"},nabla:{mode:"math",value:"\\nabla"},grad:{mode:"math",value:"\\nabla"},del:{mode:"math",value:"\\partial"},infty:{mode:"math",value:"\\infty"},"â":"\\infty",oo:{mode:"math",after:"nothing+digit+frac+surd+binop+relop+punct+array+openfence+closefence+space",value:"\\infty"},"â":{mode:"math",value:"\\sum"},sum:{mode:"math",value:"\\sum_{#?}^{#?}"},int:{mode:"math",value:"\\int_{#?}^{#?}"},prod:{mode:"math",value:"\\prod_{#?}^{#?}"},sqrt:{mode:"math",value:"\\sqrt{#?}"},"â":{mode:"math",value:"\\differentialD"},"â":{mode:"math",value:"\\differentialD"},arcsin:{mode:"math",value:"\\arcsin"},arccos:{mode:"math",value:"\\arccos"},arctan:{mode:"math",value:"\\arctan"},sin:{mode:"math",value:"\\sin"},sinh:{mode:"math",value:"\\sinh"},cos:{mode:"math",value:"\\cos"},cosh:{mode:"math",value:"\\cosh"},tan:{mode:"math",value:"\\tan"},tanh:{mode:"math",value:"\\tanh"},sec:{mode:"math",value:"\\sec"},csc:{mode:"math",value:"\\csc"},cot:{mode:"math",value:"\\cot"},log:{mode:"math",value:"\\log"},ln:{mode:"math",value:"\\ln"},exp:{mode:"math",value:"\\exp"},lim:{mode:"math",value:"\\lim_{#?}"},dx:{mode:"math",after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\differentialD x"},dy:{mode:"math",after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\differentialD y"},dt:{mode:"math",after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\differentialD t"},AA:{mode:"math",value:"\\forall"},EE:{mode:"math",value:"\\exists"},"!EE":{mode:"math",value:"\\nexists"},"&&":{mode:"math",value:"\\land"},xin:{mode:"math",after:"nothing+text+relop+punct+openfence+space",value:"x \\in"},in:{mode:"math",after:"nothing+letter+closefence",value:"\\in"},"!in":{mode:"math",value:"\\notin"},NN:"\\N",ZZ:"\\Z",QQ:"\\Q",RR:"\\R",CC:"\\C",PP:"\\P",xx:{mode:"math",value:"\\times"},"+-":{mode:"math",value:"\\pm"},"!=":{mode:"math",value:"\\ne"},">=":{mode:"math",value:"\\ge"},"<=":{mode:"math",value:"\\le"},"<<":{mode:"math",value:"\\ll"},">>":{mode:"math",value:"\\gg"},"~~":{mode:"math",value:"\\approx"},"â":{mode:"math",value:"\\approx"},"?=":{mode:"math",value:"\\questeq"},"Ã·":{mode:"math",value:"\\div"},"Â¬":{mode:"math",value:"\\neg"},":=":{mode:"math",value:"\\coloneq"},"::":{mode:"math",value:"\\Colon"},"(:":{mode:"math",value:"\\langle"},":)":{mode:"math",value:"\\rangle"},beta:"\\beta",chi:"\\chi",epsilon:"\\epsilon",varepsilon:"\\varepsilon",eta:{mode:"math",after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\eta"},"eta ":{mode:"text",after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\eta "},gamma:"\\gamma",Gamma:"\\Gamma",iota:"\\iota",kappa:"\\kappa",lambda:"\\lambda",Lambda:"\\Lambda",mu:{mode:"math",after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\mu"},"mu ":{mode:"text",after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\mu "},nu:{mode:"math",after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\nu"},"nu ":{mode:"text",after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\nu "},"Âµ":"\\mu",phi:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\phi"},Phi:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\Phi"},varphi:"\\varphi",psi:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\psi"},Psi:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\Psi"},rho:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\rho"},sigma:"\\sigma",Sigma:"\\Sigma",tau:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\tau"},vartheta:"\\vartheta",upsilon:"\\upsilon",xi:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\xi"},Xi:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\Xi"},zeta:"\\zeta",omega:"\\omega",Omega:"\\Omega","Î©":"\\omega",forall:{mode:"math",value:"\\forall"},exists:{mode:"math",value:"\\exists"},"!exists":{mode:"math",value:"\\nexists"},":.":{mode:"math",value:"\\therefore"},liminf:"\\operatorname*{lim~inf}_{#?}",limsup:"\\operatorname*{lim~sup}_{#?}",argmin:"\\operatorname*{arg~min}_{#?}",argmax:"\\operatorname*{arg~max}_{#?}",det:"\\det",mod:{mode:"math",value:"\\mod"},max:{mode:"math",value:"\\max"},min:{mode:"math",value:"\\min"},erf:"\\operatorname{erf}",erfc:"\\operatorname{erfc}",bessel:{mode:"math",value:"\\operatorname{bessel}"},mean:{mode:"math",value:"\\operatorname{mean}"},median:{mode:"math",value:"\\operatorname{median}"},fft:{mode:"math",value:"\\operatorname{fft}"},lcm:{mode:"math",value:"\\operatorname{lcm}"},gcd:{mode:"math",value:"\\operatorname{gcd}"},randomReal:"\\operatorname{randomReal}",randomInteger:"\\operatorname{randomInteger}",Re:{mode:"math",value:"\\operatorname{Re}"},Im:{mode:"math",value:"\\operatorname{Im}"},mm:{mode:"math",after:"nothing+digit+operator",value:"\\operatorname{mm}"},cm:{mode:"math",after:"nothing+digit+operator",value:"\\operatorname{cm}"},km:{mode:"math",after:"nothing+digit+operator",value:"\\operatorname{km}"},kg:{mode:"math",after:"nothing+digit+operator",value:"\\operatorname{kg}"},"...":"\\ldots","+...":"+\\cdots","-...":"-\\cdots","->...":"\\to\\cdots","->":"\\to","|->":"\\mapsto","--\x3e":"\\longrightarrow","<--":"\\longleftarrow","=>":"\\Rightarrow","==>":"\\Longrightarrow","<=>":"\\Leftrightarrow","<->":"\\leftrightarrow","(.)":"\\odot","(+)":"\\oplus","(/)":"\\oslash","(*)":"\\otimes","(-)":"\\ominus","||":"\\Vert","{":"\\{","}":"\\}","*":"\\cdot"};function pn(e,t,n){var i;return function(e,t){if(!t)return"";if("string"==typeof t)return t;if(!e)return t.value;let n=!1,i=!1,r=!1,o=!1,a=!1,s=!1,l=!1,c=!1,u=!1,d=!1,h=!1,p=!1,f=!1,m=!1,g=!1,y=e[e.length-1],v=e.length-1;for(;y&&/msubsup|placeholder/.test(y.type);)v-=1,y=e[v];if(n=!y||"first"===y.type,y){if(void 0!==t.mode&&y.mode!==t.mode)return"";m="text"===y.mode,i=!m&&"mord"===y.type&&je.test(y.value),r=!m&&"mord"===y.type&&/\d+$/.test(y.value),o=!m&&y.isFunction,a="genfrac"===y.type,s="surd"===y.type,l="mbin"===y.type,c="mrel"===y.type,u="mop"===y.type,d="mpunct"===y.type||"minner"===y.type,h="array"===y.type,p="mopen"===y.type,f="mclose"===y.type||"leftright"===y.type,g="space"===y.type}return void 0!==t.after?t.after.includes("nothing")&&n||t.after.includes("letter")&&i||t.after.includes("digit")&&r||t.after.includes("function")&&o||t.after.includes("frac")&&a||t.after.includes("surd")&&s||t.after.includes("binop")&&l||t.after.includes("relop")&&c||t.after.includes("operator")&&u||t.after.includes("punct")&&d||t.after.includes("array")&&h||t.after.includes("openfence")&&p||t.after.includes("closefence")&&f||t.after.includes("text")&&m||t.after.includes("space")&&g?t.value:"":t.value}(e,null!==(i=null==n?void 0:n[t])&&void 0!==i?i:hn[t])}function fn(e,t){let n;return[n,e]=function(e){if(!(e=e.trim()))return["latex",""];if(e.length<=1)return["latex",e];let t;return e=e.replace(/\\\\([^\s\n])/g,"\\$1"),[t,e]=bn(e),t?["latex",e]:e.startsWith("`")&&e.endsWith("`")?["ascii-math",e=e.substring(1,e.length-1)]:e.includes("\\")?["latex",e]:/\$(.+)\$/.test(e)?["latex",`\\text{${e}}`]:[void 0,e]}(e),"latex"===n?["latex",e]:(n="ascii-math",[n,mn(e=(e=(e=(e=(e=(e=e.replace(/\u2061/gu,"")).replace(/\u3016/gu,"{")).replace(/\u3017/gu,"}")).replace(/([^\\])sinx/g,"$1\\sin x")).replace(/([^\\])cosx/g,"$1\\cos x ")).replace(/\u2013/g,"-"),{...null!=t?t:{},format:n})])}function mn(e,t){var n,i,r,o,a,s,l,c,u;if(!e)return"";let d,h=!1;if(h||!e.startsWith("^")&&!e.startsWith("_")||(d=gn(e.slice(1),{inlineShortcuts:null!==(n=null==t?void 0:t.inlineShortcuts)&&void 0!==n?n:{},noWrap:!0}),e=e[0]+"{"+d.match+"}",e+=mn(d.rest,t),h=!0),!h&&(d=e.match(/^(sqrt|\u221A)(.*)/),d)&&(d=gn(d[2],{inlineShortcuts:null!==(i=null==t?void 0:t.inlineShortcuts)&&void 0!==i?i:{},noWrap:!0}),e="\\sqrt{"+(null!==(r=d.match)&&void 0!==r?r:"\\placeholder{}")+"}",e+=mn(d.rest,t),h=!0),!h&&(d=e.match(/^(\\cbrt|\u221B)(.*)/),d)&&(d=gn(d[2],{inlineShortcuts:null!==(o=null==t?void 0:t.inlineShortcuts)&&void 0!==o?o:{},noWrap:!0}),e="\\sqrt[3]{"+(null!==(a=d.match)&&void 0!==a?a:"\\placeholder{}")+"}",e+=mn(d.rest,t),h=!0),h||(d=e.match(/^abs(.*)/),d&&(d=gn(d[1],{inlineShortcuts:null!==(s=null==t?void 0:t.inlineShortcuts)&&void 0!==s?s:{},noWrap:!0}),e="\\left|"+d.match+"\\right|",e+=mn(d.rest,t),h=!0)),h||(d=e.match(/^["\u201d\u201c](.*?)["\u201d\u201c](.*)/),d&&(e="\\text{"+d[1]+"}",e+=mn(d[2],t),h=!0)),h||(d=e.match(/^([^a-zA-Z({[_^\\\s"]+)(.*)/),d&&(e=yn(d[1],t),e+=mn(d[2],t),h=!0)),!h&&/^([fgh])[^a-zA-Z]/.test(e)&&(d=gn(e.slice(1),{inlineShortcuts:null!==(l=t.inlineShortcuts)&&void 0!==l?l:{},noWrap:!0}),e="("===e[1]?e[0]+"\\mleft("+d.match+"\\mright)":e[0]+d.match,e+=mn(d.rest,t),h=!0),h||(d=e.match(/^([a-zA-Z]+)(.*)/),d&&(e=yn(d[1],t),e+=mn(d[2],t),h=!0)),!h)if(d=gn(e,{inlineShortcuts:null!==(c=t.inlineShortcuts)&&void 0!==c?c:{},noWrap:!0}),d.match&&"/"===d.rest[0]){const n=gn(d.rest.slice(1),{inlineShortcuts:null!==(u=t.inlineShortcuts)&&void 0!==u?u:{},noWrap:!0});n.match&&(e="\\frac{"+d.match+"}{"+n.match+"}"+mn(n.rest,t)),h=!0}else d.match&&(e=e.startsWith("(")?"\\left("+d.match+"\\right)"+mn(d.rest,t):d.match+mn(d.rest,t),h=!0);return h||(d=e.match(/^(\s+)(.*)$/),d&&(e=" "+mn(d[2],t),h=!0)),e}function gn(e,t){let n="",i=e=e.trim(),r=e.charAt(0),o={"(":")","{":"}","[":"]"}[r];if(o){let a=1,s=1;for(;s<e.length&&a>0;)e[s]===r&&a++,e[s]===o&&a--,s++;0===a?(t.noWrap&&"("===r?n=mn(e.substring(1,s-1),t):("{"===r&&"}"===o&&(r="\\{",o="\\}"),n="\\left"+r+mn(e.substring(1,s-1),t)+"\\right"+o),i=e.slice(Math.max(0,s))):(n=e.substring(1,s),i="")}else{let r=e.match(/^([a-zA-Z]+)/);if(r){let n=pn(null,e,t.inlineShortcuts);if(n)return n=n.replace("_{#?}",""),n=n.replace("^{#?}",""),{match:n,rest:e.slice(n.length)}}if(r=e.match(/^([a-zA-Z])/),r)return{match:r[1],rest:e.slice(1)};if(r=e.match(/^(-)?\d+(\.\d*)?/),r)return{match:r[0],rest:e.slice(r[0].length)};/^\\(left|right)/.test(e)||(r=e.match(/^(\\[a-zA-Z]+)/),r&&(i=e.slice(r[1].length),n=r[1]))}return{match:n,rest:i}}function yn(e,t){let n=pn(null,e,t);return n?(n=n.replace("_{#?}",""),n=n.replace("^{#?}",""),n+=" "):n=e,n}const vn=[["\\[","\\]"],["\\(","\\)"],["$$","$$"],["$","$"],["\\begin{math}","\\end{math}"],["\\begin{displaymath}","\\end{displaymath}"],["\\begin{equation}","\\end{equation}"],["\\begin{equation*}","\\end{equation*}"]];function bn(e){const t=e.trim();for(const n of vn)if(t.startsWith(n[0])&&t.endsWith(n[1]))return[!0,t.substring(n[0].length,t.length-n[1].length)];return[!1,e]}function _n(e){let t=0;if(0===e.length)return t;for(let n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t&=t;return Math.abs(t)}const xn=[{key:"left",command:"moveToPreviousChar"},{key:"right",command:"moveToNextChar"},{key:"up",command:"moveUp"},{key:"down",command:"moveDown"},{key:"shift+[ArrowLeft]",command:"extendSelectionBackward"},{key:"shift+[ArrowRight]",command:"extendSelectionForward"},{key:"shift+[ArrowUp]",command:"extendSelectionUpward"},{key:"shift+[ArrowDown]",command:"extendSelectionDownward"},{key:"[Backspace]",command:"deleteBackward"},{key:"alt+[Delete]",command:"deleteBackward"},{key:"[Delete]",command:"deleteForward"},{key:"alt+[Backspace]",command:"deleteForward"},{key:"alt+[ArrowLeft]",command:"moveToPreviousWord"},{key:"alt+[ArrowRight]",command:"moveToNextWord"},{key:"shift+alt+[ArrowLeft]",command:"extendToPreviousWord"},{key:"shift+alt+[ArrowRight]",command:"extendToNextWord"},{key:"ctrl+[ArrowLeft]",command:"moveToGroupStart"},{key:"ctrl+[ArrowRight]",command:"moveToGroupEnd"},{key:"shift+ctrl+[ArrowLeft]",command:"extendToGroupStart"},{key:"shift+ctrl+[ArrowRight]",command:"extendToGroupEnd"},{key:"[Space]",ifMode:"math",command:"moveAfterParent"},{key:"shift+[Space]",ifMode:"math",command:"moveBeforeParent"},{key:"[Home]",command:"moveToMathFieldStart"},{key:"cmd+[ArrowLeft]",command:"moveToMathFieldStart"},{key:"shift+[Home]",command:"extendToMathFieldStart"},{key:"shift+cmd+[ArrowLeft]",command:"extendToMathFieldStart"},{key:"[End]",command:"moveToMathFieldEnd"},{key:"cmd+[ArrowRight]",command:"moveToMathFieldEnd"},{key:"shift+[End]",command:"extendToMathFieldEnd"},{key:"shift+cmd+[ArrowRight]",command:"extendToMathFieldEnd"},{key:"[Pageup]",command:"moveToGroupStart"},{key:"[Pagedown]",command:"moveToGroupEnd"},{key:"[Tab]",ifMode:"math",command:"moveToNextPlaceholder"},{key:"shift+[Tab]",ifMode:"math",command:"moveToPreviousPlaceholder"},{key:"[Tab]",ifMode:"text",command:"moveToNextPlaceholder"},{key:"shift+[Tab]",ifMode:"text",command:"moveToPreviousPlaceholder"},{key:"[Escape]",ifMode:"math",command:["switchMode","latex"]},{key:"[Escape]",ifMode:"text",command:["switchMode","latex"]},{key:"\\",ifMode:"math",command:["switchMode","latex","\\"]},{key:"[IntlBackslash]",ifMode:"math",command:["switchMode","latex","\\"]},{key:"[Escape]",ifMode:"latex",command:["complete","complete",{selectItem:"true"}]},{key:"[Tab]",ifMode:"latex",command:["complete","accept-suggestion"]},{key:"[Return]",ifMode:"latex",command:"complete"},{key:"[Enter]",ifMode:"latex",command:"complete"},{key:"shift+[Escape]",ifMode:"latex",command:["complete","reject"]},{key:"[ArrowDown]",ifMode:"latex",command:"nextSuggestion"},{key:"[ArrowUp]",ifMode:"latex",command:"previousSuggestion"},{key:"ctrl+a",ifPlatform:"!macos",command:"selectAll"},{key:"cmd+a",command:"selectAll"},{key:"[Cut]",command:"cutToClipboard"},{key:"[Copy]",command:"copyToClipboard"},{key:"[Paste]",command:"pasteFromClipboard"},{key:"[Clear]",command:"deleteBackward"},{key:"ctrl+z",ifPlatform:"!macos",command:"undo"},{key:"cmd+z",command:"undo"},{key:"[Undo]",command:"undo"},{key:"ctrl+y",ifPlatform:"!macos",command:"redo"},{key:"shift+cmd+y",command:"redo"},{key:"shift+ctrl+z",ifPlatform:"!macos",command:"redo"},{key:"shift+cmd+z",command:"redo"},{key:"[Redo]",command:"redo"},{key:"[EraseEof]",command:"deleteToGroupEnd"},{key:"ctrl+b",ifPlatform:"macos",command:"moveToPreviousChar"},{key:"ctrl+f",ifPlatform:"macos",command:"moveToNextChar"},{key:"ctrl+p",ifPlatform:"macos",command:"moveUp"},{key:"ctrl+n",ifPlatform:"macos",command:"moveDown"},{key:"ctrl+a",ifPlatform:"macos",command:"moveToMathFieldStart"},{key:"ctrl+e",ifPlatform:"macos",command:"moveToMathFieldEnd"},{key:"shift+ctrl+b",ifPlatform:"macos",command:"extendSelectionBackward"},{key:"shift+ctrl+f",ifPlatform:"macos",command:"extendSelectionForward"},{key:"shift+ctrl+p",ifPlatform:"macos",command:"extendSelectionUpward"},{key:"shift+ctrl+n",ifPlatform:"macos",command:"extendSelectionDownward"},{key:"shift+ctrl+a",ifPlatform:"macos",command:"extendToMathFieldStart"},{key:"shift+ctrl+e",ifPlatform:"macos",command:"extendToMathFieldEnd"},{key:"alt+ctrl+b",ifPlatform:"macos",command:"moveToPreviousWord"},{key:"alt+ctrl+f",ifPlatform:"macos",command:"moveToNextWord"},{key:"shift+alt+ctrl+b",ifPlatform:"macos",command:"extendToPreviousWord"},{key:"shift+alt+ctrl+f",ifPlatform:"macos",command:"extendToNextWord"},{key:"ctrl+h",ifPlatform:"macos",command:"deleteBackward"},{key:"ctrl+d",ifPlatform:"macos",command:"deleteForward"},{key:"ctrl+l",ifPlatform:"macos",command:"scrollIntoView"},{key:"ctrl+[Digit2]",ifMode:"math",command:["insert","$$\\sqrt{#0}$$"]},{key:"ctrl+[Digit5]",ifMode:"math",command:"moveToOpposite"},{key:"ctrl+[Digit6]",ifMode:"math",command:"moveToSuperscript"},{key:"ctrl+[Return]",ifMode:"math",command:"addRowAfter"},{key:"ctrl+[Enter]",ifMode:"math",command:"addRowAfter"},{key:"cmd+[Return]",ifMode:"math",command:"addRowAfter"},{key:"cmd+[Enter]",ifMode:"math",command:"addRowAfter"},{key:"alt+p",ifMode:"math",command:["insert","$$\\pi$$"]},{key:"alt+v",ifMode:"math",command:["insert","$$\\sqrt{#0}$$"]},{key:"alt+w",ifMode:"math",command:["insert","$$\\sum_{i=#?}^{#?}$$"]},{key:"alt+b",command:["insert","$$\\int_{#?}^{#?}$$"]},{key:"alt+u",ifMode:"math",command:["insert","$$\\cup$$"]},{key:"alt+n",ifMode:"math",command:["insert","$$\\cap$$"]},{key:"alt+o",ifMode:"math",command:["insert","$$\\emptyset$$"]},{key:"alt+d",ifMode:"math",command:["insert","$$\\differentialD$$"]},{key:"shift+alt+o",ifMode:"math",command:["insert","$$\\varnothing$$"]},{key:"shift+alt+d",ifMode:"math",command:["insert","$$\\partial$$"]},{key:"shift+alt+p",ifMode:"math",command:["insert","$$\\prod_{i=#?}^{#?}$$"]},{key:"shift+alt+u",ifMode:"math",command:["insert","$$\\bigcup$$"]},{key:"shift+alt+n",ifMode:"math",command:["insert","$$\\bigcap$$"]},{key:"shift+alt+a",ifMode:"math",command:["insert","$$\\forall$$"]},{key:"shift+alt+e",ifMode:"math",command:["insert","$$\\exists$$"]},{key:"alt+[Backslash]",ifMode:"math",command:["insert","$$\\backslash$$"]},{key:"[NumpadDivide]",ifMode:"math",command:["insert","$$\\frac{#@}{#?}$$"]},{key:"alt+[NumpadDivide]",ifMode:"math",command:["insert","\\frac{#?}{#@}"]},{key:"shift+alt+k",command:"toggleKeystrokeCaption"},{key:"alt+[Space]",command:"toggleVirtualKeyboard"},{key:"alt+ctrl+[ArrowUp]",command:["speak","all",{withHighlighting:!1}]},{key:"alt+ctrl+[ArrowDown]",command:["speak","selection",{withHighlighting:!1}]},{key:"alt+[Equal]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["applyStyle",{mode:"text"}]},{key:"alt+[Equal]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"text",command:["applyStyle",{mode:"math"}]},{key:"shift+[Quote]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["switchMode","text","","â"]},{key:"shift+[Quote]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"text",command:["switchMode","math","â",""]},{key:"/",ifMode:"math",command:["insert","$$\\frac{#@}{#?}$$"]},{key:"alt+/",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["insert","$$\\/$$"]},{key:"alt+[BracketLeft]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["insert","$$\\left\\lbrack #0 \\right\\rbrack$$"]},{key:"ctrl+[Minus]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:"moveToSubscript"},{key:"shift+alt+[BracketLeft]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["insert","$$\\left\\lbrace #0 \\right\\rbrace$$"]},{key:"ctrl+;",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:"addRowAfter"},{key:"cmd+;",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:"addRowAfter"},{key:"shift+ctrl+;",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:"addRowBefore"},{key:"shift+cmd+;",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:"addRowBefore"},{key:"ctrl+[Comma]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:"addColumnAfter"},{key:"cmd+[Comma]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:"addColumnAfter"},{key:"shift+ctrl+[Comma]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:"addColumnAfter"},{key:"shift+cmd+[Comma]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:"addColumnAfter"},{key:"alt+[Digit5]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["insert","$\\infty$$"]},{key:"alt+[Digit6]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["insert","$$\\wedge$$"]},{key:"shift+alt+[Digit6]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["insert","$$\\vee$$"]},{key:"alt+[Digit9]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["insert","("]},{key:"alt+[Digit0]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["insert",")"]},{key:"alt+|",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["insert","|"]},{key:"shift+[Backquote]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["insert","$$\\~$$"]}],kn={"\\theta":"alt+q","\\sqrt":["alt+v","ctrl+[Digit2]"],"\\pi":"alt+p","\\prod":"shift+alt+p","\\sum":"alt+w","\\int":"alt+b","\\cup":"alt+u","\\cap":"alt+n","\\bigcup":"shift+alt+u","\\bigcap":"shift+alt+n","\\forall":"shift+alt+a","\\exists":"shift+alt+e","\\infty":"alt+[Digit5]","\\wedge":"alt+[Digit5]","\\vee":"shift+alt+[Digit6]","\\differentialD":"alt+d","\\partial":"shift+alt+d","\\frac":"Slash","\\emptyset":"alt+o","\\varnothing":"shift+alt+o","\\~":"~"};function wn(e){const t=e.split("+"),n={shift:!1,alt:!1,cmd:!1,win:!1,meta:!1,ctrl:!1,key:t.pop()};return t.includes("shift")&&(n.shift=!0),t.includes("alt")&&(n.alt=!0),t.includes("ctrl")&&(n.ctrl=!0),t.includes("cmd")&&(n.cmd=!0),t.includes("win")&&(n.win=!0),t.includes("meta")&&(n.meta=!0),n}function Sn(e){let t="";return e.shift&&(t+="shift+"),e.alt&&(t+="alt+"),e.ctrl&&(t+="ctrl+"),e.cmd&&(t+="cmd+"),e.win&&(t+="win+"),e.meta&&(t+="meta+"),t+e.key}const Mn="apple"===An()?{id:"apple.en-intl",displayName:"English (international)",virtualLayout:"qwerty",platform:"apple",locale:"en",score:0,mapping:{KeyA:["a","A","Ã¥","Ã"],KeyB:["b","B","â«","Ä±"],KeyC:["c","C","Ã§","Ã"],KeyD:["d","D","â","Ã"],KeyE:["e","E","Â´","Â´"],KeyF:["f","F","Æ","Ã"],KeyG:["g","G","Â©","Ë"],KeyH:["h","H","Ë","Ã"],KeyI:["i","I","Ë","Ë"],KeyJ:["j","J","â","Ã"],KeyK:["k","K","Ë","ï£¿"],KeyL:["l","L","Â¬","Ã"],KeyM:["m","M","Âµ","Ã"],KeyN:["n","N","Ë","Ë"],KeyO:["o","O","Ã¸","Ã"],KeyP:["p","P","Ï","â"],KeyQ:["q","Q","Å","Å"],KeyR:["r","R","Â®","â°"],KeyS:["s","S","Ã","Ã"],KeyT:["t","T","â ","Ë"],KeyU:["u","U","Â¨","Â¨"],KeyV:["v","V","â","â"],KeyW:["w","W","â","â"],KeyX:["x","X","â","Ë"],KeyY:["y","Y","Â¥","Ã"],KeyZ:["z","Z","Î©","Â¸"],Digit1:["1","!","Â¡","â"],Digit2:["2","@","â¢","â¬"],Digit3:["3","#","Â£","â¹"],Digit4:["4","$","Â¢","âº"],Digit5:["5","%","â","ï¬"],Digit6:["6","^","Â§","ï¬"],Digit7:["7","&","Â¶","â¡"],Digit8:["8","*","â¢","Â°"],Digit9:["9","(","Âª","Â·"],Digit0:["0",")","Âº","â"],Space:[" "," "," "," "],Minus:["-","_","â","â"],Equal:["=","+","â ","Â±"],BracketLeft:["[","{","â","â"],BracketRight:["]","}","â","â"],Backslash:["\\","|","Â«","Â»"],Semicolon:[";",":","â¦","Ã"],Quote:["'",'"',"Ã¦","Ã"],Backquote:["`","Ë","`","`"],Comma:[",","<","â¤","Â¯"],Period:[".",">","â¥","Ë"],Slash:["/","?","Ã·","Â¿"],NumpadDivide:["/","/","/","/"],NumpadMultiply:["*","*","*","*"],NumpadSubtract:["-","-","-","-"],NumpadAdd:["+","+","+","+"],Numpad1:["1","1","1","1"],Numpad2:["2","2","2","2"],Numpad3:["3","3","3","3"],Numpad4:["4","4","4","4"],Numpad5:["5","5","5","5"],Numpad6:["6","6","6","6"],Numpad7:["7","7","7","7"],Numpad8:["8","8","8","8"],Numpad9:["9","9","9","9"],Numpad0:["0","0","0","0"],NumpadDecimal:[".",".",".","."],IntlBackslash:["Â§","Â±","Â§","Â±"],NumpadEqual:["=","=","=","="],AudioVolumeUp:["","=","","="]}}:"windows"===An()?{id:"windows.en-intl",displayName:"English (international)",platform:"windows",virtualLayout:"qwerty",locale:"en",score:0,mapping:{KeyA:["a","A","Ã¡","Ã"],KeyB:["b","B","",""],KeyC:["c","C","Â©","Â¢"],KeyD:["d","D","Ã°","Ã"],KeyE:["e","E","Ã©","Ã"],KeyF:["f","F","",""],KeyG:["g","G","",""],KeyH:["h","H","",""],KeyI:["i","I","Ã­","Ã"],KeyJ:["j","J","",""],KeyK:["k","K","",""],KeyL:["l","L","Ã¸","Ã"],KeyM:["m","M","Âµ",""],KeyN:["n","N","Ã±","Ã"],KeyO:["o","O","Ã³","Ã"],KeyP:["p","P","Ã¶","Ã"],KeyQ:["q","Q","Ã¤","Ã"],KeyR:["r","R","Â®",""],KeyS:["s","S","Ã","Â§"],KeyT:["t","T","Ã¾","Ã"],KeyU:["u","U","Ãº","Ã"],KeyV:["v","V","",""],KeyW:["w","W","Ã¥","Ã"],KeyX:["x","X","",""],KeyY:["y","Y","Ã¼","Ã"],KeyZ:["z","Z","Ã¦","Ã"],Digit1:["1","!","Â¡","Â¹"],Digit2:["2","@","Â²",""],Digit3:["3","#","Â³",""],Digit4:["4","$","Â¤","Â£"],Digit5:["5","%","â¬",""],Digit6:["6","^","Â¼",""],Digit7:["7","&","Â½",""],Digit8:["8","*","Â¾",""],Digit9:["9","(","â",""],Digit0:["0",")","â",""],Space:[" "," ","",""],Minus:["-","_","Â¥",""],Equal:["=","+","Ã","Ã·"],BracketLeft:["[","{","Â«",""],BracketRight:["]","}","Â»",""],Backslash:["\\","|","Â¬","Â¦"],Semicolon:[";",":","Â¶","Â°"],Quote:["'",'"',"Â´","Â¨"],Backquote:["`","~","",""],Comma:[",","<","Ã§","Ã"],Period:[".",">","",""],Slash:["/","?","Â¿",""],NumpadDivide:["/","/","",""],NumpadMultiply:["*","*","",""],NumpadSubtract:["-","-","",""],NumpadAdd:["+","+","",""],IntlBackslash:["\\","|","",""]}}:{id:"linux.en",displayName:"English",platform:"linux",virtualLayout:"qwerty",locale:"en",score:0,mapping:{KeyA:["a","A","a","A"],KeyB:["b","B","b","B"],KeyC:["c","C","c","C"],KeyD:["d","D","d","D"],KeyE:["e","E","e","E"],KeyF:["f","F","f","F"],KeyG:["g","G","g","G"],KeyH:["h","H","h","H"],KeyI:["i","I","i","I"],KeyJ:["j","J","j","J"],KeyK:["k","K","k","K"],KeyL:["l","L","l","L"],KeyM:["m","M","m","M"],KeyN:["n","N","n","N"],KeyO:["o","O","o","O"],KeyP:["p","P","p","P"],KeyQ:["q","Q","q","Q"],KeyR:["r","R","r","R"],KeyS:["s","S","s","S"],KeyT:["t","T","t","T"],KeyU:["u","U","u","U"],KeyV:["v","V","v","V"],KeyW:["w","W","w","W"],KeyX:["x","X","x","X"],KeyY:["y","Y","y","Y"],KeyZ:["z","Z","z","Z"],Digit1:["1","!","1","!"],Digit2:["2","@","2","@"],Digit3:["3","#","3","#"],Digit4:["4","$","4","$"],Digit5:["5","%","5","%"],Digit6:["6","^","6","^"],Digit7:["7","&","7","&"],Digit8:["8","*","8","*"],Digit9:["9","(","9","("],Digit0:["0",")","0",")"],Space:[" "," "," "," "],Minus:["-","_","-","_"],Equal:["=","+","=","+"],BracketLeft:["[","{","[","{"],BracketRight:["]","}","]","}"],Backslash:["\\","|","\\","|"],Semicolon:[";",":",";",":"],Quote:["'",'"',"'",'"'],Backquote:["`","~","`","~"],Comma:[",","<",",","<"],Period:[".",">",".",">"],Slash:["/","?","/","?"],NumpadDivide:["/","/","/","/"],NumpadMultiply:["*","*","*","*"],NumpadSubtract:["-","-","-","-"],NumpadAdd:["+","+","+","+"],Numpad1:["1","1","1","1"],Numpad2:["2","2","2","2"],Numpad3:["3","3","3","3"],Numpad4:["4","4","4","4"],Numpad5:["5","5","5","5"],Numpad6:["6","6","6","6"],Numpad7:["7","7","7","7"],Numpad8:["8","8","8","8"],Numpad9:["9","9","9","9"],Numpad0:["0","0","0","0"],NumpadDecimal:["",".","","."],IntlBackslash:["<",">","|","Â¦"],NumpadEqual:["=","=","=","="],NumpadComma:[".",".",".","."],NumpadParenLeft:["(","(","(","("],NumpadParenRight:[")",")",")",")"]}},Cn={enter:"[Enter]",escape:"[Escape]",backspace:"[Backspace]",tab:"[Tab]",space:"[Space]",pausebreak:"[Pause]",insert:"[Insert]",home:"[Home]",pageup:"[PageUp]",delete:"[Delete]",end:"[End]",pagedown:"[PageDown]",right:"[ArrowRight]",left:"[ArrowLeft]",down:"[ArrowDown]",up:"[ArrowUp]",numpad0:"[Numpad0]",numpad1:"[Numpad1]",numpad2:"[Numpad2]",numpad3:"[Numpad3]",numpad4:"[Numpad4]",numpad5:"[Numpad5]",numpad6:"[Numpad6]",numpad7:"[Numpad7]",numpad8:"[Numpad8]",numpad9:"[Numpad9]",numpad_divide:"[NumpadDivide]",numpad_multiply:"[NumpadMultiply]",numpad_subtract:"[NumpadSubtract]",numpad_add:"[NumpadAdd]",numpad_decimal:"[NumpadDecimal]",numpad_separator:"[NumpadComma]",capslock:"[Capslock]",f1:"[F1]",f2:"[F2]",f3:"[F3]",f4:"[F4]",f5:"[F5]",f6:"[F6]",f7:"[F7]",f8:"[F8]",f9:"[F9]",f10:"[F10]",f11:"[F11]",f12:"[F12]",f13:"[F13]",f14:"[F14]",f15:"[F15]",f16:"[F16]",f17:"[F17]",f18:"[F18]",f19:"[F19]"},Ln=[];let On;function An(){switch(Oe()){case"macos":case"ios":return"apple";case"windows":return"windows"}return"linux"}function En(e){e.platform&&e.platform!==An()||Ln.push(e)}function Tn(e){On=Ln.find(t=>e.startsWith(t.locale))}function Nn(){return null!=On?On:Ln[0]}function Dn(e){let t=e;return i(t)&&(t=t.length>0?t[0]+"("+t.slice(1).join("")+")":""),t}function Pn(e){var t;const n=/macos|ios|/.test(Oe()),i=e.split("+");let r="";for(const o of i)!n&&r&&(r+='<span class="ML__shortcut-join">+</span>'),o.startsWith("[Key")?r+=o.slice(4,5):o.startsWith("Key")?r+=o.slice(3,4):o.startsWith("[Digit")?r+=o.slice(6,7):o.startsWith("Digit")?r+=o.slice(5,6):r+=null!==(t={cmd:"â",meta:n?"â":"command",shift:n?"â§":"shift",alt:n?"â¥":"alt",ctrl:n?"â":"control","\n":n?"â":"return","[return]":n?"â":"return","[enter]":n?"â¤":"enter","[tab]":n?"â¥":"tab","[escape]":"esc","[backspace]":n?"â«":"backspace","[delete]":n?"â¦":"del","[pageup]":n?"â":"page up","[pagedown]":n?"â":"page down","[home]":n?"â¤":"home","[end]":n?"â¤":"end","[space]":"space","[equal]":"=","[minus]":"-","[comma]":",","[slash]":"/","[backslash]":"\\","[bracketleft]":"[","[bracketright]":"]",semicolon:";",period:".",comma:",",minus:"-",equal:"=",quote:"'",bracketLeft:"[",bracketRight:"]",backslash:"\\",intlbackslash:"\\",backquote:"`",slash:"/",numpadmultiply:"* &#128290;",numpaddivide:"/ &#128290;",numpadsubtract:"- &#128290;",numpadadd:"+ &#128290;",numpaddecimal:". &#128290;",numpadcomma:", &#128290;",help:"help",left:"â ",up:"â¡",right:"â¢",down:"â£","[arrowleft]":"â ","[arrowup]":"â¡","[arrowright]":"â¢","[arrowdown]":"â£","[digit0]":"0","[digit1]":"1","[digit2]":"2","[digit3]":"3","[digit4]":"4","[digit5]":"5","[digit6]":"6","[digit7]":"7","[digit8]":"8","[digit9]":"9"}[o.toLowerCase()])&&void 0!==t?t:o.toUpperCase();return r}function qn(e,t){if(e.ifPlatform&&!/^!?(macos|windows|android|ios|chromeos|other)$/.test(e.ifPlatform))throw new Error(`Unexpected platform "${e.ifPlatform}" for keybinding ${e.key}`);if(void 0!==e.ifLayout&&(0===t.score||!e.ifLayout.includes(t.id)))return;const n=wn(e.key);let i=e.ifPlatform;if(n.cmd){if(i&&"macos"!==i&&"ios"!==i)throw new Error('Unexpected "cmd" modifier with platform "'+i+'"\n"cmd" modifier can only be used with macOS or iOS platform.');i||(i="ios"===Oe()?"ios":"macos"),n.win=!1,n.cmd=!1,n.meta=!0}if(n.win){if(i&&"windows"!==i)throw new Error('Unexpected "win" modifier with platform "'+i+'"\n"win" modifier can only be used with Windows platform.');i="windows",n.win=!1,n.cmd=!1,n.meta=!0}if(!i||function(e){if((null===navigator||void 0===navigator?void 0:navigator.platform)&&(null===navigator||void 0===navigator?void 0:navigator.userAgent)){const t=Oe(),n=e.startsWith("!"),i=e.endsWith(t);if(n&&!i)return!0;if(!n&&i)return!0}return!1}(i)){if(!/^\[(.*)]$/.test(n.key)){const r=function(e,t){var n;const i={shift:!1,alt:!1,cmd:!1,win:!1,meta:!1,ctrl:!1,key:""};if(!e)return i;for(const[r,o]of Object.entries(t.mapping)){if(o[0]===e)return i.key=`[${r}]`,i;if(o[1]===e)return i.shift=!0,i.key=`[${r}]`,i;if(o[2]===e)return i.alt=!0,i.key=`[${r}]`,i;if(o[3]===e)return i.shift=!0,i.alt=!0,i.key=`[${r}]`,i}return i.key=null!==(n=Cn[e])&&void 0!==n?n:"",i}(n.key,t);if(!r)throw new Error('Invalid keybinding key "'+e.key+'"');if(r.shift&&n.shift||r.alt&&n.alt)throw new Error(`The keybinding ${e.key} (${In(e.command)}) is conflicting with the key combination ${Sn(r)} using the ${t.displayName} keyboard layout`);return r.shift=r.shift||n.shift,r.alt=r.alt||n.alt,r.meta=n.meta,r.ctrl=n.ctrl,{...e,ifPlatform:i,key:Sn(r)}}return{...e,ifPlatform:i,key:Sn(n)}}}function In(e){if(Array.isArray(e)){const t=[...e];return t.shift()+"("+t.map(e=>"string"==typeof e?`"${e}"`:e.toString()).join(", ")+")"}return e}En(Mn),En({id:"apple.french",locale:"fr",displayName:"French",platform:"apple",virtualLayout:"azerty",score:0,mapping:{KeyA:["q","Q","â¡","Î©"],KeyB:["b","B","Ã","â«"],KeyC:["c","C","Â©","Â¢"],KeyD:["d","D","â","â"],KeyE:["e","E","Ãª","Ã"],KeyF:["f","F","Æ","Â·"],KeyG:["g","G","ï¬","ï¬"],KeyH:["h","H","Ã","Ã"],KeyI:["i","I","Ã®","Ã¯"],KeyJ:["j","J","Ã","Ã"],KeyK:["k","K","Ã","Ã"],KeyL:["l","L","Â¬","|"],KeyM:[",","?","â","Â¿"],KeyN:["n","N","~","Ä±"],KeyO:["o","O","Å","Å"],KeyP:["p","P","Ï","â"],KeyQ:["a","A","Ã¦","Ã"],KeyR:["r","R","Â®","â"],KeyS:["s","S","Ã","â"],KeyT:["t","T","â ","â¢"],KeyU:["u","U","Âº","Âª"],KeyV:["v","V","â","â"],KeyW:["z","Z","Ã","Ã"],KeyX:["x","X","â","â"],KeyY:["y","Y","Ã","Å¸"],KeyZ:["w","W","â¹","âº"],Digit1:["&","1","ï£¿","Â´"],Digit2:["Ã©","2","Ã«","â"],Digit3:['"',"3","â","â"],Digit4:["'","4","â","â"],Digit5:["(","5","{","["],Digit6:["Â§","6","Â¶","Ã¥"],Digit7:["Ã¨","7","Â«","Â»"],Digit8:["!","8","Â¡","Ã"],Digit9:["Ã§","9","Ã","Ã"],Digit0:["Ã ","0","Ã¸","Ã"],Space:[" "," "," "," "],Minus:[")","Â°","}","]"],Equal:["-","_","â","â"],BracketLeft:["^","Â¨","Ã´","Ã"],BracketRight:["$","*","â¬","Â¥"],Backslash:["`","Â£","@","#"],Semicolon:["m","M","Âµ","Ã"],Quote:["Ã¹","%","Ã","â°"],Backquote:["<",">","â¤","â¥"],Comma:[";",".","â¦","â¢"],Period:[":","/","Ã·","\\"],Slash:["=","+","â ","Â±"],NumpadDivide:["/","/","/","/"],NumpadMultiply:["*","*","*","*"],NumpadSubtract:["-","-","-","-"],NumpadAdd:["+","+","+","+"],NumpadDecimal:[",",".",",","."],IntlBackslash:["@","#","â¢","Å¸"],NumpadEqual:["=","=","=","="]}}),En({id:"apple.spanish",locale:"es",displayName:"Spanish ISO",platform:"apple",virtualLayout:"qwerty",score:0,mapping:{KeyA:["a","A","Ã¥","Ã"],KeyB:["b","B","Ã",""],KeyC:["c","C","Â©"," "],KeyD:["d","D","â","â"],KeyE:["e","E","â¬","â¬"],KeyF:["f","F","Æ","ï¬"],KeyG:["g","G","ï£¿","ï¬"],KeyH:["h","H","â¢"," "],KeyI:["i","I"," "," "],KeyJ:["j","J","Â¶","Â¯"],KeyK:["k","K","Â§","Ë"],KeyL:["l","L"," ","Ë"],KeyM:["m","M","Âµ","Ë"],KeyN:["n","N"," ","Ë"],KeyO:["o","O","Ã¸","Ã"],KeyP:["p","P","Ï","â"],KeyQ:["q","Q","Å","Å"],KeyR:["r","R","Â®"," "],KeyS:["s","S","â«"," "],KeyT:["t","T","â ","â¡"],KeyU:["u","U"," "," "],KeyV:["v","V","â","â"],KeyW:["w","W","Ã¦","Ã"],KeyX:["x","X","â","âº"],KeyY:["y","Y","Â¥"," "],KeyZ:["z","Z","Î©","â¹"],Digit1:["1","!","|","Ä±"],Digit2:["2",'"',"@","Ë"],Digit3:["3","Â·","#","â¢"],Digit4:["4","$","Â¢","Â£"],Digit5:["5","%","â","â°"],Digit6:["6","&","Â¬"," "],Digit7:["7","/","Ã·","â"],Digit8:["8","(","â","â"],Digit9:["9",")","â","â"],Digit0:["0","=","â ","â"],Space:[" "," "," "," "],Minus:["'","?","Â´","Â¸"],Equal:["Â¡","Â¿","â","Ë"],BracketLeft:["`","^","[","Ë"],BracketRight:["+","*","]","Â±"],Backslash:["Ã§","Ã","}","Â»"],Semicolon:["Ã±","Ã","~","Ë"],Quote:["Â´","Â¨","{","Â«"],Backquote:["<",">","â¤","â¥"],Comma:[",",";","â",""],Period:[".",":","â¦","â¦"],Slash:["-","_","â","â"],NumpadDivide:["/","/","/","/"],NumpadMultiply:["*","*","*","*"],NumpadSubtract:["-","-","-","-"],NumpadAdd:["+","+","+","+"],Numpad1:["1","1","1","1"],Numpad2:["2","2","2","2"],Numpad3:["3","3","3","3"],Numpad4:["4","4","4","4"],Numpad5:["5","5","5","5"],Numpad6:["6","6","6","6"],Numpad7:["7","7","7","7"],Numpad8:["8","8","8","8"],Numpad9:["9","9","9","9"],Numpad0:["0","0","0","0"],NumpadDecimal:[",",",",",",","],IntlBackslash:["Âº","Âª","\\","Â°"]}}),En({id:"windows.spanish",locale:"es",displayName:"Spanish",platform:"windows",virtualLayout:"qwerty",score:0,mapping:{KeyA:["a","A","",""],KeyB:["b","B","",""],KeyC:["c","C","",""],KeyD:["d","D","",""],KeyE:["e","E","â¬",""],KeyF:["f","F","",""],KeyG:["g","G","",""],KeyH:["h","H","",""],KeyI:["i","I","",""],KeyJ:["j","J","",""],KeyK:["k","K","",""],KeyL:["l","L","",""],KeyM:["m","M","",""],KeyN:["n","N","",""],KeyO:["o","O","",""],KeyP:["p","P","",""],KeyQ:["q","Q","",""],KeyR:["r","R","",""],KeyS:["s","S","",""],KeyT:["t","T","",""],KeyU:["u","U","",""],KeyV:["v","V","",""],KeyW:["w","W","",""],KeyX:["x","X","",""],KeyY:["y","Y","",""],KeyZ:["z","Z","",""],Digit1:["1","!","|",""],Digit2:["2",'"',"@",""],Digit3:["3","Â·","#",""],Digit4:["4","$","~",""],Digit5:["5","%","â¬",""],Digit6:["6","&","Â¬",""],Digit7:["7","/","",""],Digit8:["8","(","",""],Digit9:["9",")","",""],Digit0:["0","=","",""],Space:[" "," ","",""],Minus:["'","?","",""],Equal:["Â¡","Â¿","",""],BracketLeft:["`","^","[",""],BracketRight:["+","*","]",""],Backslash:["Ã§","Ã","}",""],Semicolon:["Ã±","Ã","",""],Quote:["Â´","Â¨","{",""],Backquote:["Âº","Âª","\\",""],Comma:[",",";","",""],Period:[".",":","",""],Slash:["-","_","",""],NumpadDivide:["/","/","",""],NumpadMultiply:["*","*","",""],NumpadSubtract:["-","-","",""],NumpadAdd:["+","+","",""],IntlBackslash:["<",">","",""]}}),En({id:"linux.spanish",locale:"es",displayName:"Spanish",platform:"linux",virtualLayout:"qwerty",score:0,mapping:{KeyA:["a","A","Ã¦","Ã"],KeyB:["b","B","â","â"],KeyC:["c","C","Â¢","Â©"],KeyD:["d","D","Ã°","Ã"],KeyE:["e","E","â¬","Â¢"],KeyF:["f","F","Ä","Âª"],KeyG:["g","G","Å","Å"],KeyH:["h","H","Ä§","Ä¦"],KeyI:["i","I","â","Ä±"],KeyJ:["j","J","Ì","Ì"],KeyK:["k","K","Ä¸","&"],KeyL:["l","L","Å","Å"],KeyM:["m","M","Âµ","Âº"],KeyN:["n","N","n","N"],KeyO:["o","O","Ã¸","Ã"],KeyP:["p","P","Ã¾","Ã"],KeyQ:["q","Q","@","Î©"],KeyR:["r","R","Â¶","Â®"],KeyS:["s","S","Ã","Â§"],KeyT:["t","T","Å§","Å¦"],KeyU:["u","U","â","â"],KeyV:["v","V","â","â"],KeyW:["w","W","Å","Å"],KeyX:["x","X","Â»",">"],KeyY:["y","Y","â","Â¥"],KeyZ:["z","Z","Â«","<"],Digit1:["1","!","|","Â¡"],Digit2:["2",'"',"@","â"],Digit3:["3","Â·","#","Â£"],Digit4:["4","$","~","$"],Digit5:["5","%","Â½","â"],Digit6:["6","&","Â¬","â"],Digit7:["7","/","{","â"],Digit8:["8","(","[","â¢"],Digit9:["9",")","]","Â±"],Digit0:["0","=","}","Â°"],Enter:["\r","\r","\r","\r"],Escape:["","","",""],Backspace:["\b","\b","\b","\b"],Tab:["\t","","\t",""],Space:[" "," "," "," "],Minus:["'","?","\\","Â¿"],Equal:["Â¡","Â¿","Ì","~"],BracketLeft:["Ì","Ì","[","Ì"],BracketRight:["+","*","]","Ì"],Backslash:["Ã§","Ã","}","Ì"],Semicolon:["Ã±","Ã","~","Ì"],Quote:["Ì","Ì","{","{"],Backquote:["Âº","Âª","\\","\\"],Comma:[",",";","â","Ã"],Period:[".",":","Â·","Ã·"],Slash:["-","_","Ì£","Ì"],NumpadDivide:["/","/","/","/"],NumpadMultiply:["*","*","*","*"],NumpadSubtract:["-","-","-","-"],NumpadAdd:["+","+","+","+"],NumpadEnter:["\r","\r","\r","\r"],Numpad1:["","1","","1"],Numpad2:["","2","","2"],Numpad3:["","3","","3"],Numpad4:["","4","","4"],Numpad5:["","5","","5"],Numpad6:["","6","","6"],Numpad7:["","7","","7"],Numpad8:["","8","","8"],Numpad9:["","9","","9"],Numpad0:["","0","","0"],NumpadDecimal:["",".","","."],IntlBackslash:["<",">","|","Â¦"],NumpadEqual:["=","=","=","="],NumpadComma:[".",".",".","."],NumpadParenLeft:["(","(","(","("],NumpadParenRight:[")",")",")",")"]}}),En({id:"linux.french",locale:"fr",displayName:"French",virtualLayout:"azerty",platform:"linux",score:0,mapping:{KeyA:["q","Q","@","Î©"],KeyB:["b","B","â","â"],KeyC:["c","C","Â¢","Â©"],KeyD:["d","D","Ã°","Ã"],KeyE:["e","E","â¬","Â¢"],KeyF:["f","F","Ä","Âª"],KeyG:["g","G","Å","Å"],KeyH:["h","H","Ä§","Ä¦"],KeyI:["i","I","â","Ä±"],KeyJ:["j","J","Ì","Ì"],KeyK:["k","K","Ä¸","&"],KeyL:["l","L","Å","Å"],KeyM:[",","?","Ì","Ì"],KeyN:["n","N","n","N"],KeyO:["o","O","Ã¸","Ã"],KeyP:["p","P","Ã¾","Ã"],KeyQ:["a","A","Ã¦","Ã"],KeyR:["r","R","Â¶","Â®"],KeyS:["s","S","Ã","Â§"],KeyT:["t","T","Å§","Å¦"],KeyU:["u","U","â","â"],KeyV:["v","V","â","â"],KeyW:["z","Z","Â«","<"],KeyX:["x","X","Â»",">"],KeyY:["y","Y","â","Â¥"],KeyZ:["w","W","Å","Å"],Digit1:["&","1","Â¹","Â¡"],Digit2:["Ã©","2","~","â"],Digit3:['"',"3","#","Â£"],Digit4:["'","4","{","$"],Digit5:["(","5","[","â"],Digit6:["-","6","|","â"],Digit7:["Ã¨","7","`","â"],Digit8:["_","8","\\","â¢"],Digit9:["Ã§","9","^","Â±"],Digit0:["Ã ","0","@","Â°"],Enter:["\r","\r","\r","\r"],Escape:["","","",""],Backspace:["\b","\b","\b","\b"],Tab:["\t","","\t",""],Space:[" "," "," "," "],Minus:[")","Â°","]","Â¿"],Equal:["=","+","}","Ì¨"],BracketLeft:["Ì","Ì","Ì","Ì"],BracketRight:["$","Â£","Â¤","Ì"],Backslash:["*","Âµ","Ì","Ì"],Semicolon:["m","M","Âµ","Âº"],Quote:["Ã¹","%","Ì","Ì"],Backquote:["Â²","~","Â¬","Â¬"],Comma:[";",".","â","Ã"],Period:[":","/","Â·","Ã·"],Slash:["!","Â§","Ì£","Ì"],NumpadMultiply:["*","*","*","*"],NumpadSubtract:["-","-","-","-"],NumpadAdd:["+","+","+","+"],NumpadDecimal:["",".","","."],IntlBackslash:["<",">","|","Â¦"]}}),En({id:"windows.french",locale:"fr",displayName:"French",virtualLayout:"azerty",platform:"windows",score:0,mapping:{KeyA:["q","Q","",""],KeyB:["b","B","",""],KeyC:["c","C","",""],KeyD:["d","D","",""],KeyE:["e","E","â¬",""],KeyF:["f","F","",""],KeyG:["g","G","",""],KeyH:["h","H","",""],KeyI:["i","I","",""],KeyJ:["j","J","",""],KeyK:["k","K","",""],KeyL:["l","L","",""],KeyM:[",","?","",""],KeyN:["n","N","",""],KeyO:["o","O","",""],KeyP:["p","P","",""],KeyQ:["a","A","",""],KeyR:["r","R","",""],KeyS:["s","S","",""],KeyT:["t","T","",""],KeyU:["u","U","",""],KeyV:["v","V","",""],KeyW:["z","Z","",""],KeyX:["x","X","",""],KeyY:["y","Y","",""],KeyZ:["w","W","",""],Digit1:["&","1","",""],Digit2:["Ã©","2","~",""],Digit3:['"',"3","#",""],Digit4:["'","4","{",""],Digit5:["(","5","[",""],Digit6:["-","6","|",""],Digit7:["Ã¨","7","`",""],Digit8:["_","8","\\",""],Digit9:["Ã§","9","^",""],Digit0:["Ã ","0","@",""],Space:[" "," ","",""],Minus:[")","Â°","]",""],Equal:["=","+","}",""],BracketLeft:["^","Â¨","",""],BracketRight:["$","Â£","Â¤",""],Backslash:["*","Âµ","",""],Semicolon:["m","M","",""],Quote:["Ã¹","%","",""],Backquote:["Â²","","",""],Comma:[";",".","",""],Period:[":","/","",""],Slash:["!","Â§","",""],NumpadDivide:["/","/","",""],NumpadMultiply:["*","*","",""],NumpadSubtract:["-","-","",""],NumpadAdd:["+","+","",""],IntlBackslash:["<",">","",""]}}),En({id:"windows.german",locale:"de",displayName:"German",platform:"windows",virtualLayout:"qwertz",score:0,mapping:{KeyA:["a","A","",""],KeyB:["b","B","",""],KeyC:["c","C","",""],KeyD:["d","D","",""],KeyE:["e","E","â¬",""],KeyF:["f","F","",""],KeyG:["g","G","",""],KeyH:["h","H","",""],KeyI:["i","I","",""],KeyJ:["j","J","",""],KeyK:["k","K","",""],KeyL:["l","L","",""],KeyM:["m","M","Âµ",""],KeyN:["n","N","",""],KeyO:["o","O","",""],KeyP:["p","P","",""],KeyQ:["q","Q","@",""],KeyR:["r","R","",""],KeyS:["s","S","",""],KeyT:["t","T","",""],KeyU:["u","U","",""],KeyV:["v","V","",""],KeyW:["w","W","",""],KeyX:["x","X","",""],KeyY:["z","Z","",""],KeyZ:["y","Y","",""],Digit1:["1","!","",""],Digit2:["2",'"',"Â²",""],Digit3:["3","Â§","Â³",""],Digit4:["4","$","",""],Digit5:["5","%","",""],Digit6:["6","&","",""],Digit7:["7","/","{",""],Digit8:["8","(","[",""],Digit9:["9",")","]",""],Digit0:["0","=","}",""],Space:[" "," ","",""],Minus:["Ã","?","\\","áº"],Equal:["Â´","`","",""],BracketLeft:["Ã¼","Ã","",""],BracketRight:["+","*","~",""],Backslash:["#","'","",""],Semicolon:["Ã¶","Ã","",""],Quote:["Ã¤","Ã","",""],Backquote:["^","Â°","",""],Comma:[",",";","",""],Period:[".",":","",""],Slash:["-","_","",""],NumpadDivide:["/","/","",""],NumpadMultiply:["*","*","",""],NumpadSubtract:["-","-","",""],NumpadAdd:["+","+","",""],IntlBackslash:["<",">","|",""]}}),En({id:"apple.german",locale:"de",displayName:"German",virtualLayout:"qwertz",platform:"apple",score:0,mapping:{KeyA:["a","A","Ã¥","Ã"],KeyB:["b","B","â«","â¹"],KeyC:["c","C","Ã§","Ã"],KeyD:["d","D","â","â¢"],KeyE:["e","E","â¬","â°"],KeyF:["f","F","Æ","Ã"],KeyG:["g","G","Â©","Ã"],KeyH:["h","H","Âª","Ã"],KeyI:["i","I","â","Ã"],KeyJ:["j","J","Âº","Ä±"],KeyK:["k","K","â","Ë"],KeyL:["l","L","@","ï¬"],KeyM:["m","M","Âµ","Ë"],KeyN:["n","N","~","âº"],KeyO:["o","O","Ã¸","Ã"],KeyP:["p","P","Ï","â"],KeyQ:["q","Q","Â«","Â»"],KeyR:["r","R","Â®","Â¸"],KeyS:["s","S","â","Ã"],KeyT:["t","T","â ","Ë"],KeyU:["u","U","Â¨","Ã"],KeyV:["v","V","â","â"],KeyW:["w","W","â","â"],KeyX:["x","X","â","Ã"],KeyY:["z","Z","Î©","Ë"],KeyZ:["y","Y","Â¥","â¡"],Digit1:["1","!","Â¡","Â¬"],Digit2:["2",'"',"â","â"],Digit3:["3","Â§","Â¶","#"],Digit4:["4","$","Â¢","Â£"],Digit5:["5","%","[","ï¬"],Digit6:["6","&","]","^"],Digit7:["7","/","|","\\"],Digit8:["8","(","{","Ë"],Digit9:["9",")","}","Â·"],Digit0:["0","=","â ","Â¯"],Space:[" "," "," "," "],Minus:["Ã","?","Â¿","Ë"],Equal:["Â´","`","'","Ë"],BracketLeft:["Ã¼","Ã","â¢","Â°"],BracketRight:["+","*","Â±","ï£¿"],Backslash:["#","'","â","â"],Semicolon:["Ã¶","Ã","Å","Å"],Quote:["Ã¤","Ã","Ã¦","Ã"],Backquote:["<",">","â¤","â¥"],Comma:[",",";","â","Ë"],Period:[".",":","â¦","Ã·"],Slash:["-","_","â","â"],NumpadDivide:["/","/","/","/"],NumpadMultiply:["*","*","*","*"],NumpadSubtract:["-","-","-","-"],NumpadAdd:["+","+","+","+"],NumpadDecimal:[",",",",".","."],IntlBackslash:["^","Â°","â","â"],NumpadEqual:["=","=","=","="]}}),En({id:"dvorak",locale:"en",displayName:"Dvorak",virtualLayout:"dvorak",platform:"",score:0,mapping:{KeyA:["a","A","Ã¥","Ã"],KeyB:["x","X","â","Ë"],KeyC:["j","J","â","Ã"],KeyD:["e","E","Â´","Â´"],KeyE:[".",">","â¥","Ë"],KeyF:["u","U","Â¨","Â¨"],KeyG:["i","I","Ë","Ë"],KeyH:["d","D","â","Ã"],KeyI:["c","C","Ã§","Ã"],KeyJ:["h","H","Ë","Ã"],KeyK:["t","T","â ","Ë"],KeyL:["n","N","Ë","Ë"],KeyM:["m","M","Âµ","Ã"],KeyN:["b","B","â«","Ä±"],KeyO:["r","R","Â®","â°"],KeyP:["l","L","Â¬","Ã"],KeyQ:["'",'"',"Ã¦","Ã"],KeyR:["p","P","Ï","â"],KeyS:["o","O","Ã¸","Ã"],KeyT:["y","Y","Â¥","Ã"],KeyU:["g","G","Â©","Ë"],KeyV:["k","K","Ë","ï£¿"],KeyW:[",","<","â¤","Â¯"],KeyX:["q","Q","Å","Å"],KeyY:["f","F","Æ","Ã"],KeyZ:[";",":","â¦","Ã"],Digit1:["1","!","Â¡","â"],Digit2:["2","@","â¢","â¬"],Digit3:["3","#","Â£","â¹"],Digit4:["4","$","Â¢","âº"],Digit5:["5","%","â","ï¬"],Digit6:["6","^","Â§","ï¬"],Digit7:["7","&","Â¶","â¡"],Digit8:["8","*","â¢","Â°"],Digit9:["9","(","Âª","Â·"],Digit0:["0",")","Âº","â"],Space:[" "," "," "," "],Minus:["[","{","â","â"],Equal:["]","}","â","â"],BracketLeft:["/","?","Ã·","Â¿"],BracketRight:["=","+","â ","Â±"],Backslash:["\\","|","Â«","Â»"],Semicolon:["s","S","Ã","Ã"],Quote:["-","_","â","â"],Backquote:["`","~","`","`"],Comma:["w","W","â","â"],Period:["v","V","â","â"],Slash:["z","Z","Î©","Â¸"],NumpadDivide:["/","/","/","/"],NumpadMultiply:["*","*","*","*"],NumpadSubtract:["-","-","-","-"],NumpadAdd:["+","+","+","+"],Numpad1:["1","1","1","1"],Numpad2:["2","2","2","2"],Numpad3:["3","3","3","3"],Numpad4:["4","4","4","4"],Numpad5:["5","5","5","5"],Numpad6:["6","6","6","6"],Numpad7:["7","7","7","7"],Numpad8:["8","8","8","8"],Numpad9:["9","9","9","9"],Numpad0:["0","0","0","0"],NumpadDecimal:[".",".",".","."],IntlBackslash:["Â§","Â±","Â§","Â±"],NumpadEqual:["=","=","=","="],AudioVolumeUp:["","=","","="]}});const jn={"â":"-","-":"-","\\alpha":"alpha","\\beta":"beta","\\gamma":"gamma","\\delta":"delta","\\epsilon":"epsilon","\\varepsilon":"varepsilon","\\zeta":"zeta","\\eta":"eta","\\theta":"theta","\\vartheta":"vartheta","\\iota":"iota","\\kappa":"kappa","\\lambda":"lambda","\\mu":"mu","\\nu":"nu","\\xi":"xi","\\pi":"pi","\\rho":"rho","\\sigma":"sigma","\\tau":"tau","\\upsilon":"upsilon","\\phi":"phi","\\varphi":"varphi","\\chi":"chi","\\psi":"psi","\\omega":"omega","\\Gamma":"Gamma","\\Delta":"Delta","\\Theta":"Theta","\\Lambda":"Lambda","\\Xi":"Xi","\\Pi":"Pi","\\Sigma":"Sigma","\\Phi":"Phi","\\Psi":"Psi","\\Omega":"Omega","\\exponentialE":"e","\\imaginaryI":"i","\\imaginaryJ":"j"},zn={"\\pm":"+-","\\times":"xx","\\colon":":","\\vert":"|","\\Vert":"||","\\mid":"|","\\lbrace":"{","\\rbrace":"}","\\lparen":"(","\\rparen":")","\\langle":"(:","\\rangle":":)"};function Rn(e){var t,n,r,o,a,s,l,c,u,d,h;if(!e)return"";if(i(e)){let n="";if(0===e.length)return"";if("first"===e[0].type&&(e=e.slice(1)),0===e.length)return"";if("text"===e[0].mode){let i=0;for(n='"';"text"===(null===(t=e[i])||void 0===t?void 0:t.mode);)n+=e[i].body?Rn(e[i].body):e[i].value,i++;n+='"'+Rn(e.slice(i))}else if("math"===e[0].mode){let t=0;for(;e[t]&&"math"===e[t].mode;)n+=Rn(e[t]),t++;n+=Rn(e.slice(t))}return n.trim()}if("text"===e.mode)return'"'+e.value+'"';let p="";const{command:f}=e;let m;switch(e.type){case"first":return"";case"group":case"root":p=Rn(e.body);break;case"genfrac":{const t=e;(t.leftDelim||t.rightDelim)&&(p+="."!==t.leftDelim&&t.leftDelim?t.leftDelim:"{:"),t.hasBarLine?(p+="(",p+=Rn(t.above),p+=")/(",p+=Rn(t.below),p+=")"):(p+="("+Rn(t.above)+"),",p+="("+Rn(t.below)+")"),(t.leftDelim||t.rightDelim)&&(p+="."!==t.rightDelim&&t.rightDelim?t.rightDelim:"{:")}break;case"surd":p+=e.hasEmptyBranch("above")?"sqrt("+Rn(e.body)+")":"root("+Rn(e.above)+")("+Rn(e.body)+")";break;case"leftright":{const t=e;p+="."!==t.leftDelim&&t.leftDelim?t.leftDelim:"{:",p+=Rn(t.body),p+="."!==t.rightDelim&&t.rightDelim?t.rightDelim:":}"}break;case"sizeddelim":case"delim":case"overlap":case"overunder":break;case"mord":p=null!==(r=null!==(n=jn[f])&&void 0!==n?n:f)&&void 0!==r?r:"string"==typeof e.value?e.value:"",p.startsWith("\\")&&(p+=" "),m=f?f.match(/{?\\char"([\dabcdefABCDEF]*)}?/):null,m?p=String.fromCodePoint(Number.parseInt("0x"+m[1])):p.length>0&&p.startsWith("\\")&&(p="string"==typeof e.value?e.value.charAt(0):e.command);break;case"mbin":case"mrel":case"minner":p=null!==(a=null!==(o=jn[f])&&void 0!==o?o:zn[f])&&void 0!==a?a:e.value;break;case"mopen":case"mclose":p+=e.value;break;case"mpunct":p=null!==(s=zn[f])&&void 0!==s?s:f;break;case"mop":"â"!==e.value&&(p="",p+="\\operatorname"===f?Rn(e.body):null!==(l=e.value)&&void 0!==l?l:f,p+=" ");break;case"array":const t=e.array,i=e.environmentName,g=null!==(c={bmatrix:["[","]"],"bmatrix*":["[","]"]}[i])&&void 0!==c?c:["(",")"],y=[];for(const e of t){const t=[];for(const n of e)t.push(g[0]+Rn(n)+g[1]);y.push(t.join(","))}const v=null!==(u={bmatrix:["[","]"],"bmatrix*":["[","]"],cases:["{",":}"]}[i])&&void 0!==u?u:["(",")"];p=v[0]+y.join(",")+v[1];break;case"box":case"spacing":break;case"enclose":p="("+Rn(e.body)+")";break;case"space":p=" ";break;case"msubsup":p="";break;case"macro":p=null!==(h=null!==(d=jn[f])&&void 0!==d?d:zn[f])&&void 0!==h?h:Rn(e.body)}if(!e.hasEmptyBranch("subscript")){p+="_";const t=Rn(e.subscript);p+=t.length>1?"("+t+")":t}if(!e.hasEmptyBranch("superscript")){p+="^";const t=Rn(e.superscript);p+=t.length>1?"("+t+")":t}return p}function Fn(e,t="math"){const n=new ot("root",{mode:"math"});return n.body=Nt(e,{parseMode:t}),Rn(n)}function $n(e){return fn(e,{format:"ascii-math"})[1]}const Bn={latexToAsciiMath:Fn,asciiMathToLatex:$n,FUNCTIONS:Ne,MATH_SYMBOLS:Ee,TEXT_SYMBOLS:qe,ENVIRONMENTS:De,INLINE_SHORTCUTS:hn,DEFAULT_KEYBINDINGS:xn,getKeybindingMarkup:Pn},Kn={"\\pm":"&#177;","\\times":"&#215;","\\colon":":","\\vert":"|","\\Vert":"â¥","\\mid":"â£","\\lbrace":"{","\\rbrace":"}","\\lparen":"(","\\rparen":")","\\langle":"â¨","\\rangle":"â©","\\lfloor":"â","\\rfloor":"â","\\lceil":"â","\\rceil":"â","\\vec":"&#x20d7;","\\acute":"&#x00b4;","\\grave":"&#x0060;","\\dot":"&#x02d9;","\\ddot":"&#x00a8;","\\tilde":"&#x007e;","\\bar":"&#x00af;","\\breve":"&#x02d8;","\\check":"&#x02c7;","\\hat":"&#x005e;"};function Wn(e){return e.replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Vn(e,t){return e&&t.generateID?' extid="'+e+'"':""}function Un(e,t,n){let i=!1;t=t||e.atoms.length;let r="",o="";const a=e.atoms[e.index];return e.index<t&&"mord"===a.type&&!"0123456789,.".includes(a.value)&&(o=ni(a,n),e.index+=1),o.length>0&&(i=!0,r=o,"mi"!==e.lastType&&"mn"!==e.lastType&&"mtext"!==e.lastType&&"fence"!==e.lastType||/^<mo>(.*)<\/mo>$/.test(r)||(r="<mo>&#8290;</mo>"+r),o.endsWith(">f</mi>")||o.endsWith(">g</mi>")?(r+="<mo>&#x2061;</mo>",e.lastType="applyfunction"):e.lastType=/^<mo>(.*)<\/mo>$/.test(r)?"mo":"mi",Gn(o,e,n)||(e.mathML+=r)),i}function Hn(e){return e.index<e.atoms.length&&e.atoms[e.index].superscript&&"msubsup"===e.atoms[e.index].type}function Gn(e,t,n){let i=!1,r="",o=t.atoms[t.index-1];if(!o)return!1;if(o.superscript||o.subscript||(Hn(t)||function(e){return e.index<e.atoms.length&&e.atoms[e.index].subscript&&"msubsup"===e.atoms[e.index].type}(t))&&(o=t.atoms[t.index],t.index+=1),!o)return!1;const a=Jn(o.subscript,0,0,n).mathML,s=Jn(o.subscript,0,0,n).mathML;return a&&s?r=`<msubsup>${e}${s}${a}</msubsup>`:a?r=`<msup>${e}${a}</msup>`:s&&(r=`<msub>${e}${s}</msub>`),r.length>0&&(i=!0,t.mathML+=r,t.lastType=""),i}function Xn(e,t,n){let i=!1;t=t||e.atoms.length;const r=e.index;let o="";for(;e.index<t&&"text"===e.atoms[e.index].mode;)o+=e.atoms[e.index].value?e.atoms[e.index].value:" ",e.index+=1;return o.length>0&&(i=!0,o="<mtext"+Vn(e.atoms[r].id,n)+">"+o+"</mtext>",e.mathML+=o,e.lastType="mtext"),i}function Zn(e,t,n){let i=!1;t=t||e.atoms.length;const r=e.index;let o="",a=function(e){let t=-1,n=e.index,i=!1,r=!1;for(;n<e.atoms.length&&!i&&!r;)i="mord"!==e.atoms[n].type||!"0123456789,.".includes(e.atoms[n].body),r=!i&&e.atoms[n].superscript,n++;return r&&(t=n-1),t}(e);for(a>=0&&a<t&&(t=a);e.index<t&&"mord"===e.atoms[e.index].type&&"0123456789,.".includes(e.atoms[e.index].value);)o+=e.atoms[e.index].value,e.index+=1;return o.length>0&&(i=!0,o="<mn"+Vn(e.atoms[r].id,n)+">"+o+"</mn>",a<0&&Hn(e)&&(a=e.index,e.index+=1),Gn(o,e,n)||(e.mathML+=o,e.lastType="mn")),i}function Yn(e,t,n){let i=!1;t=t||e.atoms.length;let r="",o="";if(e.index<t&&"mopen"===e.atoms[e.index].type){let a=!1,s=0;const l=e.index;let c=-1,u=l+1;for(;u<t&&!a;)"mopen"===e.atoms[u].type?s+=1:"mclose"===e.atoms[u].type&&(s-=1),-1===s&&(a=!0,c=u),u+=1;a&&(r="<mrow>",r+=ei(e.atoms[l],n),r+=Jn(e.atoms,l+1,c,n).mathML,r+=ei(e.atoms[c],n),r+="</mrow>","mi"!==e.lastType&&"mn"!==e.lastType&&"mfrac"!==e.lastType&&"fence"!==e.lastType||(r="<mo>&#8290;</mo>"+r),e.index=c+1,Gn(r,e,n)&&(i=!0,e.lastType="",r=""),o="fence")}return r.length>0&&(i=!0,e.mathML+=r,e.lastType=o),i}function Qn(e,t,n){let i=!1;t=t||e.atoms.length;let r="",o="";const a=e.atoms[e.index];if(e.index<t&&("mbin"===a.type||"mrel"===a.type))r+=ni(e.atoms[e.index],n),e.index+=1,o="mo";else if(e.index<t&&"mop"===a.type){if("over-under"===a.subsupPlacement&&(a.superscript||a.subscript)){const e=ei(a,n);a.superscript&&a.subscript?(r+="<munderover>"+e,r+=Jn(a.subscript,0,0,n).mathML,r+=Jn(a.superscript,0,0,n).mathML,r+="</munderover>"):a.superscript?(r+="<mover>"+e,r+=Jn(a.superscript,0,0,n).mathML,r+="</mover>"):(r+="<munder>"+e,r+=Jn(a.subscript,0,0,n).mathML,r+="</munder>"),o="mo"}else{const t=e.atoms[e.index],a="\\operatorname"===t.symbol,s=a?'<mi class="MathML-Unit"'+Vn(t.id,n)+">"+ti(t.value)+"</mi>":ei(t,n);r+=s,e.index+=1,Gn(r,e,n)&&(i=!0,e.lastType="",r=""),e.index-=1,a||/^<mo>(.*)<\/mo>$/.test(s)?o=a?"mi":"mo":(r+="<mo>&#x2061;</mo>",o="applyfunction")}"mi"!==e.lastType&&"mn"!==e.lastType||/^<mo>(.*)<\/mo>$/.test(r)||(r="<mo>&#8290;</mo>"+r),e.index+=1}return Gn(r,e,n)||r.length>0&&(i=!0,e.mathML+=r,e.lastType=o),i}function Jn(e,t,n,i){const r={atoms:e,index:null!=t?t:0,mathML:"",lastType:""};if("number"==typeof e||"boolean"==typeof e)r.mathML=e.toString();else if("string"==typeof e)r.mathML=e;else if(e instanceof ot)r.mathML=ni(e,i);else if(Array.isArray(e)){let t=0;for(n=n||(e?e.length:0);r.index<n;)if(Xn(r,n,i)||Zn(r,n,i)||Un(r,n,i)||Qn(r,n,i)||Yn(r,n,i))t+=1;else if(r.index<n){let e=ni(r.atoms[r.index],i);"mn"===r.lastType&&e.length>0&&"genfrac"===r.atoms[r.index].type&&(e="<mo>&#x2064;</mo>"+e),"genfrac"===r.atoms[r.index].type?r.lastType="mfrac":r.lastType="",e.length>0&&(r.mathML+=e,t+=1),r.index+=1}t>1&&(r.mathML="<mrow>"+r.mathML+"</mrow>")}return r}function ei(e,t){let n="";const i=ti(e.value);return i&&(n="<mo"+Vn(e.id,t)+">"+i+"</mo>"),n}function ti(e){if(!e)return"";if("string"==typeof e)return Wn(e);if(!Array.isArray(e)&&"string"==typeof e.body)return Wn(e.body);let t="";for(const n of e)"string"==typeof n.value&&(t+=n.value);return Wn(t)}function ni(e,t){var n,i,r,o,a,s,l,c,u,d,h,p,f,m;const g={widehat:"^",widecheck:"Ë",widetilde:"~",utilde:"~",overleftarrow:"â",underleftarrow:"â",xleftarrow:"â",overrightarrow:"â",underrightarrow:"â",xrightarrow:"â",underbrace:"â",overbrace:"â",overgroup:"â ",undergroup:"â¡",overleftrightarrow:"â",underleftrightarrow:"â",xleftrightarrow:"â",Overrightarrow:"â",xRightarrow:"â",overleftharpoon:"â¼",xleftharpoonup:"â¼",overrightharpoon:"â",xrightharpoonup:"â",xLeftarrow:"â",xLeftrightarrow:"â",xhookleftarrow:"â©",xhookrightarrow:"âª",xmapsto:"â¦",xrightharpoondown:"â",xleftharpoondown:"â½",xrightleftharpoons:"â",xleftrightharpoons:"â",xtwoheadleftarrow:"â",xtwoheadrightarrow:"â ",xlongequal:"=",xtofrom:"â",xrightleftarrows:"â",xrightequilibrium:"â",xleftequilibrium:"â"},y={"\\exponentialE":"&#x02147;","\\imaginaryI":"&#x2148;","\\differentialD":"&#x2146;","\\capitalDifferentialD":"&#x2145;","\\alpha":"&#x03b1;","\\pi":"&#x03c0;","\\infty":"&#x221e;","\\forall":"&#x2200;","\\nexists":"&#x2204;","\\exists":"&#x2203;","\\hbar":"â","\\cdotp":"â","\\ldots":"â¦","\\cdots":"â¯","\\ddots":"â±","\\vdots":"â®","\\ldotp":"."},v={"\\!":-3/18,"\\ ":6/18,"\\,":3/18,"\\:":4/18,"\\;":5/18,"\\enspace":.5,"\\quad":1,"\\qquad":2,"\\enskip":.5};let b,_,x,k,w,S,M="",C="",L={cal:"script",frak:"fraktur",bb:"double-struck",scr:"script",cmtt:"monospace",cmss:"sans-serif"}[e.fontFamily||e.font]||"";L&&(L=' mathvariant="'+L+'"');const{command:O}=e;if("text"===e.mode)M="<mi"+Vn(e.id,t)+">"+e.value+"</mi>";else switch(e.type){case"first":break;case"group":case"root":M=Jn(e.body,0,0,t).mathML;break;case"array":if((e.leftDelim&&"."!==e.leftDelim||e.rightDelim&&"."!==e.rightDelim)&&(M+="<mrow>",e.leftDelim&&"."!==e.leftDelim&&(M+="<mo>"+(Kn[e.leftDelim]||e.leftDelim)+"</mo>")),M+="<mtable",e.colFormat){for(M+=' columnalign="',x=0;x<e.colFormat.length;x++)e.colFormat[x].align&&(M+={l:"left",c:"center",r:"right"}[e.colFormat[x].align]+" ");M+='"'}for(M+=">",_=0;_<e.array.length;_++){for(M+="<mtr>",b=0;b<e.array[_].length;b++)M+="<mtd>"+Jn(e.array[_][b],0,0,t).mathML+"</mtd>";M+="</mtr>"}M+="</mtable>",(e.leftDelim&&"."!==e.leftDelim||e.rightDelim&&"."!==e.rightDelim)&&(e.rightDelim&&"."!==e.rightDelim&&(M+="<mo>"+(Kn[e.leftDelim]||e.rightDelim)+"</mo>"),M+="</mrow>");break;case"genfrac":(e.leftDelim||e.rightDelim)&&(M+="<mrow>"),e.leftDelim&&"."!==e.leftDelim&&(M+="<mo"+Vn(e.id,t)+">"+(Kn[e.leftDelim]||e.leftDelim)+"</mo>"),e.hasBarLine?(M+="<mfrac>",M+=Jn(e.above,0,0,t).mathML||"<mi>&nbsp;</mi>",M+=Jn(e.below,0,0,t).mathML||"<mi>&nbsp;</mi>",M+="</mfrac>"):(M+="<mtable"+Vn(e.id,t)+">",M+="<mtr>"+Jn(e.above,0,0,t).mathML+"</mtr>",M+="<mtr>"+Jn(e.below,0,0,t).mathML+"</mtr>",M+="</mtable>"),e.rightDelim&&"."!==e.rightDelim&&(M+="<mo"+Vn(e.id,t)+">"+(Kn[e.rightDelim]||e.rightDelim)+"</mo>"),(e.leftDelim||e.rightDelim)&&(M+="</mrow>");break;case"surd":e.hasEmptyBranch("above")?(M+="<msqrt"+Vn(e.id,t)+">",M+=Jn(e.body,0,0,t).mathML,M+="</msqrt>"):(M+="<mroot"+Vn(e.id,t)+">",M+=Jn(e.body,0,0,t).mathML,M+=Jn(e.above,0,0,t).mathML,M+="</mroot>");break;case"leftright":M="<mrow>",e.leftDelim&&"."!==e.leftDelim&&(M+="<mo"+Vn(e.id,t)+">"+(null!==(n=Kn[e.leftDelim])&&void 0!==n?n:e.leftDelim)+"</mo>"),e.body&&(M+=Jn(e.body,0,0,t).mathML),e.rightDelim&&"."!==e.rightDelim&&(M+="<mo"+Vn(e.id,t)+">"+(null!==(i=Kn[e.rightDelim])&&void 0!==i?i:e.rightDelim)+"</mo>"),M+="</mrow>";break;case"sizeddelim":case"delim":M+='<mo separator="true"'+Vn(e.id,t)+">"+(Kn[e.delim]||e.delim)+"</mo>";break;case"accent":M+='<mover accent="true"'+Vn(e.id,t)+">",M+=Jn(e.body,0,0,t).mathML,M+="<mo>"+(Kn[O]||e.accent)+"</mo>",M+="</mover>";break;case"line":case"overlap":break;case"overunder":w=e.above,k=e.below,(e.svgAbove||w)&&(e.svgBelow||k)?S=e.body:w&&w.length>0?(S=e.body,(null===(o=null===(r=e.body)||void 0===r?void 0:r[0])||void 0===o?void 0:o.below)?(k=e.body[0].below,S=e.body[0].body):"first"===(null===(s=null===(a=e.body)||void 0===a?void 0:a[0])||void 0===s?void 0:s.type)&&(null===(c=null===(l=e.body)||void 0===l?void 0:l[1])||void 0===c?void 0:c.below)&&(k=e.body[1].below,S=e.body[1].body)):k&&k.length>0&&(S=e.body,(null===(d=null===(u=e.body)||void 0===u?void 0:u[0])||void 0===d?void 0:d.above)?(w=e.body[0].above,S=e.body[0].body):"first"===(null===(p=null===(h=e.body)||void 0===h?void 0:h[0])||void 0===p?void 0:p.type)&&(null===(m=null===(f=e.body)||void 0===f?void 0:f[1])||void 0===m?void 0:m.above)&&(w=e.body[1].overscript,S=e.body[1].body)),(e.svgAbove||w)&&(e.svgBelow||k)?(M+=`<munderover ${L} ${Vn(e.id,t)}>`,M+=g[e.svgBody]||Jn(S,0,0,t).mathML,M+=g[e.svgBelow]||Jn(k,0,0,t).mathML,M+=g[e.svgAbove]||Jn(w,0,0,t).mathML,M+="</munderover>"):e.svgAbove||w?(M+=`<mover ${L} ${Vn(e.id,t)}>`+(g[e.svgBody]||Jn(S,0,0,t).mathML),M+=g[e.svgAbove]||Jn(w,0,0,t).mathML,M+="</mover>"):(e.svgBelow||k)&&(M+=`<munder ${L} ${Vn(e.id,t)}>`+(g[e.svgBody]||Jn(S,0,0,t).mathML),M+=g[e.svgBelow]||Jn(k,0,0,t).mathML,M+="</munder>");break;case"placeholder":case"mord":{M=y[O]||O||("string"==typeof e.value?e.value:"");const n=O?O.match(/{?\\char"([\dabcdefABCDEF]*)}?/):null;n?M="&#x"+n[1]+";":M.length>0&&M.startsWith("\\")&&(M="string"==typeof e.value&&e.value.charCodeAt(0)>255?"&#x"+("000000"+e.value.charCodeAt(0).toString(16)).slice(-4)+";":"string"==typeof e.value?e.value.charAt(0):"");const i=/\d/.test(M)?"mn":"mi";M="<"+i+L+Vn(e.id,t)+">"+Wn(M)+"</"+i+">";break}case"mbin":case"mrel":case"minner":M=O&&y[O]?"<mi"+Vn(e.id,t)+">"+y[O]+"</mi>":O&&Kn[O]?"<mo"+Vn(e.id,t)+">"+Kn[O]+"</mo>":ei(e,t);break;case"mpunct":M='<mo separator="true"'+Vn(e.id,t)+">"+(Kn[O]||O)+"</mo>";break;case"mop":"â"!==e.body&&(M="<mo"+Vn(e.id,t)+">",M+="\\operatorname"===O?e.body:O||e.body,M+="</mo>");break;case"box":M='<menclose notation="box"',e.backgroundcolor&&(M+=' mathbackground="'+e.backgroundcolor+'"'),M+=Vn(e.id,t)+">"+Jn(e.body,0,0,t).mathML+"</menclose>";break;case"spacing":M+='<mspace width="'+(v[O]||0)+'em"/>';break;case"enclose":M='<menclose notation="';for(const t in e.notation)Object.prototype.hasOwnProperty.call(e.notation,t)&&e.notation[t]&&(M+=C+t,C=" ");M+=Vn(e.id,t)+'">'+Jn(e.body,0,0,t).mathML+"</menclose>";break;case"space":M+="&nbsp;";break;case"msubsup":case"phantom":case"composition":case"rule":case"chem":break;case"mopen":case"mclose":M+=ei(e,t);break;case"macro":{const n=ti(e.macroLatex);n&&(M+=`<mo ${Vn(e.id,t)}>${n}</mo>`)}}return M}function ii(e,t){return Jn(e,0,0,t).mathML}const ri={"\\alpha":"alpha ","\\mu":"mew ","\\sigma":"sigma ","\\pi":"pie ","\\imaginaryI":"eye ","\\sum":"Summation ","\\prod":"Product ",a:'<phoneme alphabet="ipa" ph="eÉª">a</phoneme>',A:'capital <phoneme alphabet="ipa" ph="eÉª">A</phoneme>',"+":"plus ","-":"minus ",";":'<break time="150ms"/> semi-colon <break time="150ms"/>',",":'<break time="150ms"/> comma  <break time="150ms"/>',"|":'<break time="150ms"/>Vertical bar<break time="150ms"/>',"(":'<break time="150ms"/>Open paren. <break time="150ms"/>',")":'<break time="150ms"/> Close paren. <break time="150ms"/>',"=":"equals ","<":"is less than ","\\lt":"is less than ","<=":"is less than or equal to ","\\le":"is less than or equal to ","\\gt":"is greater than ",">":"is greater than ","\\ge":"is greater than or equal to ","\\geq":"is greater than or equal to ","\\leq":"is less than or equal to ","!":"factorial ","\\sin":"sine ","\\cos":"cosine ","â":"","â":"minus ",":":'<break time="150ms"/> such that <break time="200ms"/> ',"\\colon":'<break time="150ms"/> such that <break time="200ms"/> ',"\\hbar":"etch bar ","\\iff":'<break time="200ms"/>if, and only if, <break time="200ms"/>',"\\Longleftrightarrow":'<break time="200ms"/>if, and only if, <break time="200ms"/>',"\\land":"and ","\\lor":"or ","\\neg":"not ","\\div":"divided by ","\\forall":"for all ","\\exists":"there exists ","\\nexists":"there does not exists ","\\in":"element of ","\\N":'the set <break time="150ms"/><say-as interpret-as="character">n</say-as>',"\\C":'the set <break time="150ms"/><say-as interpret-as="character">c</say-as>',"\\Z":'the set <break time="150ms"/><say-as interpret-as="character">z</say-as>',"\\Q":'the set <break time="150ms"/><say-as interpret-as="character">q</say-as>',"\\infty":"infinity ","\\nabla":"nabla ","\\partial":"partial derivative of ","\\cdot":"times ","\\cdots":"dot dot dot ","\\Rightarrow":"implies ","\\lparen":'<break time="150ms"/>open paren<break time="150ms"/>',"\\rparen":'<break time="150ms"/>close paren<break time="150ms"/>',"\\lbrace":'<break time="150ms"/>open brace<break time="150ms"/>',"\\{":'<break time="150ms"/>open brace<break time="150ms"/>',"\\rbrace":'<break time="150ms"/>close brace<break time="150ms"/>',"\\}":'<break time="150ms"/>close brace<break time="150ms"/>',"\\langle":'<break time="150ms"/>left angle bracket<break time="150ms"/>',"\\rangle":'<break time="150ms"/>right angle bracket<break time="150ms"/>',"\\lfloor":'<break time="150ms"/>open floor<break time="150ms"/>',"\\rfloor":'<break time="150ms"/>close floor<break time="150ms"/>',"\\lceil":'<break time="150ms"/>open ceiling<break time="150ms"/>',"\\rceil":'<break time="150ms"/>close ceiling<break time="150ms"/>',"\\vert":'<break time="150ms"/>vertical bar<break time="150ms"/>',"\\mvert":'<break time="150ms"/>divides<break time="150ms"/>',"\\lvert":'<break time="150ms"/>left vertical bar<break time="150ms"/>',"\\rvert":'<break time="150ms"/>right vertical bar<break time="150ms"/>',"\\lbrack":'<break time="150ms"/> open square bracket <break time="150ms"/>',"\\rbrack":'<break time="150ms"/> close square bracket <break time="150ms"/>',mm:"millimeters",cm:"centimeters",km:"kilometers",kg:"kilograms"};function oi(e){let t=0;if(i(e))for(const n of e)"first"!==n.type&&(t+=1);return 1===t}function ai(e){let t="";if(i(e))for(const n of e)"first"!==n.type&&"string"==typeof n.value&&(t+=n.value);return t}function si(e,t,n){var r,o,a,s;function l(e){return"<emphasis>"+e+"</emphasis>"}if(!t)return"";let c="";if(i(t)){let i=!1,o=!1;for(let a=0;a<t.length;a++)"text"!==t[a].mode&&(o=!1),a<t.length-2&&"mopen"===t[a].type&&"mclose"===t[a+2].type&&"mord"===t[a+1].type?(c+=" of ",c+=l(si(e,t[a+1],n)),a+=2):"text"===t[a].mode?o?c+=null!==(r=t[a].value)&&void 0!==r?r:" ":(o=!0,c+=si("text",t[a],n)):"mord"===t[a].type&&/[0123456789,.]/.test(t[a].value)?i?c+=t[a].value:(i=!0,c+=si(e,t[a],n)):(i=!1,c+=si(e,t[a],n))}else if("text"===t.mode)t.id&&"math"===e&&(c+='<mark name="'+t.id.toString()+'"/>'),c+=t.value;else{t.id&&"math"===e&&(c+='<mark name="'+t.id.toString()+'"/>');let r="",d="",h="",p=!1;switch(t.type){case"group":case"root":c+=si("math",t.body,n);break;case"genfrac":if(r=si("math",t.above,n),d=si("math",t.below,n),oi(t.above)&&oi(t.below)){const e={"1/2":" half ","1/3":" one third ","2/3":" two third","1/4":" one quarter ","3/4":" three quarter ","1/5":" one fifth ","2/5":" two fifths ","3/5":" three fifths ","4/5":" four fifths ","1/6":" one sixth ","5/6":" five sixths ","1/8":" one eight ","3/8":" three eights ","5/8":" five eights ","7/8":" seven eights ","1/9":" one ninth ","2/9":" two ninths ","4/9":" four ninths ","5/9":" five ninths ","7/9":" seven ninths ","8/9":" eight ninths "}[ai(t.above)+"/"+ai(t.below)];e?c=e:c+=r+" over "+d}else c+=' the fraction <break time="150ms"/>'+r+', over <break time="150ms"/>'+d+'.<break time="150ms"/> End fraction.<break time="150ms"/>';break;case"surd":if(h=si("math",t.body,n),t.hasEmptyBranch("above"))c+=oi(t.body)?" the square root of "+h+" , ":' the square root of <break time="200ms"/>'+h+'. <break time="200ms"/> End square root';else{let e=si("math",t.above,n);e=e.trim();const i=e.replace(/<mark([^/]*)\/>/g,"");c+="3"===i?' the cube root of <break time="200ms"/>'+h+'. <break time="200ms"/> End cube root':"n"===i?' the nth root of <break time="200ms"/>'+h+'. <break time="200ms"/> End root':' the root with index: <break time="200ms"/>'+e+', of <break time="200ms"/>'+h+'. <break time="200ms"/> End root'}break;case"leftright":{const e=t;c+=null!==(o=e.leftDelim?ri[e.leftDelim]:void 0)&&void 0!==o?o:e.leftDelim,c+=si("math",t.body,n),c+=null!==(a=e.rightDelim?ri[e.rightDelim]:void 0)&&void 0!==a?a:e.rightDelim}break;case"rule":case"overunder":case"overlap":break;case"placeholder":c+="placeholder ";break;case"delim":case"sizeddelim":case"mord":case"minner":case"mbin":case"mrel":case"mpunct":case"mopen":case"mclose":{const{command:i}=t;if("\\mathbin"===i||"\\mathrel"===i||"\\mathopen"===i||"\\mathclose"===i||"\\mathpunct"===i||"\\mathord"===i||"\\mathinner"===i){c=si(e,t.body,n);break}let r=t.value,o=t.command;if("delim"!==t.type&&"sizeddelim"!==t.type||(o=t.value,r=o),"text"===e)c+=r;else{if("mbin"===t.type&&(c+='<break time="150ms"/>'),r){const e=ri[r]||(o?ri[o.trim()]:"");if(e)c+=" "+e;else{const e=o?function(e){let t="";return e.startsWith("\\")&&(t=" "+e.replace("\\","")+" "),t}(o.trim()):"";c+=e||function(e){let t="";return n.textToSpeechMarkup?/[a-z]/.test(e)?t+=' <say-as interpret-as="character">'+e+"</say-as>":/[A-Z]/.test(e)?t+=String("capital "+e.toLowerCase()):t+=e:/[a-z]/.test(e)?t+=" '"+e.toUpperCase()+"'":/[A-Z]/.test(e)?t+=" 'capital "+e.toUpperCase()+"'":t+=e,t}(r)}}else c+=si("math",t.body,n);"mbin"===t.type&&(c+='<break time="150ms"/>')}break}case"mop":if("â"!==t.value){const e=t.command;if("\\sum"===e)if(t.hasEmptyBranch("superscript")||t.hasEmptyBranch("subscript"))if(t.hasEmptyBranch("subscript"))c+=" the summation of";else{let e=si("math",t.subscript,n);e=e.trim(),c+=' the summation from <break time="200ms"/>'+e+'<break time="200ms"/> of <break time="150ms"/>',p=!0}else{let e=si("math",t.superscript,n);e=e.trim();let i=si("math",t.subscript,n);i=i.trim(),c+=' the summation from <break time="200ms"/>'+i+'<break time="200ms"/> to  <break time="200ms"/>'+e+'<break time="200ms"/> of <break time="150ms"/>',p=!0}else if("\\prod"===e)if(t.hasEmptyBranch("superscript")||t.hasEmptyBranch("subscript"))if(t.hasEmptyBranch("subscript"))c+=" the product  of ";else{let e=si("math",t.subscript,n);e=e.trim(),c+=' the product from <break time="200ms"/>'+e+'<break time="200ms"/> of <break time="150ms"/>',p=!0}else{let e=si("math",t.superscript,n);e=e.trim();let i=si("math",t.subscript,n);i=i.trim(),c+=' the product from <break time="200ms"/>'+i+'<break time="200ms"/> to <break time="200ms"/>'+e+'<break time="200ms"/> of <break time="150ms"/>',p=!0}else if("\\int"===e)if(t.hasEmptyBranch("superscript")||t.hasEmptyBranch("subscript"))c+=' the integral of <break time="200ms"/> ';else{let e=si("math",t.superscript,n);e=e.trim();let i=si("math",t.subscript,n);i=i.trim(),c+=' the integral from <break time="200ms"/>'+l(i)+'<break time="200ms"/> to <break time="200ms"/>'+l(e)+' <break time="200ms"/> of ',p=!0}else"string"==typeof t.value?c+=(null!==(s=ri[t.value])&&void 0!==s?s:t.command?ri[t.command]:void 0)||" "+t.value:t.command&&("\\mathop"===t.command?c+=si("math",t.body,n):"\\operatorname"===t.command?c+=(u=t.body)?u.map(e=>e.value).join(""):"":c+=t.command.startsWith("\\")?" "+t.command.slice(1):" "+t.command)}break;case"enclose":h=si("math",t.body,n),c+=oi(t.body)?" crossed out "+h+" , ":" crossed out "+h+". End cross out"}if(!p&&!t.hasEmptyBranch("superscript")){let r=si(e,t.superscript,n);r=r.trim();const o=r.replace(/<[^>]*>/g,"");if(oi(t.superscript)){if("math"===e){const e=function(e){if(i(e))for(const t of e)if("first"!==t.type&&t.id)return t.id.toString();return""}(t.superscript);e&&(c+='<mark name="'+e+'"/>')}"â²"===o?c+=" prime ":"2"===o?c+=" squared ":"3"===o?c+=" cubed ":Number.isNaN(Number.parseInt(o))?c+=" to the "+r+"; ":c+=' to the <say-as interpret-as="ordinal">'+o+"</say-as> power; "}else Number.isNaN(Number.parseInt(o))?c+=" raised to the "+r+"; ":c+=' raised to the <say-as interpret-as="ordinal">'+o+"</say-as> power; "}if(!p&&!t.hasEmptyBranch("subscript")){let e=si("math",t.subscript,n);e=e.trim(),c+=oi(t.subscript)?" sub "+e:" subscript "+e+". End subscript. "}}var u;return c}function li(e,t){var n;const i={...t,textToSpeechRulesOptions:{...t.textToSpeechRulesOptions}};if(window.sre&&"sre"===i.textToSpeechRules){const t=ii(e,i);return t?(i.textToSpeechMarkup&&(i.textToSpeechRulesOptions=null!==(n=i.textToSpeechRulesOptions)&&void 0!==n?n:{},i.textToSpeechRulesOptions.markup=i.textToSpeechMarkup,"ssml"===i.textToSpeechRulesOptions.markup&&(i.textToSpeechRulesOptions.markup="ssml_step"),i.textToSpeechRulesOptions.rate=i.speechEngineRate),i.textToSpeechRulesOptions&&window.sre.System.getInstance().setupEngine(i.textToSpeechRulesOptions),window.sre.System.getInstance().toSpeech(t)):""}let r=si("math",e,i);if("ssml"===i.textToSpeechMarkup){let e="";i.speechEngineRate&&(e='<prosody rate="'+i.speechEngineRate+'">'),r='<?xml version="1.0"?><speak version="1.1" xmlns="http://www.w3.org/2001/10/synthesis" xml:lang="en-US"><amazon:auto-breaths>'+e+"<p><s>"+r+"</s></p>"+(e?"</prosody>":"")+"</amazon:auto-breaths></speak>"}else r="mac"===i.textToSpeechMarkup&&"macos"===Oe()?r.replace(/<mark([^/]*)\/>/g,"").replace(/<emphasis>/g,"[[emph+]]").replace(/<\/emphasis>/g,"").replace(/<break time="(\d*)ms"\/>/g,"[[slc $1]]").replace(/<say-as[^>]*>/g,"").replace(/<\/say-as>/g,""):r.replace(/<[^>]*>/g,"").replace(/\s{2,}/g," ");return r}function ci(e,t,n=3e3,i="$0"){for(const r of t)Ee[r]&&(Ee[r].frequency=n,Ee[r].category=e,Ee[r].template=i.replace(/\$0/g,r)),Ne[r]&&(Ne[r]={...Ne[r],frequency:n,category:e,template:i.replace(/\$0/g,r)})}ci("Trigonometry",["\\cos","\\sin","\\tan"],4e3),ci("Trigonometry",["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arcsec","\\arccsc","\\arsinh","\\arcosh","\\artanh","\\arcsech","\\arccsch","\\arg","\\ch","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\lg","\\lb","\\sec","\\sinh","\\sh","\\tanh","\\tg","\\th"],2e3),ci("Functions",["\\ln","\\log","\\exp","\\lim"],4e3),ci("Functions",["\\dim","\\ker","\\deg","\\det","\\mod","\\min","\\max"],3e3),ci("Functions",["\\hom"],1200),ci("Decoration",["\\rule"],200,"$0{2em}{1em}"),ci("Decoration",["\\color","\\textcolor"],200,"{$0{m0}A}{$0{m1}B}{$0{m2}C }{$0{m3}a}{$0{m4}b}{$0{m5}c}{$0{m6}8}"),ci("Decoration",["\\overline","\\underline"],3e3,"$0{\\placeholder{}}"),ci("Decoration",["\\enclose"],1200,'\\enclose{updiagonalstrike,roundedbox}[1px solid red, mathbackground="#fbc0bd"]{x=0}'),ci("Decoration",["\\fcolorbox"],1200,'\\fcolorbox{#cd0030}{#ffd400}{\\unicode{"2B1A}}'),ci("Decoration",["\\colorbox"],1200,'\\colorbox{#fbc0bd}{\\unicode{"2B1A}}'),ci("Decoration",["\\boxed","\\cancel","\\bcancel","\\xcancel"],1200,"$0{\\placeholder{}}"),ci("Decoration",["\\bbox"],1200,'\\bbox[#ffd400, solid 2px #ffd400]{\\unicode{"2B1A}}'),ci("Styling",["\\mathbb"],4e3,"$0{Don Knuth}"),ci("Styling",["\\textbf","\\textup","\\textit","\\textrm","\\textsf","\\texttt","\\textnormal","\\textmd","\\textsl","\\textsc","\\mathsf","\\mathtt","\\mathrm","\\mathfrak","\\mathcal","\\mathscr","\\mathbf","\\mathmd","\\mathit","\\text","\\mbox","\\Bbb","\\bold","\\bm","\\boldsymbol"],3e3,"$0{Don Knuth}"),ci("Styling",["\\frak","\\tt","\\bf","\\it","\\rmfamily","\\sffamily","\\ttfamily","\\class","\\cssId","\\htmlData"],1200,"{$0 Don Knuth}"),ci("Styling",["\\bfseries","\\mdseries","\\upshape","\\slshape","\\scshape"],1200,"\\text{$0 Don Knuth}"),ci("Styling",["\\class","\\cssId"],1200,"$0{testIdentifier}{Don Knuth}"),ci("Styling",["\\fontseries"],1200,"\\text{$0{b}Don Knuth}"),ci("Styling",["\\fontfamily"],1200,"\\text{$0{cmtt}Don Knuth}"),ci("Styling",["\\fontshape"],1200,"\\text{$0{sc}Don Knuth}"),ci("Styling",["\\selectfont"],1200,"\\text{$0}"),ci("Styling",["\\emph"],1200,"Don$0{Knuth}"),ci("Styling",["\\em"],1200,"Don{$0 Knuth}"),ci("Layout",["\\mathop","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathord","\\mathinner","\\operatorname","\\operatorname*"],1200,"x=$0{arg}=0"),ci("Layout",["\\middle"],1200,"\\left\\{x$0|x>0\\right\\}"),ci("Layout",["\\overset","\\underset","\\stackrel","\\stackbin"],1200,"$0{arg}{x=0}"),ci("Layout",["\\rlap","\\mathrlap"],1200,"$0{/}0"),ci("Layout",["\\llap","\\mathllap"],1200,"o$0{/}"),ci("Fractions",["\\frac"],4e3,"$0{\\placeholder{}}{\\placeholder{}}"),ci("Fractions",["\\binom","\\dfrac","\\tfrac","\\dbinom","\\tbinom","\\pdiff","\\cfrac"],1200,"$0{\\placeholder{}}{\\placeholder{}}"),ci("Fractions",["\\over","\\atop","\\choose"],1200,'\\unicode{"2B1A} $0 \\unicode{"2B1A}'),ci("Fractions",["\\overwithdelims","\\atopwithdelims"],1200,'{\\unicode{"2B1A} $0{\\lbrace}{\\rbrace} \\unicode{"2B1A}}'),ci("Extensible Operators",["\\sum","\\prod","\\bigcap","\\bigcup","\\int"],4e3),ci("Extensible Operators",["\\bigoplus","\\smallint","\\iint","\\oint"],3e3),ci("Extensible Operators",["\\bigwedge","\\bigvee","\\coprod","\\bigsqcup","\\bigotimes","\\bigodot","\\biguplus","\\intop","\\sqcup","\\sqcap","\\uplus","\\wr","\\Cap","\\Cup","\\doublecap","\\doublecup","\\amalg","\\iiint","\\oiint","\\oiiint","\\intclockwise","\\varointclockwise","\\ointctrclockwise","\\intctrclockwise"],1200),ci("Accents",["\\vec"],4e3),ci("Accents",["\\bar","\\ddot","\\acute","\\tilde","\\check"],3e3,"$0{\\placeholder{}}"),ci("Accents",["\\^","\\`","\\'"],1200,"$0{e}"),ci("Accents",["\\c"],1200,"$0{c}"),ci("Accents",["\\~"],1200,"$0{n}"),ci("Accents",["\\mathring","\\hat","\\dot","\\breve","\\grave"],1200,"$0{\\placeholder{}}"),ci("Extensible Symbols",["\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftharpoon","\\overrightharpoon","\\overleftrightarrow","\\overbrace","\\overlinesegment","\\overgroup","\\widehat","\\widecheck","\\widetilde"],3e3,"$0{ABC}"),ci("Extensible Symbols",["\\underrightarrow","\\underleftarrow","\\underleftrightarrow","\\underbrace","\\underlinesegment","\\undergroup","\\utilde"],3e3,"$0{ABC}"),ci("Sizing",["\\tiny","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],1200,"$0{x=0}"),ci("Sizing",["\\big","\\Big","\\bigg","\\Bigg"],1200,"$0($0)"),ci("Sizing",["\\bigl","\\Bigl","\\biggl","\\Biggl"],1200,"$0("),ci("Sizing",["\\bigr","\\Bigr","\\biggr","\\Biggr"],1200,"$0)"),ci("Sizing",["\\bigm","\\Bigm","\\biggm","\\Biggm"],1200,"$0|"),ci("Letterlike Symbols",["\\nabla","\\partial","\\N","\\R","\\Q","\\C","\\Z","\\exponentialE","\\forall","\\exists","\\nexists"],4e3),ci("Letterlike Symbols",["\\doubleStruckCapitalP","\\P","\\ell","\\hbar","\\hslash","\\imath","\\jmath","\\imaginaryI","\\imaginaryJ","\\differentialD","\\rd","\\capitalDifferentialD","\\doubleStruckCapitalN","\\doubleStruckCapitalR","\\doubleStruckCapitalQ","\\doubleStruckCapitalC","\\doubleStruckCapitalZ","\\rD","\\differencedelta","\\mid","@","\\Re","\\Im","\\$","\\%","\\And","\\degree"],3e3),ci("Letterlike Symbols",["\\top","\\bot","\\scriptCapitalE","\\scriptCapitalH","\\scriptCapitalL","\\gothicCapitalC","\\gothicCapitalH","\\gothicCapitalI","\\gothicCapitalR","\\Bbbk","\\Finv","\\Game","\\wp","\\eth","\\mho","\\pounds","\\yen","\\euro"],1200),ci("Crosses",["\\dagger","\\dag"],4e3),ci("Crosses",["\\ddag","\\ddagger","\\maltese","\\textdagger","\\textdaggerdbl"],1200),ci("Various",["\\checkmark","\\diagup","\\diagdown","\\angle","\\measuredangle","\\sphericalangle","\\prime","\\doubleprime","\\backprime","\\backdoubleprime","\\sharp","\\flat","\\natural","\\&","\\#","\\clubsuit","\\spadesuit","\\diamondsuit","\\heartsuit","\\backslash","\\infty","/","\\_","\\/","|","'"],1200),ci("Various",["\\unicode"],1200,'$0{"2B1A}'),ci("Arrows",["\\longrightarrow","\\rightarrow","\\Longrightarrow","\\Rightarrow"],4e3),ci("Arrows",["\\longmapsto","\\mapsto","\\Longleftrightarrow","\\rightleftarrows","\\leftarrow","\\curvearrowleft","\\uparrow","\\downarrow","\\hookrightarrow","\\rightharpoonup","\\rightleftharpoons"],3e3),ci("Arrows",["\\Leftarrow","\\longleftrightarrow","\\longleftarrow","\\Longleftarrow","\\searrow","\\nearrow","\\swarrow","\\nwarrow","\\Uparrow","\\Downarrow","\\updownarrow","\\Updownarrow","\\hookleftarrow","\\leftharpoonup","\\leftharpoondown","\\rightharpoondown","\\leftrightarrows","\\dashrightarrow","\\dashleftarrow","\\leftleftarrows","\\Lleftarrow","\\twoheadleftarrow","\\leftarrowtail","\\looparrowleft","\\leftrightharpoons","\\circlearrowleft","\\Lsh","\\upuparrows","\\downharpoonleft","\\multimap","\\leftrightsquigarrow","\\twoheadrightarrow","\\rightarrowtail","\\looparrowright","\\curvearrowright","\\circlearrowright","\\Rsh","\\downdownarrows","\\upharpoonright","\\downharpoonright","\\rightsquigarrow","\\leadsto","\\Rrightarrow","\\restriction"],1200),ci("Arrows",["\\upharpoonleft","\\rightrightarrows"],0),ci("Negated Arrows",["\\nrightarrow","\\nRightarrow","\\nleftrightarrow","\\nLeftrightarrow","\\nleftarrow","\\nLeftarrow"],1200),ci("Extensible Symbols",["\\xrightarrow","\\xleftarrow","\\xRightarrow","\\xLeftarrow","\\xleftharpoonup","\\xleftharpoondown","\\xrightharpoonup","\\xrightharpoondown","\\xlongequal","\\xtwoheadleftarrow","\\xtwoheadrightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xrightleftharpoons","\\xleftrightharpoons","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium"],1200,"$0[below]{above}=0"),ci("Negated Relations",["\\nless","\\nleqslant","\\lneq","\\lneqq","\\nleqq","\\unlhd","\\unrhd","\\lvertneqq","\\lnsim","\\lnapprox","\\nprec","\\npreceq","\\precnsim","\\precnapprox","\\nsim","\\nshortmid","\\nmid","\\nvdash","\\nvDash","\\ngtr","\\ngeqslant","\\ngeqq","\\gneq","\\gneqq","\\gvertneqq","\\gnsim","\\nsucc","\\succnsim","\\ncong","\\nshortparallel","\\nparallel","\\nVDash","\\nVdash","\\precneqq","\\succneqq","\\gnapprox","\\succnapprox","\\nsucceq"],1200),ci("Hebrew",["\\aleph","\\beth","\\daleth","\\gimel"],1200),ci("Fences",["\\lbrace","\\rbrace","\\vert","\\Vert","\\{","\\}","(",")","[","]"],4e3),ci("Fences",["\\langle","\\rangle","\\lfloor","\\rfloor","\\lceil","\\rceil","\\mvert","\\|","\\mVert"],3e3),ci("Fences",["\\lvert","\\rvert","\\lVert","\\rVert","\\lbrack","\\rbrack","\\ulcorner","\\urcorner","\\llcorner","\\lrcorner","\\lgroup","\\rgroup","\\lmoustache","\\rmoustache"],1200),ci("Relations",["=","\\ne","\\neq","<",">","\\leqslant","\\geqslant","\\approx"],4e3),ci("Relations",["\\lt","\\gt","\\le","\\ge","\\leq","\\geq","\\gg","\\cong","\\equiv","\\prec","\\preceq","\\succ","\\perp","\\parallel","\\propto","\\smile","\\frown","\\sim","\\gtrsim"],3e3),ci("Relations",["\\coloneq","\\succeq","\\approxeq","\\thickapprox","\\lessapprox","\\gtrapprox","\\precapprox","\\succapprox","\\thicksim","\\succsim","\\precsim","\\backsim","\\eqsim","\\backsimeq","\\simeq","\\lesssim","\\nleq","\\ngeq","\\smallsmile","\\smallfrown","\\bowtie","\\asymp","\\leqq","\\eqslantless","\\ll","\\lll","\\lessgtr","\\lesseqgtr","\\lesseqqgtr","\\risingdotseq","\\fallingdotseq","\\preccurlyeq","\\curlyeqprec","\\vDash","\\Vvdash","\\bumpeq","\\Bumpeq","\\geqq","\\eqslantgtr","\\ggg","\\gtrless","\\gtreqless","\\gtreqqless","\\succcurlyeq","\\curlyeqsucc","\\Vdash","\\shortmid","\\shortparallel","\\between","\\pitchfork","\\varpropto","\\backepsilon","\\llless","\\gggtr","\\lhd","\\rhd","\\Join","\\doteq","\\doteqdot","\\Doteq","\\eqcirc","\\circeq","\\lessdot","\\gtrdot","\\measeq","\\eqdef","\\questeq"],1200),ci("Logic",["\\leftrightarrow","\\Leftrightarrow","\\to"],4e3),ci("Logic",["\\models","\\vdash"],3e3),ci("Logic",["\\therefore","\\because","\\implies","\\gets","\\dashv","\\impliedby","\\biconditional","\\roundimplies"],1200),ci("Operators",["+","-","*","\\cdot"],4e3),ci("Operators",["\\sqrt"],4e3,"$0{\\placeholder{}}"),ci("Operators",["\\pm","\\mp","\\times","\\div","\\surd"],3e3),ci("Operators",["\\ltimes","\\rtimes","\\leftthreetimes","\\rightthreetimes","\\intercal","\\dotplus","\\centerdot","\\doublebarwedge","\\divideontimes","\\divides"],1200),ci("Logic",["\\wedge","\\vee","\\neg"],4e3),ci("Logic",["\\lnot"],3e3),ci("Logic",["\\land","\\lor","\\barwedge","\\veebar","\\nor","\\curlywedge","\\curlyvee"],1200),ci("Greek",["\\alpha","\\beta","\\gamma","\\delta","\\epsilon","\\varepsilon","\\zeta","\\eta","\\theta","\\vartheta","\\iota","\\kappa","\\varkappa","\\lambda","\\mu","\\nu","\\xi","\\pi","\\varpi","\\rho","\\varrho","\\sigma","\\varsigma","\\tau","\\phi","\\varphi","\\upsilon","\\chi","\\psi","\\omega","\\Gamma","\\Delta","\\Theta","\\Lambda","\\Xi","\\Pi","\\Sigma","\\Upsilon","\\Phi","\\Psi","\\Omega","\\digamma","\\omicron"],3e3),ci("Sets",["\\emptyset","\\varnothing","\\cap","\\cup","\\in","\\notin","\\subset","\\supset","\\subseteq","\\supseteq","\\sqsubseteq"],4e3),ci("Sets",["\\setminus","\\not","\\ni","\\sqsupseteq","\\nsupseteqq","\\supsetneq","\\varsupsetneq","\\supsetneqq","\\varsupsetneqq"],3e3),ci("Sets",["\\smallsetminus","\\complement","\\owns","\\subsetneq","\\varsubsetneq","\\subsetneqq","\\varsubsetneqq","\\nsubset","\\nsupset","\\nsubseteq","\\nsupseteq","\\nsubseteqq","\\subseteqq","\\Subset","\\sqsubset","\\supseteqq","\\Supset","\\sqsupset"],1200),ci("Spacing",["\\space, \\quad","\\qquad"],3e3,'\\unicode{"203A}$0\\unicode{"2039}'),ci("Spacing",["\\!","\\,","\\:","\\;","\\enskip","\\enspace"],1200,'\\unicode{"203A}$0\\unicode{"2039}'),ci("Spacing",["\\hspace","\\hspace*"],1200,'\\unicode{"203A}$0{1em}\\unicode{"2039}'),ci("Punctuation",["\\colon","\\cdotp","\\ldots","\\cdots","\\ddots","\\vdots","?","!",":",'"',",",".",";"],3e3),ci("Punctuation",["\\mathellipsis","\\ldotp","\\Colon"],1200),ci("Boxes",["\\square","\\Box"],3e3),ci("Boxes",["\\blacksquare","\\boxminus","\\boxplus","\\boxtimes","\\boxdot"],1200),ci("Circles",["\\circ","\\bullet","\\circleddash","\\oplus","\\otimes"],3e3),ci("Circles",["\\bigcirc","\\circledast","\\ominus","\\circledcirc","\\oslash","\\circledS","\\circledR","\\odot"],1200),ci("Triangles",["\\triangle","\\triangleq"],3e3),ci("Triangles",["\\bigtriangleup","\\vartriangle","\\triangledown","\\bigtriangledown","\\triangleleft","\\vartriangleleft","\\trianglelefteq","\\ntriangleleft","\\ntrianglelefteq","\\triangleright","\\vartriangleright","\\trianglerighteq","\\ntriangleright","\\ntrianglerighteq","\\blacktriangle","\\blacktriangledown","\\blacktriangleleft","\\blacktriangleright"],1200),ci("Shapes",["\\ast","\\star"],3e3),ci("Shapes",["\\diamond","\\Diamond","\\lozenge","\\blacklozenge","\\bigstar"],1200);const ui={strings:{en:{"keyboard.tooltip.functions":"Functions","keyboard.tooltip.symbols":"Symbols","keyboard.tooltip.greek":"Greek Letters","keyboard.tooltip.command":"LaTeX Command Mode","keyboard.tooltip.numeric":"Numeric","keyboard.tooltip.roman":"Roman Letters","tooltip.copy to clipboard":"Copy to Clipboard","tooltip.redo":"Redo","tooltip.toggle virtual keyboard":"Toggle Virtual Keyboard","tooltip.undo":"Undo","menu.insert matrix":"Insert Matrix","menu.insert vector":"Insert Vector","submenu.array.matrix delimiters":"Matrix Delimiters","menu.array.add row above":"Add Row After","menu.array.add row below":"Add Row Before","menu.array.add column after":"Add Column After","menu.array.add column before":"Add Column Before","menu.array.delete row":"Delete Row","menu.array.delete rows":"Delete Selected Rows","menu.array.delete column":"Delete Column","menu.array.delete columns":"Delete Selected Columns","submenu.array.insert separator":"Insert Separator","menu.insert table":"Insert Table","submenu.table style":"Table Style"},ar:{"keyboard.tooltip.functions":"ÙÙØ§Ù","keyboard.tooltip.symbols":"Ø­Ø±Ù Ø§Ù Ø±ÙØ²","keyboard.tooltip.greek":"Ø­Ø±ÙÙ ÙÙÙØ§ÙÙØ©","keyboard.tooltip.command":"Ø­Ø§ÙØ© ØªÙÙÙ Ø§ÙØ£ÙØ§ÙØ± Ø§ÙÙØ§ØªÙ","keyboard.tooltip.numeric":"Ø§ÙØ±ÙÙÙØ©","keyboard.tooltip.roman":"Ø±ÙÙØ² Ø§ÙØ§Ø­Ø±Ù Ø§ÙØ±ÙÙØ§ÙÙØ©","tooltip.copy to clipboard":"ÙØ³Ø® Ø¥ÙÙ Ø§ÙØ­Ø§ÙØ¸Ø©","tooltip.redo":"Ø§ÙØ¥Ø¹Ø§Ø¯Ø©","tooltip.toggle virtual keyboard":"ØªØ¨Ø¯ÙÙ ÙÙØ­Ø© Ø§ÙÙÙØ§ØªÙØ­ Ø§ÙØ¥ÙØªØ±Ø§Ø¶ÙØ©","tooltip.undo":"Ø¥ÙØºØ§Ø¡","menu.insert matrix":"Ø£Ø¯Ø®Ù Ø§ÙÙØµÙÙÙØ©","menu.insert vector":"Ø£Ø¯Ø®Ù ÙØªØ¬Ù","submenu.array.matrix delimiters":"ÙØ­Ø¯Ø¯Ø§Øª Ø§ÙÙØµÙÙÙØ©","menu.array.add row above":"Ø£Ø¶Ù ØµÙÙØ§ Ø¨Ø¹Ø¯ Ø°ÙÙ","menu.array.add row below":"Ø£Ø¶Ù Ø§ÙØµÙ ÙØ¨Ù","menu.array.add column after":"Ø£Ø¶Ù Ø§ÙØ¹ÙÙØ¯ Ø¨Ø¹Ø¯ Ø°ÙÙ","menu.array.add column before":"Ø£Ø¶Ù Ø§ÙØ¹ÙÙØ¯ ÙØ¨Ù","menu.array.delete row":"Ø§Ø­Ø°Ù ØµÙ","menu.array.delete rows":"Ø­Ø°Ù Ø§ÙØµÙÙÙ Ø§ÙÙØ­Ø¯Ø¯Ø©","menu.array.delete column":"Ø­Ø°Ù Ø§ÙØ¹ÙÙØ¯","menu.array.delete columns":"Ø­Ø°Ù Ø§ÙØ£Ø¹ÙØ¯Ø© Ø§ÙÙØ­Ø¯Ø¯Ø©","submenu.array.insert separator":"Ø£Ø¯Ø®Ù ÙØ§ØµÙ","menu.insert table":"Ø¥Ø¯Ø±Ø§Ø¬ Ø¬Ø¯ÙÙ","submenu.table style":"ÙÙØ· Ø§ÙØ¬Ø¯ÙÙ"},bs:{"keyboard.tooltip.functions":"Funkcije","keyboard.tooltip.symbols":"Simboli","keyboard.tooltip.greek":"GrÄka slova","keyboard.tooltip.command":"LaTeX naredbeni naÄin","keyboard.tooltip.numeric":"NumeriÄki","keyboard.tooltip.roman":"Rimska slova","tooltip.copy to clipboard":"Kopirati u clipboard","tooltip.redo":"Ponovi","tooltip.toggle virtual keyboard":"UkljuÄi / iskljuÄi virtualnu tipkovnicu","tooltip.undo":"PoniÅ¡ti","menu.insert matrix":"Umetni matricu","menu.insert vector":"Umetni vektor","submenu.array.matrix delimiters":"MatriÄni razdjelnici","menu.array.add row above":"Dodaj redak nakon","menu.array.add row below":"Dodaj red prije","menu.array.add column after":"Dodaj stupac nakon","menu.array.add column before":"Dodaj stupac prije","menu.array.delete row":"IzbriÅ¡i red","menu.array.delete rows":"IzbriÅ¡i odabrane redove","menu.array.delete column":"IzbriÅ¡i stupac","menu.array.delete columns":"IzbriÅ¡i odabrane stupce","submenu.array.insert separator":"Umetni separator","menu.insert table":"Ubaci tabelu","submenu.table style":"Stil tabele"},cs:{"keyboard.tooltip.functions":"Funkce","keyboard.tooltip.symbols":"Symboly","keyboard.tooltip.greek":"ÅeckÃ© dopisy","keyboard.tooltip.command":"PÅÃ­kazovÃ½ reÅ¾im LaTeX","keyboard.tooltip.numeric":"ÄÃ­selnÃ©","keyboard.tooltip.roman":"ÅÃ­mskÃ© dopisy","tooltip.copy to clipboard":"ZkopÃ­rovat do schrÃ¡nky","tooltip.redo":"PÅedÄlat","tooltip.toggle virtual keyboard":"PÅepnout virtuÃ¡lnÃ­ klÃ¡vesnici","tooltip.undo":"VrÃ¡tit","menu.insert matrix":"VloÅ¾te matici","menu.insert vector":"VloÅ¾it vektor","submenu.array.matrix delimiters":"OddÄlovaÄe matic","menu.array.add row above":"PÅidat ÅÃ¡dek za","menu.array.add row below":"PÅidat ÅÃ¡dek pÅed","menu.array.add column after":"PÅidat sloupec za","menu.array.add column before":"PÅidat sloupec dÅÃ­ve","menu.array.delete row":"Odstranit ÅÃ¡dek","menu.array.delete rows":"Odstranit vybranÃ© ÅÃ¡dky","menu.array.delete column":"Odstranit sloupec","menu.array.delete columns":"Odstranit vybranÃ© sloupce","submenu.array.insert separator":"VloÅ¾te oddÄlovaÄ","menu.insert table":"VloÅ¾it tabulku","submenu.table style":"Styl tabulky"},da:{"keyboard.tooltip.functions":"Funktioner","keyboard.tooltip.symbols":"Symboler","keyboard.tooltip.greek":"GrÃ¦ske bogstaver","keyboard.tooltip.command":"LaTeX kommandotilstand","keyboard.tooltip.numeric":"Numerisk","keyboard.tooltip.roman":"Romerske breve","tooltip.copy to clipboard":"Kopier til udklipsholder","tooltip.redo":"Gentag igen","tooltip.toggle virtual keyboard":"Skift virtuelt tastatur","tooltip.undo":"Fortryd","menu.insert matrix":"IndsÃ¦t matrix","menu.insert vector":"IndsÃ¦t vektor","submenu.array.matrix delimiters":"MatrixafgrÃ¦nsere","menu.array.add row above":"TilfÃ¸j rÃ¦kke efter","menu.array.add row below":"TilfÃ¸j rÃ¦kke fÃ¸r","menu.array.add column after":"TilfÃ¸j kolonne efter","menu.array.add column before":"TilfÃ¸j kolonne fÃ¸r","menu.array.delete row":"Slet rÃ¦kke","menu.array.delete rows":"Slet valgte rÃ¦kker","menu.array.delete column":"Slet kolonne","menu.array.delete columns":"Slet valgte kolonner","submenu.array.insert separator":"IndsÃ¦t separator","menu.insert table":"IndsÃ¦t tabel","submenu.table style":"Tabelstil"},de:{"keyboard.tooltip.functions":"Funktionen","keyboard.tooltip.symbols":"Symbole","keyboard.tooltip.greek":"Griechische Buchstaben","keyboard.tooltip.command":"LaTeX-Befehlsmodus","keyboard.tooltip.numeric":"Numerisch","keyboard.tooltip.roman":"RÃ¶mische Buchstaben","tooltip.copy to clipboard":"In die Zwischenablage kopieren","tooltip.redo":"Wiederholen","tooltip.toggle virtual keyboard":"Virtuelle Tastatur umschalten","tooltip.undo":"Widerrufen","menu.insert matrix":"Matrix einfÃ¼gen","menu.insert vector":"Vektor einfÃ¼gen","submenu.array.matrix delimiters":"Matrixtrennzeichen","menu.array.add row above":"Zeile hinzufÃ¼gen nach","menu.array.add row below":"Zeile hinzufÃ¼gen vor","menu.array.add column after":"Spalte hinzufÃ¼gen nach","menu.array.add column before":"Spalte hinzufÃ¼gen vor","menu.array.delete row":"Zeile lÃ¶schen","menu.array.delete rows":"AusgewÃ¤hlte Zeilen lÃ¶schen","menu.array.delete column":"Spalte lÃ¶schen","menu.array.delete columns":"AusgewÃ¤hlte Spalten lÃ¶schen","submenu.array.insert separator":"Trennzeichen einfÃ¼gen","menu.insert table":"Tabelle einfÃ¼gen","submenu.table style":"Tabellenstil"},el:{"keyboard.tooltip.functions":"ÏÏÎ½Î±ÏÏÎ®ÏÎµÎ¹Ï","keyboard.tooltip.symbols":"ÏÏÎ¼Î²Î¿Î»Î±","keyboard.tooltip.greek":"ÎµÎ»Î»Î·Î½Î¹ÎºÎ¬ Î³ÏÎ¬Î¼Î¼Î±ÏÎ±","keyboard.tooltip.command":"ÎÎµÎ¹ÏÎ¿ÏÏÎ³Î¯Î± ÎµÎ½ÏÎ¿Î»ÏÎ½ LaTeX","keyboard.tooltip.numeric":"ÎÏÎ¹Î¸Î¼Î·ÏÎ¹ÎºÏÏ","keyboard.tooltip.roman":"Î¡ÏÎ¼Î±ÏÎºÎ¬ Î³ÏÎ¬Î¼Î¼Î±ÏÎ±","tooltip.copy to clipboard":"ÎÎ½ÏÎ¹Î³ÏÎ±ÏÎ® ÏÏÎ¿ ÏÏÏÏÎµÎ¹ÏÎ¿","tooltip.redo":"ÎÎ±Î½Î±ÎºÎ¬Î½Ï","tooltip.toggle virtual keyboard":"ÎÎ½Î±Î»Î»Î±Î³Î® ÎµÎ¹ÎºÎ¿Î½Î¹ÎºÎ¿Ï ÏÎ»Î·ÎºÏÏÎ¿Î»Î¿Î³Î¯Î¿Ï","tooltip.undo":"ÎÎµÎºÎ¬Î½Ï","menu.insert matrix":"ÎÎ¹ÏÎ±Î³ÏÎ³Î® Matrix","menu.insert vector":"ÎÎ¹ÏÎ±Î³ÏÎ³Î® Î´Î¹Î±Î½ÏÏÎ¼Î±ÏÎ¿Ï","submenu.array.matrix delimiters":"ÎÏÎ¹Î¿Î¸Î­ÏÎµÏ Matrix","menu.array.add row above":"Î ÏÎ¿ÏÎ¸Î®ÎºÎ· ÏÎµÎ¹ÏÎ¬Ï Î¼ÎµÏÎ¬","menu.array.add row below":"Î ÏÎ¿ÏÎ¸Î®ÎºÎ· ÏÎµÎ¹ÏÎ¬Ï ÏÏÎ¹Î½","menu.array.add column after":"Î ÏÎ¿ÏÎ¸Î®ÎºÎ· ÏÏÎ®Î»Î·Ï Î¼ÎµÏÎ¬","menu.array.add column before":"Î ÏÎ¿ÏÎ¸Î®ÎºÎ· ÏÏÎ®Î»Î·Ï ÏÏÎ¹Î½","menu.array.delete row":"ÎÎ¹Î±Î³ÏÎ±ÏÎ® ÏÎµÎ¹ÏÎ¬Ï","menu.array.delete rows":"ÎÎ¹Î±Î³ÏÎ±ÏÎ® ÎµÏÎ¹Î»ÎµÎ³Î¼Î­Î½ÏÎ½ ÏÎµÎ¹ÏÏÎ½","menu.array.delete column":"ÎÎ¹Î±Î³ÏÎ±ÏÎ® ÏÏÎ®Î»Î·Ï","menu.array.delete columns":"ÎÎ¹Î±Î³ÏÎ±ÏÎ® ÎµÏÎ¹Î»ÎµÎ³Î¼Î­Î½ÏÎ½ ÏÏÎ·Î»ÏÎ½","submenu.array.insert separator":"ÎÎ¹ÏÎ±Î³ÏÎ³Î® Î´Î¹Î±ÏÏÏÎ¹ÏÏÎ¹ÎºÎ¿Ï","menu.insert table":"ÎÎ¹ÏÎ±Î³ÏÎ³Î® ÏÎ¯Î½Î±ÎºÎ±","submenu.table style":"Î£ÏÏÎ» ÏÎ¯Î½Î±ÎºÎ±"},es:{"keyboard.tooltip.functions":"Funciones","keyboard.tooltip.symbols":"SÃ­mbolos","keyboard.tooltip.greek":"Letras griegas","keyboard.tooltip.command":"Modo Comando LaTeX","keyboard.tooltip.numeric":"NumÃ©rico","keyboard.tooltip.roman":"Letras romanas","tooltip.copy to clipboard":"Copiar al portapapeles","tooltip.redo":"Rehacer","tooltip.toggle virtual keyboard":"Alternar teclado virtual","tooltip.undo":"Deshacer","menu.insert matrix":"AÃ±adir Matriz","menu.insert vector":"AÃ±adir vector","submenu.array.matrix delimiters":"Delimitadores de Matriz","menu.array.add row above":"AÃ±adir LÃ­nea Antes","menu.array.add row below":"AÃ±adir LÃ­nea Despues","menu.array.add column after":"AÃ±adir Columna Despues","menu.array.add column before":"AÃ±adir Columna Antes","menu.array.delete row":"Borrar LÃ­nea","menu.array.delete rows":"Borrar LÃ­neas Seleccionadas","menu.array.delete column":"Borrar Columna","menu.array.delete columns":"Borrar Columnas Seleccionadas","submenu.array.insert separator":"Insertar un Separador","menu.insert table":"Insertar Tabla","submenu.table style":"Estilo de Tabla"},et:{"keyboard.tooltip.functions":"Funktsioonid","keyboard.tooltip.symbols":"SÃ¼mbolid","keyboard.tooltip.greek":"Kreeka kirjad","keyboard.tooltip.command":"LaTeXi kÃ¤sureÅ¾iim","keyboard.tooltip.numeric":"Numbriline","keyboard.tooltip.roman":"Rooma kirjad","tooltip.copy to clipboard":"Kopeerida lÃµikelauale","tooltip.redo":"Tee uuesti","tooltip.toggle virtual keyboard":"LÃ¼litage sisse virtuaalne klaviatuur","tooltip.undo":"VÃµta tagasi","menu.insert matrix":"Sisesta maatriks","menu.insert vector":"Sisesta vektor","submenu.array.matrix delimiters":"Maatriksi eraldajad","menu.array.add row above":"Lisa rida pÃ¤rast","menu.array.add row below":"Lisa rida enne","menu.array.add column after":"Lisa veerg pÃ¤rast","menu.array.add column before":"Lisa veerg enne","menu.array.delete row":"Kustuta rida","menu.array.delete rows":"Kustuta valitud read","menu.array.delete column":"Kustuta veerg","menu.array.delete columns":"Kustuta valitud veerud","submenu.array.insert separator":"Sisestage eraldaja","menu.insert table":"Sisesta tabel","submenu.table style":"Laua stiil"},fa:{"keyboard.tooltip.functions":"ØªÙØ§Ø¨Ø¹","keyboard.tooltip.symbols":"ÙÙØ§Ø¯ÙØ§","keyboard.tooltip.greek":"Ø­Ø±ÙÙ ÛÙÙØ§ÙÛ","keyboard.tooltip.command":"Ø­Ø§ÙØª Ø¯Ø³ØªÙØ± ÙØ§ØªÚ©","keyboard.tooltip.numeric":"Ø¹Ø¯Ø¯Û","keyboard.tooltip.roman":"Ø­Ø±ÙÙ Ø±ÙÙÛ","tooltip.copy to clipboard":"Ú©Ù¾Û Ø¨Ù Ú©ÙÛÙ¾Ø¨ÙØ±Ø¯","tooltip.redo":"Ø¨Ø§Ø²Ú¯Ø´Øª Ø¨Ù Ø¨Ø¹Ø¯","tooltip.toggle virtual keyboard":"ÙÙØ§ÛØ´/ÙÙÙØªÙ Ú©ÛØ¨ÙØ±Ø¯ ÙØ¬Ø§Ø²Û","tooltip.undo":"Ø¨Ø§Ø²Ú¯Ø´Øª Ø¨Ù ÙØ¨Ù","menu.insert matrix":"ÙØ§ØªØ±ÛØ³ Ø±Ø§ ÙØ§Ø±Ø¯ Ú©ÙÛØ¯","menu.insert vector":"Ø¯Ø±Ø¬ Ø¨Ø±Ø¯Ø§Ø±","submenu.array.matrix delimiters":"ÙØ±Ø²ÙØ§Û ÙØ§ØªØ±ÛØ³","menu.array.add row above":"Ø¨Ø¹Ø¯ Ø§Ø² Ø¢Ù Ø±Ø¯ÛÙ Ø§Ø¶Ø§ÙÙ Ú©ÙÛØ¯","menu.array.add row below":"Ø±Ø¯ÛÙ Ø±Ø§ ÙØ¨Ù Ø§Ø¶Ø§ÙÙ Ú©ÙÛØ¯","menu.array.add column after":"Ø§Ø¶Ø§ÙÙ Ú©Ø±Ø¯Ù Ø³ØªÙÙ Ø¨Ø¹Ø¯","menu.array.add column before":"Ø³ØªÙÙ ÙØ¨Ù Ø±Ø§ Ø§Ø¶Ø§ÙÙ Ú©ÙÛØ¯","menu.array.delete row":"Ø±Ø¯ÛÙ Ø±Ø§ Ø­Ø°Ù Ú©ÙÛØ¯","menu.array.delete rows":"Ø±Ø¯ÛÙ ÙØ§Û Ø§ÙØªØ®Ø§Ø¨ Ø´Ø¯Ù Ø±Ø§ Ø­Ø°Ù Ú©ÙÛØ¯","menu.array.delete column":"Ø­Ø°Ù Ø³ØªÙÙ","menu.array.delete columns":"Ø³ØªÙÙ ÙØ§Û Ø§ÙØªØ®Ø§Ø¨ Ø´Ø¯Ù Ø±Ø§ Ø­Ø°Ù Ú©ÙÛØ¯","submenu.array.insert separator":"Ø¯Ø±Ø¬ Ø¬Ø¯Ø§ Ú©ÙÙØ¯Ù","menu.insert table":"ÙØ±Ø§Ø± Ø¯Ø§Ø¯Ù Ø¬Ø¯ÙÙ","submenu.table style":"Ø³Ø¨Ú© ÙÛØ²"},fi:{"keyboard.tooltip.functions":"Toiminnot","keyboard.tooltip.symbols":"Symbolit","keyboard.tooltip.greek":"Kreikkalaiset kirjeet","keyboard.tooltip.command":"LaTeX-komentotila","keyboard.tooltip.numeric":"Numeerinen","keyboard.tooltip.roman":"Roomalaiset kirjeet","tooltip.copy to clipboard":"Kopioi leikepÃ¶ydÃ¤lle","tooltip.redo":"Tee uudelleen","tooltip.toggle virtual keyboard":"Vaihda virtuaalinÃ¤ppÃ¤imistÃ¶","tooltip.undo":"Kumoa","menu.insert matrix":"LisÃ¤Ã¤ matriisi","menu.insert vector":"LisÃ¤Ã¤ vektori","submenu.array.matrix delimiters":"Matriisin erottimet","menu.array.add row above":"LisÃ¤Ã¤ rivi jÃ¤lkeen","menu.array.add row below":"LisÃ¤Ã¤ rivi ennen","menu.array.add column after":"LisÃ¤Ã¤ sarake jÃ¤lkeen","menu.array.add column before":"LisÃ¤Ã¤ sarake ennen","menu.array.delete row":"Poista rivi","menu.array.delete rows":"Poista valitut rivit","menu.array.delete column":"Poista sarake","menu.array.delete columns":"Poista valitut sarakkeet","submenu.array.insert separator":"Aseta erotin","menu.insert table":"LisÃ¤Ã¤ taulukko","submenu.table style":"Taulukon tyyli"},fr:{"keyboard.tooltip.functions":"Fonctions","keyboard.tooltip.symbols":"Symboles","keyboard.tooltip.greek":"Lettres grecques","keyboard.tooltip.command":"Mode de commandes LaTeX","keyboard.tooltip.numeric":"NumÃ©rique","keyboard.tooltip.roman":"Lettres romaines","tooltip.copy to clipboard":"Copier dans le presse-papiers","tooltip.redo":"RÃ©tablir","tooltip.toggle virtual keyboard":"Afficher/Masquer le clavier virtuel","tooltip.undo":"Annuler","menu.insert matrix":"InsÃ©rer une Matrice","menu.insert vector":"InsÃ©rer un Vecteur","submenu.array.matrix delimiters":"DÃ©limiteurs de la Matrice","menu.array.add row above":"Ajouter une Ligne Avant","menu.array.add row below":"Ajouter une Ligne AprÃ¨s","menu.array.add column before":"Ajouter une Colonne Avant","menu.array.add column after":"Ajouter une Colonne AprÃ¨s","menu.array.delete row":"Enlever une Ligne","menu.array.delete rows":"Enlever les Lignes SÃ©lectionÃ©es","menu.array.delete column":"Enlever une Colone","menu.array.delete columns":"Enlever les Colonnes SÃ©lectionÃ©es","submenu.array.insert separator":"InsÃ©rer un SÃ©parateur","menu.insert table":"InsÃ©rer une Table","submenu.table style":"Style de la  Table"},ga:{"keyboard.tooltip.functions":"Feidhmeanna","keyboard.tooltip.symbols":"SiombailÃ­","keyboard.tooltip.greek":"Litreacha na GrÃ©ige","keyboard.tooltip.command":"MÃ³d OrdÃº LaTeX","keyboard.tooltip.numeric":"UimhriÃºil","keyboard.tooltip.roman":"Litreacha RÃ³mhÃ¡nacha","tooltip.copy to clipboard":"CÃ³ipeÃ¡il chuig an Ghearrthaisce","tooltip.redo":"AthdhÃ©an","tooltip.toggle virtual keyboard":"MÃ©archlÃ¡ir FÃ­orÃºil a FhÃ¡il","tooltip.undo":"Cealaigh"},hr:{"keyboard.tooltip.functions":"Funkcije","keyboard.tooltip.symbols":"Simboli","keyboard.tooltip.greek":"GrÄka slova","keyboard.tooltip.command":"LaTeX naredbeni naÄin","keyboard.tooltip.numeric":"NumeriÄki","keyboard.tooltip.roman":"Rimska slova","tooltip.copy to clipboard":"Kopirati u meÄuspremnik","tooltip.redo":"Ponovi","tooltip.toggle virtual keyboard":"UkljuÄi / iskljuÄi virtualnu tipkovnicu","tooltip.undo":"PoniÅ¡ti"},in:{"keyboard.tooltip.functions":"à¤à¤¾à¤°à¥à¤¯à¥à¤","keyboard.tooltip.symbols":"à¤ªà¥à¤°à¤¤à¥à¤","keyboard.tooltip.greek":"à¤à¥à¤°à¥à¤ à¤à¤à¥à¤·à¤°","keyboard.tooltip.command":"à¤²à¤¾à¤à¥à¤à¥à¤¸ à¤à¤®à¤¾à¤à¤¡ à¤®à¥à¤¡","keyboard.tooltip.numeric":"à¤¸à¤à¤à¥à¤¯à¤¾à¤¤à¥à¤®à¤","keyboard.tooltip.roman":"à¤°à¥à¤®à¤¨ à¤ªà¤¤à¥à¤°","tooltip.copy to clipboard":"à¤à¥à¤²à¤¿à¤ªà¤¬à¥à¤°à¥à¤¡ à¤ªà¤° à¤à¥à¤ªà¥ à¤à¤°à¥à¤","tooltip.redo":"à¤«à¤¿à¤° à¤¸à¥ à¤à¤°à¥à¤","tooltip.toggle virtual keyboard":"à¤µà¤°à¥à¤à¥à¤à¤² à¤à¥à¤¬à¥à¤°à¥à¤¡ à¤à¥à¤à¤² à¤à¤°à¥à¤","tooltip.undo":"à¤ªà¥à¤°à¥à¤µà¤µà¤¤","menu.insert matrix":"à¤®à¥à¤à¥à¤°à¤¿à¤à¥à¤¸ à¤¡à¤¾à¤²à¥à¤","menu.insert vector":"à¤µà¥à¤à¥à¤à¤° à¤¡à¤¾à¤²à¥à¤","submenu.array.matrix delimiters":"à¤®à¥à¤à¥à¤°à¤¿à¤à¥à¤¸ à¤¸à¥à¤®à¤¾à¤à¤à¤","menu.array.add row above":"à¤¬à¤¾à¤¦ à¤®à¥à¤ à¤ªà¤à¤à¥à¤¤à¤¿ à¤à¥à¤¡à¤¼à¥à¤","menu.array.add row below":"à¤ªà¤¹à¤²à¥ à¤ªà¤à¤à¥à¤¤à¤¿ à¤à¥à¤¡à¤¼à¥à¤","menu.array.add column after":"à¤¬à¤¾à¤¦ à¤®à¥à¤ à¤à¥à¤²à¤® à¤à¥à¤¡à¤¼à¥à¤","menu.array.add column before":"à¤ªà¤¹à¤²à¥ à¤à¥à¤²à¤® à¤à¥à¤¡à¤¼à¥à¤","menu.array.delete row":"à¤ªà¤à¤à¥à¤¤à¤¿ à¤à¥ à¤¹à¤à¤¾à¤à¤","menu.array.delete rows":"à¤à¤¯à¤¨à¤¿à¤¤ à¤ªà¤à¤à¥à¤¤à¤¿à¤¯à¥à¤ à¤à¥ à¤¹à¤à¤¾à¤à¤","menu.array.delete column":"à¤à¥à¤²à¤® à¤¹à¤à¤¾à¤à¤","menu.array.delete columns":"à¤à¤¯à¤¨à¤¿à¤¤ à¤à¥à¤²à¤® à¤¹à¤à¤¾à¤à¤","submenu.array.insert separator":"à¤µà¤¿à¤­à¤¾à¤à¤ à¤¡à¤¾à¤²à¥à¤","menu.insert table":"à¤à¥à¤¬à¤² à¤à¤à¤¸à¤°à¥à¤ à¤à¤°à¥à¤","submenu.table style":"à¤à¥à¤¬à¤² à¤¸à¥à¤à¤¾à¤à¤²"},it:{"keyboard.tooltip.functions":"Funzioni","keyboard.tooltip.symbols":"Simboli","keyboard.tooltip.greek":"Lettere greche","keyboard.tooltip.command":"ModalitÃ  di comando LaTeX","keyboard.tooltip.numeric":"Numerico","keyboard.tooltip.roman":"Lettere romane","tooltip.copy to clipboard":"Copia negli appunti","tooltip.redo":"Rifare","tooltip.toggle virtual keyboard":"Attiva / disattiva la tastiera virtuale","tooltip.undo":"Disfare","menu.insert matrix":"Inserisci una Matrice","menu.insert vector":"Inserisci Vettore","submenu.array.matrix delimiters":"Delimitatori di Matrice","menu.array.add row above":"Aggiungi una Riga Prima","menu.array.add row below":"Aggiungi una Riga Dopo","menu.array.add column before":"Aggiungi una Colonna Prima","menu.array.add column after":"Aggiungi una Colonna Dopo","menu.array.delete row":"Rimuovi una Riga","menu.array.delete rows":"Rimuovi le Righe Selezionate","menu.array.delete column":"Rimuovi una Colonna","menu.array.delete columns":"Rimuovi le Colonne Selezionate","submenu.array.insert separator":"Inserisci un Separatore","menu.insert table":"Inserisci Tabella","submenu.table style":"Stile tabella"},is:{"keyboard.tooltip.functions":"AÃ°gerÃ°ir","keyboard.tooltip.symbols":"TÃ¡kn","keyboard.tooltip.greek":"GrÃ­sk brÃ©f","keyboard.tooltip.command":"LaTeX stjÃ³rnunarstilling","keyboard.tooltip.numeric":"TÃ¶lulegt","keyboard.tooltip.roman":"RÃ³mversk brÃ©f","tooltip.copy to clipboard":"AfritaÃ°u Ã¡ klemmuspjald","tooltip.redo":"Endurtaka","tooltip.toggle virtual keyboard":"Skiptu um sÃ½ndarlyklaborÃ°","tooltip.undo":"Afturkalla"},ja:{"keyboard.tooltip.functions":"é¢æ°","keyboard.tooltip.symbols":"ã·ã³ãã«","keyboard.tooltip.greek":"ã®ãªã·ã£æå­","keyboard.tooltip.command":"ã©ããã¯ã¹ã³ãã³ãã¢ã¼ã","keyboard.tooltip.numeric":"æ°å¤","keyboard.tooltip.roman":"ã­ã¼ãå­","tooltip.copy to clipboard":"ã¯ãªãããã¼ãã«ã³ãã¼","tooltip.redo":"ããç´ã","tooltip.toggle virtual keyboard":"ä»®æ³ã­ã¼ãã¼ãã®åãæ¿ã","tooltip.undo":"åã«æ»ã","menu.insert matrix":"ãããªãã¯ã¹ãæ¿å¥","menu.insert vector":"ãã¯ãã«ãæ¿å¥","submenu.array.matrix delimiters":"è¡ååºåãæå­","menu.array.add row above":"å¾ã«è¡ãè¿½å ","menu.array.add row below":"åã«è¡ãè¿½å ","menu.array.add column after":"å¾ã«åãè¿½å ","menu.array.add column before":"åã«åãè¿½å ","menu.array.delete row":"è¡ãåé¤","menu.array.delete rows":"é¸æããè¡ãåé¤ãã","menu.array.delete column":"åãåé¤","menu.array.delete columns":"é¸æããåãåé¤ãã","submenu.array.insert separator":"ã»ãã¬ã¼ã¿ã¼ãæ¿å¥","menu.insert table":"ãã¼ãã«ãæ¿å¥","submenu.table style":"ãã¼ãã«ã¹ã¿ã¤ã«"},ko:{"keyboard.tooltip.functions":"ê¸°ë¥","keyboard.tooltip.symbols":"ê¸°í¸","keyboard.tooltip.greek":"ê·¸ë¦¬ì¤ ë¬¸ì","keyboard.tooltip.command":"ì ì¡ ëªë ¹ ëª¨ë","keyboard.tooltip.numeric":"ì«ì","keyboard.tooltip.roman":"ë¡ë§ ë¬¸ì","tooltip.copy to clipboard":"í´ë¦½ ë³´ëì ë³µì¬","tooltip.redo":"ë¤ì íë¤","tooltip.toggle virtual keyboard":"ê°ì í¤ë³´ë ì í","tooltip.undo":"ì¤í ì·¨ì","menu.insert matrix":"ë§¤í¸ë¦­ì¤ ì½ì","menu.insert vector":"ë²¡í° ì½ì","submenu.array.matrix delimiters":"íë ¬ êµ¬ë¶ ê¸°í¸","menu.array.add row above":"ë¤ì í ì¶ê°","menu.array.add row below":"ìì í ì¶ê°","menu.array.add column after":"ë¤ì ì´ ì¶ê°","menu.array.add column before":"ìì ì´ ì¶ê°","menu.array.delete row":"í ì­ì ","menu.array.delete rows":"ì íí í ì­ì ","menu.array.delete column":"ì´ ì­ì ","menu.array.delete columns":"ì íí ì´ ì­ì ","submenu.array.insert separator":"êµ¬ë¶ì ì½ì","menu.insert table":"í ì½ì","submenu.table style":"íì´ë¸ ì¤íì¼"},lv:{"keyboard.tooltip.functions":"Funkcijas","keyboard.tooltip.symbols":"Simboli","keyboard.tooltip.greek":"GrieÄ·u burti","keyboard.tooltip.command":"LaTeX komandu reÅ¾Ä«ms","keyboard.tooltip.numeric":"Ciparu skaitlis","keyboard.tooltip.roman":"RomieÅ¡u vÄstules","tooltip.copy to clipboard":"KopÄt starpliktuvÄ","tooltip.redo":"PÄrtaisÄ«t","tooltip.toggle virtual keyboard":"PÄrslÄgt virtuÄlo tastatÅ«ru","tooltip.undo":"Atsaukt","menu.insert matrix":"Ievietojiet matricu","menu.insert vector":"Ievietot vektoru","submenu.array.matrix delimiters":"Matricas norobeÅ¾otÄji","menu.array.add row above":"Pievienot rindu pÄc","menu.array.add row below":"Pievienot rindu pirms","menu.array.add column after":"Pievienot kolonnu pÄc","menu.array.add column before":"Pievienot kolonnu pirms","menu.array.delete row":"DzÄst rindu","menu.array.delete rows":"DzÄst atlasÄ«tÄs rindas","menu.array.delete column":"DzÄst kolonnu","menu.array.delete columns":"DzÄst atlasÄ«tÄs kolonnas","submenu.array.insert separator":"Ievietojiet atdalÄ«tÄju","menu.insert table":"Ievietojiet tabulu","submenu.table style":"Galda stils"},lt:{"keyboard.tooltip.functions":"Funkcijos","keyboard.tooltip.symbols":"Simboliai","keyboard.tooltip.greek":"GraikiÅ¡kos raidÄs","keyboard.tooltip.command":"LaTeX komandÅ³ reÅ¾imas","keyboard.tooltip.numeric":"Skaitmeninis","keyboard.tooltip.roman":"Romos laiÅ¡kai","tooltip.copy to clipboard":"Nukopijuoti Ä¯ iÅ¡karpinÄ","tooltip.redo":"Perdaryti","tooltip.toggle virtual keyboard":"Perjungti virtualiÄjÄ klaviatÅ«rÄ","tooltip.undo":"AtÅ¡aukti"},nl:{"keyboard.tooltip.functions":"Functies","keyboard.tooltip.symbols":"Symbolen","keyboard.tooltip.greek":"Griekse letters","keyboard.tooltip.command":"LaTeX commando mode","keyboard.tooltip.numeric":"Numeriek","keyboard.tooltip.roman":"Romeinse letters","tooltip.copy to clipboard":"KopiÃ«ren naar klembord","tooltip.redo":"Opnieuw","tooltip.toggle virtual keyboard":"Schakel naar virtueel toetsenbord","tooltip.undo":"Ongedaan maken"},no:{"keyboard.tooltip.functions":"Funksjoner","keyboard.tooltip.symbols":"Symboler","keyboard.tooltip.greek":"Greske bokstaver","keyboard.tooltip.command":"LaTeX kommandomodus","keyboard.tooltip.numeric":"Numerisk","keyboard.tooltip.roman":"Romerske bokstaver","tooltip.copy to clipboard":"Kopiere til utklippstavle","tooltip.redo":"GjÃ¸re om","tooltip.toggle virtual keyboard":"Bytt virtuelt tastatur","tooltip.undo":"Angre"},pl:{"keyboard.tooltip.functions":"Funkcje","keyboard.tooltip.symbols":"Symbolika","keyboard.tooltip.greek":"Litery greckie","keyboard.tooltip.command":"Tryb poleceÅ LaTeX","keyboard.tooltip.numeric":"Numeryczne","keyboard.tooltip.roman":"Litery rzymskie","tooltip.copy to clipboard":"Kopiuj do Schowka","tooltip.redo":"PrzywrÃ³Ä","tooltip.toggle virtual keyboard":"PrzeÅÄcz wirtualnÄ klawiaturÄ","tooltip.undo":"Cofnij"},pt:{"keyboard.tooltip.functions":"Functions","keyboard.tooltip.symbols":"SÃ­mbolos","keyboard.tooltip.greek":"Letras gregas","keyboard.tooltip.command":"Modo de Comando LaTeX","keyboard.tooltip.numeric":"NumÃ©rico","keyboard.tooltip.roman":"Letras romanas","tooltip.copy to clipboard":"Copiar para Ã¡rea de transferÃªncia","tooltip.redo":"Refazer","tooltip.toggle virtual keyboard":"Alternar teclado virtual","tooltip.undo":"Desfazer"},sk:{"keyboard.tooltip.functions":"Functions","keyboard.tooltip.symbols":"Symboly","keyboard.tooltip.greek":"GrÃ©cke listy","keyboard.tooltip.command":"PrÃ­kazovÃ½ reÅ¾im LaTeX","keyboard.tooltip.numeric":"NumerickÃ©","keyboard.tooltip.roman":"RÃ­mske listy","tooltip.copy to clipboard":"SkopÃ­rovaÅ¥ do schrÃ¡nky","tooltip.redo":"Znova","tooltip.toggle virtual keyboard":"PrepnÃºÅ¥ virtuÃ¡lnu klÃ¡vesnicu","tooltip.undo":"VrÃ¡tenie spÃ¤Å¥"},sl:{"keyboard.tooltip.functions":"Funkcije","keyboard.tooltip.symbols":"Simboli","keyboard.tooltip.greek":"GrÅ¡ka pisma","keyboard.tooltip.command":"Ukazni naÄin LaTeX","keyboard.tooltip.numeric":"Å tevilsko","keyboard.tooltip.roman":"Rimska pisma","tooltip.copy to clipboard":"Kopirati v odloÅ¾iÅ¡Äe","tooltip.redo":"Ponovi","tooltip.toggle virtual keyboard":"Preklop navidezne tipkovnice","tooltip.undo":"Razveljavi"},sr:{"keyboard.tooltip.functions":"Ð¤ÑÐ½ÐºÑÐ¸ÑÐµ","keyboard.tooltip.symbols":"Ð¡Ð¸Ð¼Ð±Ð¾Ð»Ð¸","keyboard.tooltip.greek":"ÐÑÐµÐµÐº ÐÐµÑÑÐµÑÑ","keyboard.tooltip.command":"ÐÐ°Ð¢ÐµÐÑ ÐºÐ¾Ð¼Ð°Ð½Ð´Ð½Ð¸ ÑÐµÐ¶Ð¸Ð¼","keyboard.tooltip.numeric":"ÐÑÐ¼ÐµÑÐ¸ÑÐºÐ¸","keyboard.tooltip.roman":"Ð Ð¸Ð¼ÑÐºÐ° Ð¿Ð¸ÑÐ¼Ð°","tooltip.copy to clipboard":"ÐÐ¾Ð¿Ð¸ÑÐ°ÑÑÐµ Ñ Ð¼ÐµÑÑÑÐ¿ÑÐµÐ¼Ð½Ð¸Ðº","tooltip.redo":"ÐÐ¾Ð½Ð¾Ð²Ð¸","tooltip.toggle virtual keyboard":"Ð£ÐºÑÑÑÐ¸ / Ð¸ÑÐºÑÑÑÐ¸ Ð²Ð¸ÑÑÑÐµÐ»Ð½Ñ ÑÐ°ÑÑÐ°ÑÑÑÑ","tooltip.undo":"ÐÐ¿Ð¾Ð·Ð¾Ð²Ð¸"},sv:{"keyboard.tooltip.functions":"Funktioner","keyboard.tooltip.symbols":"Symboler","keyboard.tooltip.greek":"Grekiska bokstÃ¤ver","keyboard.tooltip.command":"LaTeX kommandolÃ¤ge","keyboard.tooltip.numeric":"Numerisk","keyboard.tooltip.roman":"Romerska bokstÃ¤ver","tooltip.copy to clipboard":"Kopiera till Urklipp","tooltip.redo":"GÃ¶ra om","tooltip.toggle virtual keyboard":"VÃ¤xla virtuellt tangentbord","tooltip.undo":"Ãngra","menu.insert matrix":"SÃ¤tt in matris","menu.insert vector":"Infoga vektor","submenu.array.matrix delimiters":"MatrisavgrÃ¤nsare","menu.array.add row above":"LÃ¤gg till rad efter","menu.array.add row below":"LÃ¤gg till rad fÃ¶re","menu.array.add column after":"LÃ¤gg till kolumn efter","menu.array.add column before":"LÃ¤gg till kolumn fÃ¶re","menu.array.delete row":"Radera rad","menu.array.delete rows":"Ta bort valda rader","menu.array.delete column":"Ta bort kolumn","menu.array.delete columns":"Ta bort valda kolumner","submenu.array.insert separator":"SÃ¤tt i separator","menu.insert table":"Infoga tabell","submenu.table style":"Tabellstil"},ru:{"keyboard.tooltip.functions":"Ð¤ÑÐ½ÐºÑÐ¸Ð¸","keyboard.tooltip.symbols":"Ð¡Ð¸Ð¼Ð²Ð¾Ð»Ñ","keyboard.tooltip.greek":"ÐÑÐµÑÐµÑÐºÐ¸Ðµ Ð±ÑÐºÐ²Ñ","keyboard.tooltip.command":"Ð ÐµÐ¶Ð¸Ð¼ ÐºÐ¾Ð¼Ð°Ð½Ð´Ð½Ð¾Ð¹ ÑÑÑÐ¾ÐºÐ¸ ÐÐ°ÑÐµÐºÑ","keyboard.tooltip.numeric":"ÑÐ¸ÑÐ»Ð¾Ð²Ð¾Ð¹","keyboard.tooltip.roman":"ÐÐ°ÑÐ¸Ð½ÑÐºÐ¸Ðµ Ð±ÑÐºÐ²Ñ","tooltip.copy to clipboard":"Ð¡ÐºÐ¾Ð¿Ð¸ÑÐ¾Ð²Ð°ÑÑ Ð² Ð±ÑÑÐµÑ Ð¾Ð±Ð¼ÐµÐ½Ð°","tooltip.redo":"Ð¿ÐµÑÐµÐ´ÐµÐ»ÑÐ²Ð°ÑÑ","tooltip.toggle virtual keyboard":"ÐÐµÑÐµÐºÐ»ÑÑÐ¸ÑÑ Ð²Ð¸ÑÑÑÐ°Ð»ÑÐ½ÑÑ ÐºÐ»Ð°Ð²Ð¸Ð°ÑÑÑÑ","tooltip.undo":"ÑÐ°ÑÑÑÐµÐ³Ð¸Ð²Ð°ÑÑ"},tr:{"keyboard.tooltip.functions":"Fonksiyonlar","keyboard.tooltip.symbols":"Semboller","keyboard.tooltip.greek":"Yunan harfleri","keyboard.tooltip.command":"LaTeX Komut Modu","keyboard.tooltip.numeric":"SayÄ±sal","keyboard.tooltip.roman":"Roma Harfleri","tooltip.copy to clipboard":"Panoya kopyala","tooltip.redo":"Yeniden yap","tooltip.toggle virtual keyboard":"Sanal Klavyeyi AÃ§/Kapat","tooltip.undo":"Geri alma"},zh_cn:{"keyboard.tooltip.functions":"èè½","keyboard.tooltip.symbols":"ç¬¦å·","keyboard.tooltip.greek":"å¸èå­æ¯","keyboard.tooltip.command":"ä¹³è¶ å½ä»¤æ¨¡å¼","keyboard.tooltip.numeric":"æ°å­","keyboard.tooltip.roman":"ç½é©¬å­æ¯","tooltip.copy to clipboard":"å¤å¶å°åªè´´æ¿","tooltip.redo":"éå","tooltip.toggle virtual keyboard":"åæ¢èæé®ç","tooltip.undo":"æ¤æ¶","menu.insert matrix":"æå¥ç©éµ","menu.insert vector":"æå¥åé","submenu.array.matrix delimiters":"ç©éµåéç¬¦","menu.array.add row above":"å¨åé¢æ·»å è¡","menu.array.add row below":"å¨åé¢æ·»å è¡","menu.array.add column after":"å¨åé¢æ·»å år","menu.array.add column before":"å¨åé¢æ·»å å","menu.array.delete row":"å é¤è¡","menu.array.delete rows":"å é¤éå®è¡","menu.array.delete column":"å é¤å","menu.array.delete columns":"å é¤éå®çå","submenu.array.insert separator":"æå¥åéç¬¦","menu.insert table":"æå¥è¡¨æ ¼","submenu.table style":"è¡¨æ ¼æ ·å¼"}},_locale:"en",get locale(){var e;return ui._locale||(ui._locale=null!==(e=null===navigator||void 0===navigator?void 0:navigator.language.slice(0,5))&&void 0!==e?e:"en"),ui._locale},set locale(e){ui._locale=e},merge(e,t){if(e&&t){const n=ui._locale;ui.locale=e,ui.strings[e]={...ui.strings[e],...t},ui.locale=n}else if(e&&!t)for(const n of Object.keys(e))ui.merge(n,e[n])}};function di(e){if(void 0===e)return;const t=ui.locale.slice(0,2);let n="";return ui.strings[ui.locale]&&(n=ui.strings[ui.locale][e]),!n&&ui.strings[t]&&(n=ui.strings[t][e]),n||(n=ui.strings.en[e]),n||void 0}function hi(e,t,n,i){const r=t.split(" ");for(const o of r){const t=o.match(/(.*):(.*)/);if(t){const r=null!=i?i:{};"active"===t[2]?r.passive=!1:r[t[2]]=!0,e.addEventListener(t[1],n,r)}else e.addEventListener(o,n,i)}}function pi(e,t,n,i){const r=t.split(" ");for(const o of r){const t=o.match(/(.*):(.*)/);if(t){const r=null!=i?i:{};"active"===t[2]?r.passive=!1:r[t[2]]=!0,e.removeEventListener(t[1],n,r)}else e.removeEventListener(o,n,i)}}function fi(e){var t;Me();let n=document.getElementById(e);return n?n.dataset.refcount=Number(Number.parseInt(null!==(t=n.getAttribute("data-refcount"))&&void 0!==t?t:"0")+1).toString():(n=document.createElement("div"),n.setAttribute("aria-hidden","true"),n.dataset.refcount="1",n.id=e,document.body.append(n)),n}function mi(e){var t;if(!e)return;const n=Number.parseInt(null!==(t=e.getAttribute("data-refcount"))&&void 0!==t?t:"0");n<=1?e.remove():e.dataset.refcount=Number(n-1).toString()}function gi(e){return void 0!==e.element&&e.element.mathfield===e}function yi(e){const t=function(e){var t,n;return null!==(n=null!==(t=e.querySelector(".ML__caret"))&&void 0!==t?t:e.querySelector(".ML__text-caret"))&&void 0!==n?n:e.querySelector(".ML__latex-caret")}(e);if(!t)return null;const n=t.getBoundingClientRect();return{x:n.right,y:n.bottom,height:n.height}}function vi(e){var t;if(!e.parent)return"root";let n=null!==(t=e.parent.id)&&void 0!==t?t:"";return n+="string"==typeof e.treeBranch?"-"+e.treeBranch:`-${e.treeBranch[0]}/${e.treeBranch[0]}`,n}function bi(e,t){if(!t)return null;const n=e.field.getBoundingClientRect(),i=t.right-t.left,r=t.bottom-t.top,o=Math.ceil(t.left-n.left+e.field.scrollLeft),a=Math.ceil(t.top-n.top);return{left:o,right:o+i,top:a,bottom:a+r}}function _i(e){const t=e.getBoundingClientRect(),n=parseInt(getComputedStyle(e).marginRight),i={top:t.top-1,bottom:t.bottom,left:t.left,right:t.right-1+n};if(e.children.length>0&&"SVG"!==e.tagName.toUpperCase())for(const r of e.children)if(1===r.nodeType&&"atom-id"in r.dataset&&!r.classList.contains("pstrut")){const e=_i(r);i.left=Math.min(i.left,e.left),i.right=Math.max(i.right,e.right),i.top=Math.min(i.top,e.top),i.bottom=Math.max(i.bottom,e.bottom)}return i}function xi(e,t){var n,i;if(!t.id)return null;let r=null!==(i=null===(n=e._atomBoundsCache)||void 0===n?void 0:n.get(t.id))&&void 0!==i?i:null;if(null!==r)return r;const o=e.field.querySelector(`[data-atom-id="${t.id}"]`);return r=o?_i(o):null,e._atomBoundsCache&&(r?e._atomBoundsCache.set(t.id,r):e._atomBoundsCache.delete(t.id)),null!=r?r:null}function ki(e,t){return e.model.selection.ranges.reduce((n,i)=>n.concat(...function(e,t,n){const i=new Map;for(const r of e.model.getAtoms(t,{includeChildren:!0})){if((null==n?void 0:n.excludeAtomsWithBackground)&&r.style.backgroundColor)break;const t=bi(e,xi(e,r));if(t){const e=vi(r);if(i.has(e)){const n=i.get(e);i.set(e,{left:Math.min(n.left,t.left),right:Math.max(n.right,t.right),top:Math.min(n.top,t.top),bottom:Math.max(n.bottom,t.bottom)})}else i.set(e,t)}}return[...i.values()]}(e,i,t)),[])}function wi(e,t){return"none"===t||("same-origin"===t?e===window.origin:"function"==typeof t&&t(e))}function Si(e,t,n){let i,r,o,a,s;"object"==typeof n&&("default"in n||"pressed"in n)?(n.default&&(t.dataset.command=JSON.stringify(n.default)),n.alt&&(t.dataset.commandAlt=JSON.stringify(n.alt)),n.altshift&&(t.dataset.commandAltshift=JSON.stringify(n.altshift)),n.shift&&(t.dataset.commandShift=JSON.stringify(n.shift)),n.pressed&&(t.dataset.commandPressed=JSON.stringify(n.pressed)),n.pressAndHoldStart&&(t.dataset.commandPressAndHoldStart=JSON.stringify(n.pressAndHoldStart)),n.pressAndHoldEnd&&(t.dataset.commandPressAndHoldEnd=JSON.stringify(n.pressAndHoldEnd))):t.dataset.command=JSON.stringify(n),hi(t,"mousedown touchstart:passive",n=>{if("mousedown"!==n.type||1===n.buttons){n.stopPropagation(),"touchstart"!==n.type&&n.preventDefault(),document.body.style["-webkit-user-select"]="none",t.classList.add("is-pressed"),i=Date.now(),"touchstart"===n.type&&(o=n.changedTouches[0].identifier);const a=t.getAttribute("data-command-pressed");a&&e(JSON.parse(a));const l=t.getAttribute("data-command-press-and-hold-start");l&&(r=t,s&&clearTimeout(s),s=setTimeout(()=>{t.classList.contains("is-pressed")&&e(JSON.parse(l))},300))}}),hi(t,"mouseleave touchcancel",()=>{t.classList.remove("is-pressed")}),hi(t,"touchmove:passive",e=>{for(let t=0;t<e.changedTouches.length;t++)if(e.changedTouches[t].identifier===o){const n=document.elementFromPoint(e.changedTouches[t].clientX,e.changedTouches[t].clientY);n!==a&&a&&(a.dispatchEvent(new MouseEvent("mouseleave"),{bubbles:!0}),a=null),n&&(a=n,n.dispatchEvent(new MouseEvent("mouseenter",{bubbles:!0,buttons:1})))}}),hi(t,"mouseenter",e=>{1===e.buttons&&t.classList.add("is-pressed")}),hi(t,"mouseup touchend click",n=>{if(document.body.style["-webkit-user-select"]="",a){n.stopPropagation(),n.preventDefault();const e=a;return a=null,void e.dispatchEvent(new MouseEvent("mouseup",{bubbles:!0}))}if(t.classList.remove("is-pressed"),t.classList.add("is-active"),"click"===n.type&&0!==n.detail)return n.stopPropagation(),void n.preventDefault();window.setTimeout(()=>{t.classList.remove("is-active")},150);let o=t.getAttribute("data-command-press-and-hold-end");const s=Date.now();(t!==r||s<i+300)&&(o=null),!o&&n.altKey&&n.shiftKey&&(o=t.getAttribute("data-command-altshift")),!o&&n.altKey&&(o=t.getAttribute("data-command-alt")),!o&&n.shiftKey&&(o=t.getAttribute("data-command-shift")),o||(o=t.getAttribute("data-command")),o&&e(JSON.parse(o)),n.stopPropagation(),n.preventDefault()})}var Mi='.ML__keyboard{--keyboard-background:rgba(209,213,217,0.97);--keyboard-text:#000;--keyboard-text-active:var(--primary,hsl(var(--hue,212),40%,50%));--keyboard-background-border:#ddd;--keycap-background:#fff;--keycap-background-active:#e5e5e5;--keycap-background-border:#e5e6e9;--keycap-background-border-bottom:#8d8f92;--keycap-text:#000;--keycap-text-active:#fff;--keycap-secondary-text:#000;--keycap-modifier-background:#b9bdc7;--keycap-modifier-border:#c5c9d0;--keycap-modifier-border-bottom:#989da6;--keyboard-alternate-background:#fff;--keyboard-alternate-background-active:var(--primary,hsl(var(--hue,212),40%,50%));--keyboard-alternate-text:var(--keycap-text,#000);--keyboard-alternate-text-active:#fff;--keyboard-alternate-key-length:70px;--keyboard-alternate-key-font-size:30px;--keyboard-alternate-key-aside-font-size:12px;--keyboard-height:276px;--keycap-height:52px;--keycap-font-size:20px;--keycap-small-font-size:calc(var(--keycap-font-size)*0.8);--keycap-extra-small-font-size:calc(var(--keycap-font-size)/1.42);--keycap-tt-font-size:calc(var(--keycap-font-size)*1.5);height:100%;position:fixed;top:0;width:100%}.ML__keyboard.is-visible .ML__keyboard--plate{opacity:1;transform:translateY(calc(var(--keyboard-height, 276px)*-1));transition-timing-function:cubic-bezier(.4,0,1,1);visibility:visible}.ML__keyboard.alternate-keys{align-content:center;background-color:var(--keyboard-alternate-background);border-radius:6px;bottom:auto;box-shadow:0 14px 28px rgba(0,0,0,.25),0 10px 10px rgba(0,0,0,.22);box-sizing:content-box;display:flex;flex-direction:row;justify-content:center;max-width:286px;position:fixed;text-align:center;top:0;transform:none;transition:none;visibility:hidden;z-index:calc(var(--keyboard-zindex, 105) + 1)}@media only screen and (max-height:412px){.ML__keyboard.alternate-keys{max-width:320px}}.ML__keyboard.alternate-keys.is-visible{visibility:visible}.ML__keyboard.alternate-keys.compact{--keyboard-alternate-key-length:50px;--keyboard-alternate-key-font-size:24px;--keyboard-alternate-key-aside-font-size:10px}.ML__keyboard.alternate-keys ul{display:flex;flex-flow:row wrap-reverse;justify-content:center;list-style:none;margin:3px;padding:0}.ML__keyboard.alternate-keys ul>li{fill:currentColor;align-items:center;background:transparent;border:1px solid transparent;border-radius:5px;box-sizing:border-box;color:var(--keyboard-alternate-text);display:flex;flex-flow:column;font-size:var(--keyboard-alternate-key-font-size);height:var(--keyboard-alternate-key-length);justify-content:center;margin:0;pointer-events:all;width:var(--keyboard-alternate-key-length)}@media only screen and (max-height:412px){.ML__keyboard.alternate-keys ul>li{font-size:24px;height:50px;width:50px}}.ML__keyboard.alternate-keys ul>li.is-active,.ML__keyboard.alternate-keys ul>li.is-pressed,.ML__keyboard.alternate-keys ul>li:hover{background:var(--keyboard-alternate-background-active);color:var(--keyboard-alternate-text-active)}.ML__keyboard.alternate-keys ul>li.small{font-size:var(--keycap-small-font-size,16px)}.ML__keyboard.alternate-keys ul>li.small-button{background:#fbfbfb;height:42px;margin:2px;width:42px}.ML__keyboard.alternate-keys ul>li.small-button:hover{background:var(--keyboard-alternate-background-active)}.ML__keyboard.alternate-keys ul>li.box>div,.ML__keyboard.alternate-keys ul>li.box>span{border:1px dashed rgba(0,0,0,.24)}.ML__keyboard.alternate-keys ul>li .warning{align-items:center;background:#cd0030;border-radius:5px;color:#fff;display:flex;justify-content:center;min-height:60px;min-width:60px;padding:5px}.ML__keyboard.alternate-keys ul>li .warning.is-active,.ML__keyboard.alternate-keys ul>li .warning.is-pressed,.ML__keyboard.alternate-keys ul>li .warning:hover{background:red}.ML__keyboard.alternate-keys ul>li .warning svg.svg-glyph{height:50px;width:50px}.ML__keyboard.alternate-keys ul>li aside{font-size:var(--keyboard-alternate-key-aside-font-size);line-height:12px;opacity:.78;padding-top:2px}.ML__keyboard .ML__keyboard--plate{-webkit-backdrop-filter:grayscale(50%);backdrop-filter:grayscale(50%);background-color:var(--keyboard-background);border:1px solid var(--keyboard-background-border);bottom:calc(var(--keyboard-height, 276px)*-1);box-shadow:0 3px 6px rgba(0,0,0,.16),0 3px 6px rgba(0,0,0,.23);box-sizing:border-box;cursor:pointer;font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;font-size:16px;font-weight:400;left:0;margin:0;opacity:0;padding-top:5px;position:absolute;text-shadow:none;touch-action:none;transform:translate(0);transition:.28s cubic-bezier(0,0,.2,1);transition-property:transform,opacity;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;visibility:hidden;width:100%;z-index:var(--keyboard-zindex,105)}.ML__keyboard .ML__keyboard--plate .tex{font-family:KaTeX_Math,KaTeX_Main,Cambria Math,Asana Math,OpenSymbol,Symbola,STIX,Times,serif!important}.ML__keyboard .ML__keyboard--plate .tex-math{font-family:KaTeX_Math,Cambria Math,Asana Math,OpenSymbol,Symbola,STIX,Times,serif!important}.ML__keyboard .ML__keyboard--plate .tt{font-family:IBM Plex Mono,Source Code Pro,Consolas,Roboto Mono,Menlo,Bitstream Vera Sans Mono,DejaVu Sans Mono,Monaco,Courier,monospace!important;font-size:var(--keycap-tt-font-size,30px);font-weight:400}.ML__keyboard .ML__keyboard--plate>div.keyboard-layer{display:none;outline:none}.ML__keyboard .ML__keyboard--plate>div.keyboard-layer.is-visible{display:flex;flex-flow:column}.ML__keyboard .ML__keyboard--plate>div>div.keyboard-toolbar{align-self:center;display:flex;flex-flow:row;justify-content:space-between;width:736px}@media only screen and (min-width:768px) and (max-width:1024px){.ML__keyboard .ML__keyboard--plate>div>div.keyboard-toolbar{width:556px}}@media only screen and (max-width:767px){.ML__keyboard .ML__keyboard--plate>div>div.keyboard-toolbar{max-width:100vw;width:365px}}.ML__keyboard .ML__keyboard--plate>div>div.keyboard-toolbar svg{height:20px;width:20px}@media only screen and (max-width:767px){.ML__keyboard .ML__keyboard--plate>div>div.keyboard-toolbar svg{height:13px;width:17px}}.ML__keyboard .ML__keyboard--plate>div>div.keyboard-toolbar>.left{display:flex;flex-flow:row;justify-content:flex-start;position:relative}.ML__keyboard .ML__keyboard--plate>div>div.keyboard-toolbar>.right{display:flex;flex-flow:row;justify-content:flex-end}.ML__keyboard .ML__keyboard--plate>div>div.keyboard-toolbar>div>div{fill:currentColor;align-items:baseline;background:0;border:none;border-bottom:2px solid transparent;box-shadow:none;color:var(--keyboard-text);cursor:pointer;display:flex;font-size:110%;justify-content:center;margin:7px 4px 6px;min-height:0;padding:4px 10px;pointer-events:all}.ML__keyboard .ML__keyboard--plate>div>div.keyboard-toolbar>div>div.disabled.is-pressed svg,.ML__keyboard .ML__keyboard--plate>div>div.keyboard-toolbar>div>div.disabled:hover svg,.ML__keyboard .ML__keyboard--plate>div>div.keyboard-toolbar>div>div.disabled svg{color:var(--keyboard-text);opacity:.2}@media only screen and (max-width:414px){.ML__keyboard .ML__keyboard--plate>div>div.keyboard-toolbar>div>div{font-size:100%;padding:0 6px 0 0}}@media only screen and (max-width:767px){.ML__keyboard .ML__keyboard--plate>div>div.keyboard-toolbar>div>div{font-size:90%;padding-left:4px;padding-right:4px}}.ML__keyboard .ML__keyboard--plate>div>div.keyboard-toolbar>div>div.is-active,.ML__keyboard .ML__keyboard--plate>div>div.keyboard-toolbar>div>div.is-pressed,.ML__keyboard .ML__keyboard--plate>div>div.keyboard-toolbar>div>div:active,.ML__keyboard .ML__keyboard--plate>div>div.keyboard-toolbar>div>div:hover{color:var(--keyboard-text-active)}.ML__keyboard .ML__keyboard--plate>div>div.keyboard-toolbar>div>div.selected{border-bottom:2px solid var(--keyboard-text-active);color:var(--keyboard-text-active);margin-bottom:8px;padding-bottom:0}.ML__keyboard .ML__keyboard--plate div .rows{align-items:center;border:0;border-collapse:separate;clear:both;display:flex;flex-flow:column;margin:auto}.ML__keyboard .ML__keyboard--plate div .rows>ul{height:40px;list-style:none;margin:0 0 3px;padding:0}.ML__keyboard .ML__keyboard--plate div .rows>ul>li{fill:currentColor;-webkit-tap-highlight-color:transparent;align-items:center;background:var(--keycap-background);border:1px solid var(--keycap-background-border);border-bottom-color:var(--keycap-background-border-bottom);border-radius:5px;box-sizing:border-box;color:var(--keycap-text);display:flex;flex-flow:column;float:left;font-size:var(--keycap-font-size,20px);height:40px;justify-content:center;margin-right:2px;overflow:hidden;padding:8px 0;pointer-events:all;position:relative;text-align:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;vertical-align:top;width:34px}.ML__keyboard .ML__keyboard--plate div .rows>ul>li:last-child{margin-right:0}.ML__keyboard .ML__keyboard--plate div .rows>ul>li.small{font-size:var(--keycap-small-font-size,16px)}.ML__keyboard .ML__keyboard--plate div .rows>ul>li.tt{color:var(--keyboard-text-active)}.ML__keyboard .ML__keyboard--plate div .rows>ul>li.bottom{justify-content:flex-end}.ML__keyboard .ML__keyboard--plate div .rows>ul>li.left{align-items:flex-start;padding-left:4px}.ML__keyboard .ML__keyboard--plate div .rows>ul>li.right{align-items:flex-end;padding-right:4px}.ML__keyboard .ML__keyboard--plate div .rows>ul>li svg.svg-glyph{height:20px;width:20px}.ML__keyboard .ML__keyboard--plate div .rows>ul>li .warning{align-items:center;background:#cd0030;border-radius:100%;color:#fff;display:flex;height:25px;justify-content:center;margin-bottom:-2px;min-height:25px;min-width:25px;padding:5px;width:25px}.ML__keyboard .ML__keyboard--plate div .rows>ul>li .warning svg.svg-glyph{height:16px;width:16px}@media only screen and (max-width:768px){.ML__keyboard .ML__keyboard--plate div .rows>ul>li .warning{height:16px;min-height:16px;min-width:16px;width:16px}.ML__keyboard .ML__keyboard--plate div .rows>ul>li .warning svg.svg-glyph{height:14px;width:14px}}.ML__keyboard .ML__keyboard--plate div .rows>ul>li>.w0{width:0}.ML__keyboard .ML__keyboard--plate div .rows>ul>li>.w5{width:16px}.ML__keyboard .ML__keyboard--plate div .rows>ul>li>.w15{width:52px}.ML__keyboard .ML__keyboard--plate div .rows>ul>li>.w20{width:70px}.ML__keyboard .ML__keyboard--plate div .rows>ul>li>.w50{width:178px}.ML__keyboard .ML__keyboard--plate div .rows>ul>li.separator{background:transparent;border:none;pointer-events:none}@media only screen and (max-width:560px){.ML__keyboard .ML__keyboard--plate div .rows>ul>li.if-wide{display:none}}.ML__keyboard .ML__keyboard--plate div .rows>ul>li.tex-math{font-size:25px}.ML__keyboard .ML__keyboard--plate div .rows>ul>li.is-pressed,.ML__keyboard .ML__keyboard--plate div .rows>ul>li:hover{background:var(--keycap-background-active);color:var(--keyboard-text-active)}.ML__keyboard .ML__keyboard--plate div .rows>ul>li.action.is-active,.ML__keyboard .ML__keyboard--plate div .rows>ul>li.action:active,.ML__keyboard .ML__keyboard--plate div .rows>ul>li.keycap.is-active,.ML__keyboard .ML__keyboard--plate div .rows>ul>li.keycap:active{color:var(--keyboard-text-active);transform:translateY(calc(var(--keycap-height, 52px)*-.2)) scale(1.4);z-index:calc(var(--keyboard-zindex, 105) - 5)}.ML__keyboard .ML__keyboard--plate div .rows>ul>li.modifier.is-active,.ML__keyboard .ML__keyboard--plate div .rows>ul>li.modifier:active{background:var(--keyboard-text-active);color:var(--keycap-text-active)}.ML__keyboard .ML__keyboard--plate div .rows>ul>li.action.font-glyph,.ML__keyboard .ML__keyboard--plate div .rows>ul>li.modifier.font-glyph{font-size:18px}@media only screen and (max-width:767px){.ML__keyboard .ML__keyboard--plate div .rows>ul>li.action.font-glyph,.ML__keyboard .ML__keyboard--plate div .rows>ul>li.modifier.font-glyph{font-size:16px}}@media only screen and (max-width:767px){.ML__keyboard .ML__keyboard--plate div .rows>ul>li.fnbutton{font-size:12px}}.ML__keyboard .ML__keyboard--plate div .rows>ul>li.bigfnbutton{font-size:var(--keycap-extra-small-font-size,14px)}@media only screen and (max-width:767px){.ML__keyboard .ML__keyboard--plate div .rows>ul>li.bigfnbutton{font-size:calc(var(--keycap-extra-small-font-size, 14px)/1.55)}}.ML__keyboard .ML__keyboard--plate div .rows>ul>li.action,.ML__keyboard .ML__keyboard--plate div .rows>ul>li.modifier{background-color:var(--keycap-modifier-background);border-bottom-color:var(--keycap-modifier-border);border-color:var(--keycap-modifier-border) var(--keycap-modifier-border) var(--keycap-modifier-border-bottom);font-size:65%;font-weight:100}.ML__keyboard .ML__keyboard--plate div .rows>ul>li.action.selected,.ML__keyboard .ML__keyboard--plate div .rows>ul>li.modifier.selected{color:var(--keyboard-text-active)}.ML__keyboard .ML__keyboard--plate div .rows>ul>li.action.selected.is-active,.ML__keyboard .ML__keyboard--plate div .rows>ul>li.action.selected.is-pressed,.ML__keyboard .ML__keyboard--plate div .rows>ul>li.action.selected:active,.ML__keyboard .ML__keyboard--plate div .rows>ul>li.action.selected:hover,.ML__keyboard .ML__keyboard--plate div .rows>ul>li.modifier.selected.is-active,.ML__keyboard .ML__keyboard--plate div .rows>ul>li.modifier.selected.is-pressed,.ML__keyboard .ML__keyboard--plate div .rows>ul>li.modifier.selected:active,.ML__keyboard .ML__keyboard--plate div .rows>ul>li.modifier.selected:hover{color:#fff}.ML__keyboard .ML__keyboard--plate div .rows>ul>li.keycap.w50{font-size:80%;font-weight:100;padding-top:10px}.ML__keyboard .ML__keyboard--plate div .rows>ul>li small{color:#555}@media only screen and (max-width:767px){.ML__keyboard .ML__keyboard--plate div .rows>ul>li small{font-size:9px}}.ML__keyboard .ML__keyboard--plate div .rows>ul>li aside{color:#666;font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;font-size:10px;line-height:10px}@media only screen and (max-width:767px){.ML__keyboard .ML__keyboard--plate div .rows>ul>li aside{display:none}}@media only screen and (max-width:414px){.ML__keyboard .ML__keyboard--plate div .rows>ul>li{margin-right:2px;width:calc(10vw - 2px)}.ML__keyboard .ML__keyboard--plate div .rows>ul>.w5{width:calc(5vw - 2px)}.ML__keyboard .ML__keyboard--plate div .rows>ul>.w15{width:calc(15vw - 2px)}.ML__keyboard .ML__keyboard--plate div .rows>ul>.w20{width:calc(20vw - 2px)}.ML__keyboard .ML__keyboard--plate div .rows>ul>.w50{width:calc(50vw - 2px)}}@media only screen and (min-width:415px) and (max-width:768px){.ML__keyboard .ML__keyboard--plate div .rows>ul>li{margin-right:3px;width:37px}.ML__keyboard .ML__keyboard--plate div .rows>ul>.w5{width:17px}.ML__keyboard .ML__keyboard--plate div .rows>ul>.w15{width:57px}.ML__keyboard .ML__keyboard--plate div .rows>ul>.w20{width:77px}.ML__keyboard .ML__keyboard--plate div .rows>ul>.w50{width:197px}}@media only screen and (min-width:768px) and (max-width:1024px){.ML__keyboard .ML__keyboard--plate div .rows>ul{height:var(--keycap-height,52px)}.ML__keyboard .ML__keyboard--plate div .rows>ul>li{height:var(--keycap-height,52px);margin-right:4px;width:51px}.ML__keyboard .ML__keyboard--plate div .rows>ul>.w5{width:23.5px}.ML__keyboard .ML__keyboard--plate div .rows>ul>.w15{width:78.5px}.ML__keyboard .ML__keyboard--plate div .rows>ul>.w20{width:106px}.ML__keyboard .ML__keyboard--plate div .rows>ul>.w50{width:271px}}@media only screen and (min-width:1025px){.ML__keyboard .ML__keyboard--plate div .rows>ul{height:var(--keycap-height,52px)}.ML__keyboard .ML__keyboard--plate div .rows>ul>li{height:var(--keycap-height,52px);margin-right:6px;width:66px}.ML__keyboard .ML__keyboard--plate div .rows>ul>.action,.ML__keyboard .ML__keyboard--plate div .rows>ul>.modifier{font-size:80%}.ML__keyboard .ML__keyboard--plate div .rows>ul>.w5{width:30px}.ML__keyboard .ML__keyboard--plate div .rows>ul>.w15{width:102px}.ML__keyboard .ML__keyboard--plate div .rows>ul>.w20{width:138px}.ML__keyboard .ML__keyboard--plate div .rows>ul>.w50{width:354px}}@media (prefers-color-scheme:dark){body:not([theme=light]) .ML__keyboard{--hue:206;--keyboard-background:hsl(var(--hue,212),19%,38%);--keyboard-text:#f0f0f0;--keyboard-text-active:hsl(var(--hue,212),100%,60%);--keyboard-background-border:#333;--keycap-background:hsl(var(--hue,212),25%,39%);--keycap-background-active:hsl(var(--hue,212),35%,42%);--keycap-background-border:hsl(var(--hue,212),25%,35%);--keycap-background-border-bottom:#426b8a;--keycap-text:#d0d0d0;--keycap-text-active:#000;--keycap-secondary-text:#fff;--keycap-modifier-background:hsl(var(--hue,212),35%,40%);--keycap-modifier-border:hsl(var(--hue,212),35%,35%);--keycap-modifier-border-bottom:hsl(var(--hue,212),35%,42%);--keyboard-alternate-background:hsl(var(--hue,212),19%,38%)}}body[theme=dark] .ML__keyboard{--hue:206;--keyboard-background:hsl(var(--hue,212),19%,38%);--keyboard-text:#f0f0f0;--keyboard-text-active:hsl(var(--hue,212),100%,60%);--keyboard-background-border:#333;--keycap-background:hsl(var(--hue,212),25%,39%);--keycap-background-active:hsl(var(--hue,212),35%,42%);--keycap-background-border:hsl(var(--hue,212),25%,35%);--keycap-background-border-bottom:#426b8a;--keycap-text:#d0d0d0;--keycap-text-active:#000;--keycap-secondary-text:#fff;--keycap-modifier-background:hsl(var(--hue,212),35%,40%);--keycap-modifier-border:hsl(var(--hue,212),35%,35%);--keycap-modifier-border-bottom:hsl(var(--hue,212),35%,42%);--keyboard-alternate-background:hsl(var(--hue,212),19%,38%)}div.ML__keyboard.material{--keyboard-background:rgba(209,213,217,0.9);--keyboard-background-border:#ddd;--keycap-background:transparent;--keycap-background-active:#cccfd1;--keycap-background-border:transparent;--keyboard-alternate-background:#efefef;--keyboard-alternate-text:#000;font-family:Roboto,sans-serif}div.ML__keyboard.material.alternate-keys{background:var(--keyboard-alternate-background);border:1px solid transparent;border-radius:5px;box-shadow:0 14px 28px rgba(0,0,0,.25),0 10px 10px rgba(0,0,0,.22)}div.ML__keyboard.material.alternate-keys ul li.is-active,div.ML__keyboard.material.alternate-keys ul li.is-pressed,div.ML__keyboard.material.alternate-keys ul li:active,div.ML__keyboard.material.alternate-keys ul li:hover{fill:currentColor;background:#5f97fc;border:1px solid transparent;color:#fff}div.ML__keyboard.material .ML__keyboard__plate .keyboard-toolbar>div>div{font-size:16px}div.ML__keyboard.material .ML__keyboard__plate .keyboard-toolbar div.div.is-active,div.ML__keyboard.material .ML__keyboard__plate .keyboard-toolbar div.div.is-pressed,div.ML__keyboard.material .ML__keyboard__plate .keyboard-toolbar div div:active,div.ML__keyboard.material .ML__keyboard__plate .keyboard-toolbar div div:hover{fill:currentColor;color:#5f97fc}div.ML__keyboard.material .ML__keyboard__plate .keyboard-toolbar>div>.selected{fill:currentColor;border-bottom:2px solid #5f97fc;color:#5f97fc;margin-bottom:8px;padding-bottom:0}div.ML__keyboard.material .ML__keyboard__plate div>.rows>ul>.keycap{fill:currentColor;background:transparent;border:1px solid transparent;border-radius:5px;color:var(--keycap-text);transition:none}div.ML__keyboard.material .ML__keyboard__plate div>.rows>ul>.keycap.tt{color:#5f97fc}div.ML__keyboard.material .ML__keyboard__plate div>.rows>ul>.keycap[data-key=" "]{background:#e0e0e0;height:20px;margin-bottom:10px;margin-top:10px}div.ML__keyboard.material .ML__keyboard__plate div>.rows>ul>.keycap[data-key=" "].is-active,div.ML__keyboard.material .ML__keyboard__plate div>.rows>ul>.keycap[data-key=" "].is-pressed,div.ML__keyboard.material .ML__keyboard__plate div>.rows>ul>.keycap[data-key=" "]:active,div.ML__keyboard.material .ML__keyboard__plate div>.rows>ul>.keycap[data-key=" "]:hover{background:#d0d0d0;box-shadow:none;transform:none}div.ML__keyboard.material .ML__keyboard__plate div>.rows>ul>.keycap:not([data-key=" "]):hover{background:var(--keycap-background-active);border:1px solid transparent;box-shadow:none}div.ML__keyboard.material .ML__keyboard__plate div>.rows>ul>.keycap:not([data-key=" "]).is-active,div.ML__keyboard.material .ML__keyboard__plate div>.rows>ul>.keycap:not([data-key=" "]).is-pressed,div.ML__keyboard.material .ML__keyboard__plate div>.rows>ul>.keycap:not([data-key=" "]):active{background:var(--keyboard-alternate-background);box-shadow:0 10px 20px rgba(0,0,0,.19),0 6px 6px rgba(0,0,0,.23);color:var(--keyboard-alternate-text)}@media only screen and (max-width:767px){div.ML__keyboard.material .ML__keyboard__plate div>.rows>ul>.keycap:not([data-key=" "]).is-active,div.ML__keyboard.material .ML__keyboard__plate div>.rows>ul>.keycap:not([data-key=" "]).is-pressed,div.ML__keyboard.material .ML__keyboard__plate div>.rows>ul>.keycap:not([data-key=" "]):active{box-shadow:0 10px 20px rgba(0,0,0,.19),0 6px 6px rgba(0,0,0,.23);font-size:10px;justify-content:flex-start;margin-left:10px;margin-right:10px;padding:2px 0 0;transform:translateY(-10px) scale(2);transition:none;vertical-align:top;width:19.5px;z-index:calc(var(--ML_keyboard-zindex, 105) - 5)}}@media only screen and (max-width:414px){div.ML__keyboard.material .ML__keyboard__plate div>.rows>ul>.keycap:not([data-key=" "]).is-active,div.ML__keyboard.material .ML__keyboard__plate div>.rows>ul>.keycap:not([data-key=" "]).is-pressed,div.ML__keyboard.material .ML__keyboard__plate div>.rows>ul>.keycap:not([data-key=" "]):active{width:16.5px}}@media only screen and (max-width:767px){div.ML__keyboard.material .ML__keyboard__plate div>.rows>ul>.keycap:last-child.is-active,div.ML__keyboard.material .ML__keyboard__plate div>.rows>ul>.keycap:last-child:active{margin-left:14px;margin-right:0}}div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.action,div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.modifier{fill:currentColor;background:transparent;border:0;color:#869096;font-size:16px;transition:none}div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.action.selected,div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.modifier.selected{border-bottom:2px solid #5f97fc;border-radius:0;color:#5f97fc}div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.action.is-active,div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.action.is-pressed,div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.action:active,div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.action:hover,div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.modifier.is-active,div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.modifier.is-pressed,div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.modifier:active,div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.modifier:hover{background:var(--keycap-background-active);border:0;box-shadow:none;color:var(--keycap-text)}div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.bigfnbutton,div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.fnbutton{background:transparent;border:0}div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.bigfnbutton.selected,div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.fnbutton.selected{fill:currentColor;border-bottom:2px solid #5f97fc;border-radius:0;color:#5f97fc}div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.bigfnbutton.is-active,div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.bigfnbutton.is-pressed,div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.bigfnbutton:active,div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.bigfnbutton:hover,div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.fnbutton.is-active,div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.fnbutton.is-pressed,div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.fnbutton:active,div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.fnbutton:hover{fill:currentColor;background:var(--keycap-background-active);border:0;box-shadow:none;color:#5f97fc}@media (prefers-color-scheme:dark){body:not([theme=light]) div.ML__keyboard.material{--hue:198;--keyboard-background:hsl(var(--hue,212),19%,18%);--keyboard-text:#d4d6d7;--keyboard-text-active:#5f97fc;--keyboard-background-border:#333;--keycap-background:hsl(var(--hue,212),25%,39%);--keycap-background-active:#5f97fc;--keycap-background-border:transparent;--keycap-background-border-bottom:transparent;--keycap-text:#d0d0d0;--keycap-text-active:#d4d6d7;--keycap-secondary-text:#5f97fc;--keycap-modifier-background:hsl(var(--hue,212),35%,40%);--keycap-modifier-border:hsl(var(--hue,212),35%,35%);--keycap-modifier-border-bottom:hsl(var(--hue,212),35%,42%);--keyboard-alternate-background:hsl(var(--hue,212),8%,2%);--keyboard-alternate-background-active:hsl(var(--hue,212),35%,42%);--keyboard-alternate-text:#d1d1d1}}body[theme=dark] div.ML__keyboard.material{--hue:198;--keyboard-background:hsl(var(--hue,212),19%,18%);--keyboard-text:#d4d6d7;--keyboard-text-active:#5f97fc;--keyboard-background-border:#333;--keycap-background:hsl(var(--hue,212),25%,39%);--keycap-background-active:#5f97fc;--keycap-background-border:transparent;--keycap-background-border-bottom:transparent;--keycap-text:#d0d0d0;--keycap-text-active:#d4d6d7;--keycap-secondary-text:#5f97fc;--keycap-modifier-background:hsl(var(--hue,212),35%,40%);--keycap-modifier-border:hsl(var(--hue,212),35%,35%);--keycap-modifier-border-bottom:hsl(var(--hue,212),35%,42%);--keyboard-alternate-background:hsl(var(--hue,212),8%,2%);--keyboard-alternate-background-active:hsl(var(--hue,212),35%,42%);--keyboard-alternate-text:#d1d1d1}';const Ci={main:["Main-Regular","ML__cmr"],"main-italic":["Main-Italic","ML__cmr ML__it"],"main-bold":["Main-Bold","ML__cmr ML__bold"],"main-bolditalic":["Main-BoldItalic","ML__cmr ML__bold ML__it"],normal:["Main-Regular","ML__cmr"],"normal-bold":["Main-Bold","ML__mathbf"],"normal-italic":["Math-Italic","ML__mathit"],"normal-bolditalic":["Math-BoldItalic","ML__mathbfit"],ams:["AMS-Regular","ML__ams"],"ams-bold":["AMS-Regular","ML__ams"],"ams-italic":["AMS-Regular","ML__ams"],"ams-bolditalic":["AMS-Regular","ML__ams"],"sans-serif":["SansSerif-Regular","ML__sans"],"sans-serif-bold":["SansSerif-Regular","ML__sans ML__bold"],"sans-serif-italic":["SansSerif-Regular","ML__sans"],"sans-serif-bolditalic":["SansSerif-Regular","ML__sans"],calligraphic:["Caligraphic-Regular","ML__cal"],"calligraphic-bold":["Caligraphic-Regular","ML__cal ML__bold"],"calligraphic-italic":["Caligraphic-Regular","ML__cal ML__it"],"calligraphic-bolditalic":["Caligraphic-Regular","ML__cal ML__bold ML__it"],script:["Script-Regular","ML__script"],"script-bold":["Script-Regular","ML__script ML__bold"],"script-italic":["Script-Regular","ML__script ML__it"],"script-bolditalic":["Script-Regular","ML__script ML__bold ML__it"],fraktur:["Fraktur-Regular","ML__frak"],"fraktur-bold":["Fraktur-Regular","ML__frak"],"fraktur-italic":["Fraktur-Regular","ML__frak"],"fraktur-bolditalic":["Fraktur-Regular","ML__frak"],monospace:["Typewriter-Regular","ML__tt"],"monospace-bold":["Typewriter-Regular","ML__tt ML__bold"],"monospace-italic":["Typewriter-Regular","ML__tt ML__it"],"monospace-bolditalic":["Typewriter-Regular","ML__tt ML__bold ML__it"],"double-struck":["AMS-Regular","ML__bb"],"double-struck-bold":["AMS-Regular","ML__bb"],"double-struck-italic":["AMS-Regular","ML__bb"],"double-struck-bolditalic":["AMS-Regular","ML__bb"]},Li={"double-struck":/^[A-Z ]$/,script:/^[A-Z ]$/,calligraphic:/^[\dA-Z ]$/,fraktur:/^[\dA-Za-z ]$|^[!"#$%&'()*+,\-./:;=?[]^\u2019\u2018]$/,monospace:/^[\dA-Za-z ]$|^[!"&'()*+,\-./:;=?@[\]^_~\u0131\u0237\u0393\u0394\u0398\u039B\u039E\u03A0\u03A3\u03A5\u03A8\u03A9]$/,"sans-serif":/^[\dA-Za-z ]$|^[!"&'()*+,\-./:;=?@[\]^_~\u0131\u0237\u0393\u0394\u0398\u039B\u039E\u03A0\u03A3\u03A5\u03A8\u03A9]$/},Oi=/^[\u03B1-\u03C9]|\u03D1|\u03D5|\u03D6|\u03F1|\u03F5]$/,Ai=[/^[a-z]$/,/^[A-Z]$/,Oi,/^[\u0393|\u0394\u0398\u039B\u039E\u03A0\u03A3\u03A5\u03A6\u03A8\u03A9]$/],Ei={iso:["it","it","it","it"],tex:["it","it","it","up"],french:["it","up","up","up"],upright:["up","up","up","up"]};function Ti(e){if(!e)return"";const{style:t}=e;if(void 0===t.variant)return"";let n=t.variant;return t.variantStyle&&"up"!==t.variantStyle&&(n+="-"+t.variantStyle),n}function Ni(e,t){const{parent:n}=e[0],i=null==n?void 0:n.computedStyle.backgroundColor;return ke(J(e,"backgroundColor").map(e=>{var r;let o=function(e,t){var n;if(!e||0===e.length)return"";const i=null===(n=e[0].parent)||void 0===n?void 0:n.style.color;return ke(J(e,"color").map(e=>{var n;const r=function(e,t){return function(e,t){return ke(J(e,"fontFamily").map(e=>{var n,i;const r=function(e,t){return ke(J(e,"fontSize").map(e=>{var n,i;const r=function(e,t){return ke(J(e,"fontSeries").map(e=>{const n=function(e,t){return ke(J(e,"fontShape").map(e=>{const n=function(e,t){return ke(e.map(e=>ot.serialize(e,t)))}(e,t),{fontShape:i}=e[0].style;return"it"===i?"\\textit{"+n+"}":"sl"===i?"\\textsl{"+n+"}":"sc"===i?"\\textsc{"+n+"}":"n"===i?"\\textup{"+n+"}":i?"\\fontshape{"+e[0].style.fontShape+"}"+n:n}))}(e,t),{fontSeries:i}=e[0].style;return"b"===i?"\\textbf{"+n+"}":"l"===i?"\\textlf{"+n+"}":"m"===i?"\\textmd{"+n+"}":i?"\\fontseries{"+i+"}"+n:n}))}(e,t),o=null!==(i=["","tiny","scriptsize","footnotesize","small","normalsize","large","Large","LARGE","huge","Huge"][null!==(n=e[0].style.fontSize)&&void 0!==n?n:""])&&void 0!==i?i:"";return o?`\\${o} ${r}`:r}))}(e,t),o=null!==(i={roman:"textrm",monospace:"texttt","sans-serif":"textsf"}[null!==(n=e[0].style.fontFamily)&&void 0!==n?n:""])&&void 0!==i?i:"";return o?`\\${o}{${r}}`:e[0].style.fontFamily?"\\fontfamily{"+e[0].style.fontFamily+"}"+r:r}))}(e,t)}(e,t);return e[0].style.color&&"none"!==e[0].style.color&&i!==e[0].style.color?"\\textcolor{"+(null!==(n=e[0].style.verbatimColor)&&void 0!==n?n:e[0].style.color)+"}{"+r+"}":r}))}(e,t);const a=e[0].computedStyle;return!a.backgroundColor||n&&i===a.backgroundColor||!(e.length>0)&&e[0]instanceof It||(o=`\\colorbox{${null!==(r=a.verbatimBackgroundColor)&&void 0!==r?r:a.backgroundColor}}{${o}}`),o}))}new class extends Q{constructor(){super("math")}createAtom(e,t){var n,i;const r=Ve(e,"math"),o=new ot(null!==(n=null==r?void 0:r.type)&&void 0!==n?n:"mord",{mode:"math",command:e,value:(null==r?void 0:r.codepoint)?String.fromCodePoint(null==r?void 0:r.codepoint):e,style:t});return null!==(i=null==r?void 0:r.isFunction)&&void 0!==i&&i&&(o.isFunction=!0),e.startsWith("\\")&&(o.verbatimLatex=e),o}serialize(e,t){const{parent:n}=e[0],i=null==n?void 0:n.computedStyle.fontSize;return ke(J(e,"fontSize").map(e=>{const r=this.emitBackgroundColorRun(e,t),o=e[0].computedStyle.fontSize;return!o||n&&i===o?r:"\\"+["","tiny","scriptsize","footnotesize","small","normalsize","large","Large","LARGE","huge","Huge"][o]+" "+r}))}emitBackgroundColorRun(e,t){const{parent:n}=e[0],i=null==n?void 0:n.computedStyle.backgroundColor;return ke(J(e,"backgroundColor").map(e=>{var r;let o=this.emitColorRun(e,t);const a=e[0].computedStyle;return!a.backgroundColor||n&&i===a.backgroundColor||!(e.length>0)&&e[0]instanceof It||(o="inline-math"===t.defaultMode?`\\( ${o} \\)`:`\\[ ${o} \\]`,o=`\\colorbox{${null!==(r=a.verbatimBackgroundColor)&&void 0!==r?r:a.backgroundColor}}{${o}}`),o}))}emitColorRun(e,t){var n;const{parent:i}=e[0],r=null!==(n=null==i?void 0:i.mode)&&void 0!==n?n:"math",o=Ti(i),a=null==i?void 0:i.computedStyle.color;return ke(J(e,"color").map(e=>{var n;const s=ke(J(e,"variant").map(e=>{const n=Ti(e[0]);if(e.every(e=>{const t=Ve(e.command,r);return!(!t||!t.variant)&&Ti(e)===n}))return ke(e.map(e=>ot.serialize(e,t)));let i="";return n&&n!==o&&(i={calligraphic:"\\mathcal{",fraktur:"\\mathfrak{","double-struck":"\\mathbb{",script:"\\mathscr{",monospace:"\\mathtt{","sans-serif":"\\mathsf{",normal:"\\mathrm{","normal-italic":"\\mathit{","normal-bold":"\\mathbf{","normal-bolditalic":"\\mathbfit{",ams:"","ams-italic":"\\mathit{","ams-bold":"\\mathbf{","ams-bolditalic":"\\mathbfit{",main:"","main-italic":"\\mathit{","main-bold":"\\mathbf{","main-bolditalic":"\\mathbfit{"}[n]),ke([i,...e.map(e=>ot.serialize(e,t))])+(i?"}":"")})),l=e[0].computedStyle;return!l.color||i&&a===l.color?s:"\\textcolor{"+(null!==(n=l.verbatimColor)&&void 0!==n?n:l.color)+"}{"+s+"}"}))}applyStyle(e,t){if(void 0===t.variant)return"";const n="auto"!==t.letterShapeStyle&&t.letterShapeStyle?t.letterShapeStyle:"tex";let{variant:i}=t,{variantStyle:r}=t;"normal"===i&&!r&&/[\u00A3\u0131\u0237]/.test(e.value)&&(i="main",r="italic"),"normal"!==i||r||1!==e.value.length||Ai.forEach((t,i)=>{t.test(e.value)&&"it"===Ei[n][i]&&(r="italic")}),"up"===r&&(r=void 0);const o=r?i+"-"+r:i,[a,s]=Ci[o];return Li[i]&&!Li[i].test(e.value)?(e.value=function(e,t,n){if(!/[A-Za-z\d]/.test(e))return e;if(!t&&!n)return e;const i=e.codePointAt(0);if(void 0===i)return e;for(const r of We)if((!t||r.variant===t)&&(!n||r.style===n)&&i>=r.offset&&i<r.offset+r.len){const e=r.start+i-r.offset;return String.fromCodePoint(Ke[e]||e)}return e}(e.value,i,r),null):(Oi.test(e.value)&&(e.classes+=" lcGreek"),s&&(e.classes+=" "+s),a)}};const Di={roman:"","sans-serif":"ML__sans",monospace:"ML__tt"};new class extends Q{constructor(){super("text")}createAtom(e,t){const n=Ve(e,"text");return new At(e,(null==n?void 0:n.codepoint)?String.fromCodePoint(null==n?void 0:n.codepoint):e,t)}serialize(e,t){var n,i,r;const o=[...e];let a="";for(;null!==(i=null===(n=o[0])||void 0===n?void 0:n.changeMode)&&void 0!==i&&i;)a+=Ni([o[0]],t),o.shift();let s="";return o.length>0&&(s+=Ni(o,t)),null!==(r=t.skipModeCommand)&&void 0!==r&&r||s&&(o.every(e=>void 0!==e.style.fontSeries||void 0!==e.style.fontShape||void 0!==e.style.fontFamily)||(s=`\\text{${s}}`)),a+s}applyStyle(e,t){var n,i,r,o,a,s;const{fontFamily:l}=t;if(Di[l]?e.classes+=null!==(n=" "+Di[l])&&void 0!==n?n:"":l&&e.setStyle("font-family",l),t.fontShape&&(e.classes+=" ",e.classes+=null!==(i={it:"ML__it",sl:"ML__shape_sl",sc:"ML__shape_sc",ol:"ML__shape_ol"}[t.fontShape])&&void 0!==i?i:""),t.fontSeries){const n=t.fontSeries.match(/(.?[lbm])?(.?[cx])?/);n&&(e.classes+=" ",e.classes+=null!==(o={ul:"ML__series_ul",el:"ML__series_el",l:"ML__series_l",sl:"ML__series_sl",m:"",sb:"ML__series_sb",b:"ML__bold",eb:"ML__series_eb",ub:"ML__series_ub"}[null!==(r=n[1])&&void 0!==r?r:""])&&void 0!==o?o:"",e.classes+=" ",e.classes+=null!==(s={uc:"ML__series_uc",ec:"ML__series_ec",c:"ML__series_c",sc:"ML__series_sc",n:"",sx:"ML__series_sx",x:"ML__series_x",ex:"ML__series_ex",ux:"ML__series_ux"}[null!==(a=n[2])&&void 0!==a?a:""])&&void 0!==s?s:"")}return"Main-Regular"}parse(e,t,n){let i,r=[];for(;e.length>0;){const o=e.shift();if("<space>"===o)r.push(new At(" "," ",n.style));else if(o&&o.startsWith("\\")){let t;e.unshift(o),[t,e]=n.parse("text",e,n),r=[...r,...t]}else if("<$>"===o||"<$$>"===o){const t=e.slice(0,e.findIndex(e=>e===o));e=e.slice(t.length+1);const[i]=n.parse("math",t,n);r=[...r,...i]}else if("<{>"===o||"<}>"===o);else if(o){const e=Ve(o,"text",n.macros);!e||e.ifMode&&!e.ifMode.includes("text")?t({code:"unexpected-token"}):e.codepoint&&(i=new At(o,String.fromCodePoint(e.codepoint),n.style),i.verbatimLatex=Be("text",o.codePointAt(0)),r.push(i))}}return[r,e]}};class Pi extends ot{constructor(e,t){var n;super("latex",{value:e,mode:"latex"}),this.isSuggestion=null!==(n=null==t?void 0:t.isSuggestion)&&void 0!==n&&n,this.isError=!1,this.verbatimLatex=e}get computedStyle(){return{}}render(e){const t=new re(this.value,{classes:this.isSuggestion?"ML__suggestion":this.isError?"ML__error":"",type:"latex",maxFontSize:1});return t?(this.caret&&(t.caret=this.caret),this.bind(e,t)):null}}class qi extends ot{constructor(e){super("group",{mode:"latex"}),this.body=[...e].map(e=>new Pi(e)),this.skipBoundary=!1}render(e){const t=ot.createBox(e,this.body,{newList:!0});return t?(this.caret&&(t.caret=this.caret),this.bind(e,t)):null}serialize(e){var t,n;return null!==(n=null===(t=this.body)||void 0===t?void 0:t.map(e=>e.value).join(""))&&void 0!==n?n:""}}new class extends Q{constructor(){super("latex")}createAtom(e,t){return new Pi(e)}serialize(e,t){return e.filter(e=>e instanceof Pi&&!e.isSuggestion).map(e=>e.value).join("")}};const Ii={"p@":"1pt ","z@":"0pt",maxdimen:"16383.99999pt",hfuzz:"0.1pt",vfuzz:"0.1pt",overfullrule:"5pt",hsize:"6.5in",vsize:"8.9in",parindent:"20pt",maxdepth:"4pt",splitmaxdepth:"\\maxdimen",boxmaxdepth:"\\maxdimen",delimitershortfall:"5pt",nulldelimiterspace:"1.2pt",scriptspace:"0.5pt",topskip:"10pt",splittopskip:"10pt",normalbaselineskip:"12pt",normallineskip:"1pt",normallineskiplimit:"0pt",jot:"3pt",doublerulesep:"2pt",arrayrulewidth:"0.4pt",arraycolsep:"5pt",fboxsep:"3pt",fboxrule:"0.4pt"},ji={"z@skip":"0pt plust0pt minus0pt",hideskip:"-1000pt plust 1fill","@flushglue":"0pt plust 1fill",parskip:"0pt plus 1pt",abovedisplayskip:"12pt plus 3pt minus 9pt",abovedisplayshortskip:"0pt plus 3pt",belowdisplayskip:"12pt plus 3pt minus 9pt",belowdisplayshortskip:"7pt plus 3pt minus 4pt",parfillskip:"0pt plus 1fil",thinmuskip:"3mu",medmuskip:"4mu plus 2mu minus 4mu",thickmuskip:"5mu plus 5mu",smallskipamount:"3pt plus1pt minus1pt",medskipamount:"6pt plus2pt minus2pt",bigskipamount:"12pt plus4pt minus4pt"},zi={pretolerance:100,tolerance:200,hbadness:1e3,vbadness:1e3,linepenalty:10,hyphenpenalty:50,exhyphenpenalty:50,binoppenalty:700,relpenalty:500,clubpenalty:150,widowpenalty:150,displaywidowpenalty:50,brokenpenalty:100,predisplaypenalty:1e4,doublehyphendemerits:1e4,finalhyphendemerits:5e3,adjdemerits:1e4,tracinglostchars:1,uchyph:1,delimiterfactor:901,defaulthyphenchar:"\\-",defaultskewchar:-1,newlinechar:-1,showboxbreadth:5,showboxdepth:3,errorcontextlines:5,interdisplaylinepenalty:100,interfootnotelinepenalty:100,baselineSkip:1.2,arraystretch:"",month:(new Date).getMonth()+1,day:(new Date).getDate(),year:(new Date).getFullYear()};let Ri;function Fi(){var e,t,n,i;if(Ri)return Ri;Ri={...zi};for(const r of Object.keys(Ii))Ri[r]=null!==(e=Dt(Ii[r],Ri))&&void 0!==e?e:0;for(const r of Object.keys(ji))Ri[r]=null!==(i=Ri,t="object"==typeof(n=ji[r])&&"glue"in n?n:"object"==typeof n&&"dimension"in n?{glue:n}:"number"==typeof n?{glue:{dimension:n}}:new Tt(xe(n),{registers:i}).scanGlue())&&void 0!==t?t:0;return Ri}function $i(e,t){return function(e,t){return e}(e,(null==t?void 0:t.registers)?t.registers:Fi())}var Bi='#mathlive-popover-panel{background-color:rgba(97,97,97,.95);border-radius:6px;box-shadow:0 14px 28px rgba(0,0,0,.25),0 10px 10px rgba(0,0,0,.22);color:#fff;display:flex;flex-direction:column;justify-content:center;min-width:160px;position:fixed;text-align:center;transition:all .2s cubic-bezier(.64,.09,.08,1);visibility:hidden;z-index:1}#mathlive-popover-panel:after{border-bottom:5px solid rgba(97,97,97,.9);border-left:5px solid transparent;border-right:5px solid transparent;content:"";font-size:1rem;height:0;left:calc(50% - 3px);position:absolute;top:-5px;width:0}.ML__popover--reverse-direction:after{border-bottom:0;border-top:5px solid rgba(97,97,97,.9);bottom:-5px;top:auto}#mathlive-popover-panel.is-visible{-webkit-animation:ML__fade-in .15s cubic-bezier(0,0,.2,1);animation:ML__fade-in .15s cubic-bezier(0,0,.2,1);visibility:inherit}@-webkit-keyframes ML__fade-in{0%{opacity:0}to{opacity:1}}@keyframes ML__fade-in{0%{opacity:0}to{opacity:1}}.ML__popover__content{border-radius:6px;cursor:pointer;display:flex;flex-direction:column;justify-content:center;margin-left:8px;margin-right:8px;min-height:100px;padding:2px}.ML__popover__content a{color:#5ea6fd;display:block;margin-top:.4em;padding-top:.3em}.ML__popover__content a:hover{color:#5ea6fd;text-decoration:underline}.ML__popover__content.is-active,.ML__popover__content.is-pressed,.ML__popover__content:hover{background:hsla(0,0%,100%,.1)}.ML__popover__command{font-family:KaTeX_Main;font-size:1.6rem}.ML__popover__prev-shortcut{cursor:pointer;height:31px;margin-left:8px;margin-right:8px;opacity:.1;padding-bottom:2px;padding-top:4px}.ML__popover__next-shortcut:hover,.ML__popover__prev-shortcut:hover{opacity:.3}.ML__popover__next-shortcut.is-active,.ML__popover__next-shortcut.is-pressed,.ML__popover__prev-shortcut.is-active,.ML__popover__prev-shortcut.is-pressed{opacity:1}.ML__popover__next-shortcut>span,.ML__popover__prev-shortcut>span{border-radius:8px;display:inline-block;height:20px;padding:5px;width:20px}.ML__popover__prev-shortcut>span>span{display:block;margin-top:-2px}.ML__popover__next-shortcut>span>span{display:block;margin-top:2px}.ML__popover__next-shortcut:hover>span,.ML__popover__prev-shortcut:hover>span{background:hsla(0,0%,100%,.1)}.ML__popover__next-shortcut{cursor:pointer;height:34px;margin-left:8px;margin-right:8px;opacity:.1;padding-bottom:4px;padding-top:2px}.ML__popover__shortcut{font-size:.8em;margin-top:.25em}.ML__popover__note,.ML__popover__shortcut{font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;opacity:.7;padding-top:.25em}.ML__popover__note{font-size:.8rem;line-height:1em;padding-left:.5em;padding-right:.5em}.ML__shortcut-join{opacity:.5}';let Ki,Wi=null,Vi=null;const Ui={"\\text":"roman text","\\textrm":"roman text","\\textnormal":"roman text","\\textit":"italic text","\\textbf":"bold text","\\texttt":"monospaced text","\\textsf":"sans-serif text","\\mathrm":["roman","(upright)"],"\\mathbf":"bold","\\bf":"bold","\\bold":"bold","\\mathit":"italic","\\mathbb":"blackboard","\\mathscr":"script","\\mathtt":["typewriter","(monospaced)"],"\\mathsf":"sans-serif","\\mathcal":"caligraphic","\\frak":["fraktur","(gothic)"],"\\mathfrak":["fraktur","(gothic)"],"\\textcolor":"text color","\\color":"color","\\forall":"for all","\\exists":"there exists","\\nexists":"there does not exist","\\frac":"fraction","\\dfrac":"display fraction","\\cfrac":"continuous fraction","\\tfrac":"text fraction","\\binom":"binomial coefficient","\\dbinom":"display binomial coefficient","\\tbinom":"text binomial coefficient","\\pdiff":"partial differential","\\vec":"vector","\\check":"caron","\\acute":"acute","\\breve":"breve","\\tilde":"tilde","\\dot":"dot","\\hat":["hat","circumflex"],"\\ddot":"double dot","\\bar":"bar","\\prime":"prime","\\doubleprime":"double prime","\\varnothing":"empty set","\\emptyset":"empty set","\\subseteq":"subset of or <br>equal to","\\supseteq":"superset of or <br>equal to","\\supset":"superset of","\\subset":"subset of","\\partial":"partial derivative","\\bigcup":"union","\\bigcap":"intersection","\\approx":"approximately equal to","\\notin":"not an element of","\\in":["element of","included in"],"\\infty":"infinity","\\land":"logical and","\\sqrt":"square root","\\prod":"product","\\sum":"summation","\\amalg":["amalgamation","coproduct","free product","disjoint union"],"\\cup":"union with","\\cap":"intersection with","\\int":"integral","\\iint":"surface integral","\\oint":"curve integral","\\iiint":"volume integral","\\iff":"if and only if","\\ln":"natural logarithm","\\boldsymbol":"bold","\\setminus":"set subtraction","\\stackrel":"relation with symbol above","\\stackbin":"operator with symbol above","\\underset":"symbol with annotation below","\\overset":"symbol with annotation above","\\hslash":["h-bar","Planck constant"],"\\gtrsim":"greater than or <br>similar to","\\propto":"proportional to","\\equiv":"equivalent to","\\!":["negative thin space","(-3 mu)"],"\\ ":["space","(6 mu)"],"\\,":["thin space","(3 mu)"],"\\:":["medium space","(4 mu)"],"\\;":["thick space","(5 mu)"],"\\quad":["1 em space","(18 mu)"],"\\qquad":["2 em space","(36 mu)"],"\\enskip":["&#189; em space","(9 mu)"],"\\mp":"minus or plus","\\pm":"plus or minus","\\Im":"Imaginary part of","\\Re":"Real part of","\\gothicCapitalR":"Real part of","\\gothicCapitalI":"Imaginary part part of","\\differentialD":"differential d","\\aleph":["aleph","infinite cardinal",'<a target="_blank" href="https://en.wikipedia.org/wiki/Cardinal_number">Wikipedia <big>&#x203A;</big></a>'],"\\beth":["beth","beth number",'<a target="_blank" href="https://en.wikipedia.org/wiki/Beth_number">Wikipedia <big>&#x203A;</big></a>'],"\\gimel":["gimel","gimel function",'<a target="_blank" href="https://en.wikipedia.org/wiki/Gimel_function">Wikipedia <big>&#x203A;</big></a>'],"\\O":"empty set","\\N":"set of <br>natural numbers","\\Z":"set of <br>integers","\\Q":"set of <br>rational numbers","\\C":"set of <br>complex numbers","\\R":"set of <br>real numbers","\\P":"set of <br>prime numbers","\\lesseqqgtr":"less than, equal to or<br> greater than","\\gnapprox":"greater than and <br>not approximately","\\lnapprox":"lesser than and <br>not approximately","\\j":"dotless j","\\i":"dotless i","\\cdot":"centered dot","\\lmoustache":"left moustache","\\rmoustache":"right moustache","\\nabla":["nabla","del","differential vector operator"],"\\square":["square","dâAlembert operator",'<a target="_blank" href="https://en.wikipedia.org/wiki/D%27Alembert_operator">Wikipedia <big>&#x203A;</big></a>'],"\\blacksquare":["black square","end of proof","tombstone","Halmos symbol"],"\\Box":"end of proof","\\colon":["such that","ratio"],"\\coloneq":["is defined by","is assigned"],"\\Colon":["is defined by","as"],"\\_":["underbar","underscore"],"\\ll":"much less than","\\gg":"much greater than","\\doteq":"approximately equal to","\\Doteq":"approximately equal to","\\doteqdot":"approximately equal to","\\cong":["isomorphism of","(for algebras, modules...)"],"\\det":["determinant of","(of a matrix)"],"\\dotplus":"Cartesian product algebra","\\otimes":["tensor product","(of algebras)","Kronecker product","(of matrices)"],"\\oplus":["direct sum","(of modules)"],"\\lb":"base-2 logarithm","\\lg":"base-10 logarithm","\\wp":["Weierstrass P",'<a target="_blank" href="https://en.wikipedia.org/wiki/Weierstrass%27s_elliptic_functions">Wikipedia <big>&#x203A;</big></a>'],"\\wr":["wreath product",'<a target="_blank" href="https://en.wikipedia.org/wiki/Wreath_product">Wikipedia <big>&#x203A;</big></a>'],"\\top":["tautology","Proposition P is universally true"],"\\bot":["contradiction","Proposition P is contradictory"],"\\mid":["probability","of event A given B"],"\\mho":["Siemens","electrical conductance in SI unit",'<a target="_blank" href="https://en.wikipedia.org/wiki/Siemens_(unit)">Wikipedia <big>&#x203A;</big></a>'],"\\Longrightarrow":"implies","\\Longleftrightarrow":"if, and only if,","\\prec":"precedes","\\preceq":"precedes or is equal to","\\succ":"succeedes","\\succeq":"succeedes or is equal to","\\perp":["is perpendicular to","is independent of"],"\\models":["entails","double-turnstyle, models","is a semantic consequence of",'<a target="_blank" href="https://en.wikipedia.org/wiki/Double_turnstile">Wikipedia <big>&#x203A;</big></a>'],"\\vdash":["satisfies","turnstyle, assertion sign","syntactic inference",'<a target="_blank" href="https://en.wikipedia.org/wiki/Turnstile_(symbol)">Wikipedia <big>&#x203A;</big></a>'],"\\implies":["implies","logical consequence"],"\\impliedby":["implied by","logical consequence"],"\\surd":["surd","root of","checkmark"],"\\ltimes":["semi direct product",'<a target="_blank" href="https://en.wikipedia.org/wiki/Semidirect_product">Wikipedia <big>&#x203A;</big></a>'],"\\rtimes":["semi direct product",'<a target="_blank" href="https://en.wikipedia.org/wiki/Semidirect_product">Wikipedia <big>&#x203A;</big></a>'],"\\leftthreetimes":["semi direct product",'<a target="_blank" href="https://en.wikipedia.org/wiki/Semidirect_product">Wikipedia <big>&#x203A;</big></a>'],"\\rightthreetimes":["semi direct product",'<a target="_blank" href="https://en.wikipedia.org/wiki/Semidirect_product">Wikipedia <big>&#x203A;</big></a>'],"\\divideontimes":["divide on times"],"\\curlywedge":"nor","\\curlyvee":"nand","\\simeq":"is group isomorphic with","\\vartriangleleft":["is a normal subgroup of","is an ideal ring of"],"\\circ":["circle","ring","function composition"],"\\rlap":["overlap right","\\rlap{x}o"],"\\llap":["overlap left","o\\llap{/}"],"\\colorbox":["color box","\\colorbox{#fbc0bd}{...}"],"\\ast":["asterisk","reflexive closure (as a superscript)"],"\\bullet":"bullet","\\lim":"limit"};function Hi(e,t){var n;if(e.element&&e.element.mathfield===e&&e.popover&&e.popoverVisible)if(null==t?void 0:t.deferred)setTimeout(()=>Hi(e),100);else if("latex"!==(null===(n=e.model.at(e.model.position))||void 0===n?void 0:n.type))Xi(e);else{const t=yi(e.field);t&&Gi(e,t)}}function Gi(e,t){if(Me(),!e.popover||!e.popoverVisible)return;const n=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,i=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,r=window.innerWidth-document.documentElement.clientWidth,o=window.innerHeight-document.documentElement.clientHeight,a=e.virtualKeyboard.height;t.x+e.popover.offsetWidth/2>i-r?e.popover.style.left=i-e.popover.offsetWidth-r+"px":t.x-e.popover.offsetWidth/2<0?e.popover.style.left="0":e.popover.style.left=t.x-e.popover.offsetWidth/2+"px",t.y+e.popover.offsetHeight+5>n-o-a?(e.popover.classList.add("ML__popover--reverse-direction"),e.popover.style.top=t.y-t.height-e.popover.offsetHeight-5+"px"):(e.popover.classList.remove("ML__popover--reverse-direction"),e.popover.style.top=t.y+5+"px")}function Xi(e){e.suggestionIndex=0,e.popoverVisible=!1,e.popover&&(e.popover.classList.remove("is-visible"),e.popover.innerHTML="")}function Zi(e){let t=0;for(let n=0;n<e.length;n++)t=31*t+e.charCodeAt(n),t|=0;return Math.abs(t)}function Yi(e,t){e.dirty||(e.dirty=!0,requestAnimationFrame(()=>{gi(e)&&e.dirty&&(e._atomBoundsCache=new Map,Qi(e,t),e._atomBoundsCache=void 0)}))}function Qi(e,t){var n,i;if(Me(),!gi(e))return;t=null!=t?t:{},e.dirty=!1;const{model:r}=e;void 0===window.mathlive&&(window.mathlive={}),r.root.caret="",r.root.isSelected=!1,r.root.containsCaret=!0;for(const c of r.atoms)c.caret="",c.isSelected=!1,c.containsCaret=!1;const o=e.hasFocus()&&!e.options.readOnly;if(r.selectionIsCollapsed)r.at(r.position).caret=o?e.mode:"";else for(const c of r.getAtoms(r.selection,{includeChildren:!0}))c.isSelected=!0;if(o){let e=r.at(r.position).parent;for(;e;)e.containsCaret=!0,e=e.parent}const a=ue(ce(r.root.render(new G({macros:e.options.macros,registers:e.options.registers,atomIdsSettings:{seed:Zi(ot.serialize(r.root,{expandMacro:!1,defaultMode:e.options.defaultMode})),groupNumbers:null!==(n=t.forHighlighting)&&void 0!==n&&n},smartFence:e.options.smartFence,renderPlaceholder:void 0,isSelected:r.root.isSelected},{fontSize:5,letterShapeStyle:e.options.letterShapeStyle},"inline-math"===e.options.defaultMode?"textstyle":"displaystyle")),e.options.horizontalSpacingScale),{classes:"ML__mathlive",attributes:{translate:"no","aria-hidden":"true"}}),s=e.field,l=s.classList.contains("ML__focused");l&&!o?s.classList.remove("ML__focused"):!l&&o&&s.classList.add("ML__focused"),s.innerHTML=e.options.createHTML(a.toMarkup()),e.fieldContent=s.querySelector(".ML__mathlive"),e.accessibleNode.innerHTML=e.options.createHTML('<math xmlns="http://www.w3.org/1998/Math/MathML">'+ii(r.root,e.options)+"</math>"),Ji(e),null!==(i=t.interactive)&&void 0!==i&&i||setTimeout(()=>Ji(e),32)}function Ji(e){if(Me(),!e.field)return;for(const n of e.field.querySelectorAll(".ML__selection, .ML__contains-highlight"))n.remove();if(!e.hasFocus())return;const t=e.model;if(t.selectionIsCollapsed){setTimeout(()=>Hi(e),32);let n=t.at(t.position);for(;n&&(!n.containsCaret||!n.displayContainsHighlight);)n=n.parent;if((null==n?void 0:n.containsCaret)&&n.displayContainsHighlight){const t=bi(e,xi(e,n));if(t){const n=document.createElement("div");n.classList.add("ML__contains-highlight"),n.style.position="absolute",n.style.left=t.left+"px",n.style.top=t.top+"px",n.style.width=Math.ceil(t.right-t.left)+"px",n.style.height=Math.ceil(t.bottom-t.top-1)+"px",e.field.insertBefore(n,e.field.childNodes[0])}}}else for(const n of function(e){const t=[];for(const n of e){let e=!1;for(const i of t)if(n.left===i.left&&n.right===i.right&&n.top===i.top&&n.bottom===i.bottom){e=!0;break}e||t.push(n)}for(const n of e){let i=0;for(const t of e)if(n.left>=t.left&&n.right<=t.right&&n.top>=t.top&&n.bottom<=t.bottom&&(i+=1,i>1))break;1===i&&t.push(n)}return t}(ki(e,{excludeAtomsWithBackground:!0}))){const t=document.createElement("div");t.classList.add("ML__selection"),t.style.position="absolute",t.style.left=n.left+"px",t.style.top=n.top+"px",t.style.width=Math.ceil(n.right-n.left)+"px",t.style.height=Math.ceil(n.bottom-n.top-1)+"px",e.field.insertBefore(t,e.field.childNodes[0])}}function er(e,t){return e[0]===t[0]&&e[1]===t[1]?"equal":"different"}function tr(e){let t=1/0,n=-1/0;for(const i of e.ranges)t=Math.min(t,i[0],i[1]),n=Math.max(n,i[0],i[1]);return[t,n]}const nr=(e,t,n)=>(vn.some(e=>t.startsWith(e[0])&&t.endsWith(e[1]))||(t=`\\begin{equation*} ${t} \\end{equation*}`),t);class ir{constructor(e){ir._registry[e]=this}static onPaste(e,t,n){return ir._registry[e].onPaste(t,n)}static onCopy(e,t){if(!t.clipboardData)return;const n=e.model,i=n.selectionIsCollapsed?[0,n.lastOffset]:tr(n.selection),r=n.getAtoms(i);if(r.every(e=>"text"===e.mode||!e.mode))t.clipboardData.setData("text/plain",r.filter(e=>e instanceof At).map(e=>e.value).join(""));else if(r.every(e=>"latex"===e.mode))t.clipboardData.setData("text/plain",n.getAtoms(i,{includeChildren:!0}).map(e=>{var t;return null!==(t=e.value)&&void 0!==t?t:""}).join(""));else{let o="";1===r.length&&r[0].verbatimLatex&&(o=r[0].verbatimLatex),o||(o=n.getValue(i,"latex-expanded")),t.clipboardData.setData("application/x-latex",o),t.clipboardData.setData("text/plain",e.options.onExport(e,o,i));const a=n.getValue(i,"math-json");a&&t.clipboardData.setData("application/json",a);const s=n.getValue(i,"math-ml");s&&t.clipboardData.setData("application/mathml+xml",s)}t.preventDefault()}static insert(e,t,n,i={}){return ir._registry[e].insert(t,n,i)}onPaste(e,t){return!1}insert(e,t,n){return!1}}function rr(e){var t;"function"!=typeof(null===(t=e.listeners)||void 0===t?void 0:t.onSelectionDidChange)||e.suppressChangeNotifications||(e.suppressChangeNotifications=!0,e.listeners.onSelectionDidChange(e),e.suppressChangeNotifications=!1)}function or(e){var t;"function"!=typeof(null===(t=e.listeners)||void 0===t?void 0:t.onContentDidChange)||e.suppressChangeNotifications||(e.suppressChangeNotifications=!0,e.listeners.onContentDidChange(e),e.suppressChangeNotifications=!1)}function ar(e){var t,n;const i=e.atoms.find(e=>e instanceof qi);return i&&null!==(n=null===(t=i.body)||void 0===t?void 0:t.filter(e=>e instanceof Pi))&&void 0!==n?n:[]}function sr(e,t){var n;let i=0,r=!1;const o=Number.isFinite(null==t?void 0:t.before)?null!==(n=null==t?void 0:t.before)&&void 0!==n?n:0:e.lastOffset;for(;i<=o&&!r;){const t=e.at(i);r=t instanceof Pi&&t.isSuggestion,r||i++}if(!r)return[void 0,void 0];let a=i,s=!1;for(;a<=o&&!s;){const t=e.at(a);s=!(t instanceof Pi&&t.isSuggestion),s||a++}return[i-1,a-1]}function lr(e,t){var n;const{model:r}=e;for(const i of ar(r))i.isSuggestion?i.parent.removeChild(i):i.isError=!1;if(!r.selectionIsCollapsed)return void Xi(e);const o=[];let a=r.at(r.position);for(;a&&a instanceof Pi&&/[a-zA-Z*]$/.test(a.value);)o.unshift(a),a=a.leftSibling;const s=null==a?void 0:a.leftSibling;if(a&&a instanceof Pi&&"\\"===a.value&&!(s instanceof Pi&&"\\"===a.value))for(o.unshift(a),a=r.at(r.position).rightSibling;a&&a instanceof Pi&&/[a-zA-Z*]$/.test(a.value);)o.push(a),a=a.rightSibling;const l=o.map(e=>e.value).join(""),c=l?function(e){var t,n;if("\\"===e)return[];const i=[];for(const r in Ne)r.startsWith(e)&&!Ne[r].infix&&i.push({match:r,frequency:null!==(t=Ne[r].frequency)&&void 0!==t?t:0});for(const r in Ee)r.startsWith(e)&&i.push({match:r,frequency:null!==(n=Ee[r].frequency)&&void 0!==n?n:0});return i.sort((e,t)=>{var n,i;return e.frequency===t.frequency?e.match.length===t.match.length?e.match.localeCompare(t.match):e.match.length-t.match.length:(null!==(n=t.frequency)&&void 0!==n?n:0)-(null!==(i=e.frequency)&&void 0!==i?i:0)}),i}(l):[];if(0===c.length)return/^\\[a-zA-Z\*]+$/.test(l)&&o.forEach(e=>{e.isError=!0}),void Xi(e);e.suggestionIndex=null!==(n=null==t?void 0:t.atIndex)&&void 0!==n?n:0,e.suggestionIndex<0&&(e.suggestionIndex=c.length-1);const u=c[e.suggestionIndex%c.length].match;if(u!==l){const t=o[o.length-1];t.parent.addChildrenAfter([...u.slice(l.length-u.length)].map(e=>new Pi(e,{isSuggestion:!0})),t),Yi(e)}!function(e,t,n){if(!t||0===t.length)return void Xi(e);const r=t,o=function(e){const t=new ot("root",{mode:"math"});return t.body=$i(Nt(e,{parseMode:"math",macros:Je(),registers:Fi()})),ue(ae(ce(new re(t.render(new G({macros:Je(),registers:Fi(),smartFence:!1},{fontSize:5},"displaystyle")),{classes:"ML__base"}))),{classes:"ML__mathlive"}).toMarkup()}(t),a=function(e){var t;let n=null!==(t=Ui[e])&&void 0!==t?t:"";return i(n)&&(n=n.join("<br>")),n}(r),s=function(e,t){let n=[];if("string"==typeof t){const e=kn[t];i(e)?n=e.slice():e&&n.push(e)}const r=Dn(t),o=new RegExp("^"+r.replace("\\","\\\\").replace("|","\\|").replace("*","\\*").replace("$","\\$").replace("^","\\^")+"([^*a-zA-Z]|$)");for(const i of e)o.test(Dn(i.command))&&n.push(i.key);return n.map(Pn)}(e.keybindings,r).join("<br>");let l=n?'<div class="ML__popover__prev-shortcut" role="button" aria-label="Previous suggestion"><span><span>&#x25B2;</span></span></div>':"";l+='<span class="ML__popover__content" role="button">',l+='<div class="ML__popover__command">'+o+"</div>",a&&(l+='<div class="ML__popover__note">'+a+"</div>"),s&&(l+='<div class="ML__popover__shortcut">'+s+"</div>"),l+="</span>",l+=n?'<div class="ML__popover__next-shortcut" role="button" aria-label="Next suggestion"><span><span>&#x25BC;</span></span></div>':"",e.popover=function(e,t){return e.popover?(e.popover.innerHTML=e.options.createHTML(t),e.popover):(e.popover=fi("mathlive-popover-panel"),void 0===Ki&&(Ki=_n(Bi).toString(36)),Wi=un(null,Bi,Ki),Vi=un(null,dn,_n(dn).toString(36)),e.popover.innerHTML=e.options.createHTML(t),e.popover)}(e,l);let c=e.popover.querySelectorAll(".ML__popover__content");c&&c.length>0&&Si(t=>e.executeCommand(t),c[0],{default:["complete","accept-suggestion"]}),c=e.popover.querySelectorAll(".ML__popover__prev-shortcut"),c&&c.length>0&&Si(t=>e.executeCommand(t),c[0],"previousSuggestion"),c=e.popover.querySelectorAll(".ML__popover__next-shortcut"),c&&c.length>0&&Si(t=>e.executeCommand(t),c[0],"nextSuggestion"),setTimeout(()=>{const t=yi(e.field);t&&Gi(e,t),e.popover&&(e.popover.classList.add("is-visible"),e.popoverVisible=!0)},32)}(e,u,c.length>1)}function cr(e){const[t,n]=sr(e,{before:e.position});if(void 0===t||void 0===n)return!1;let i=!1;return e.getAtoms([t,n]).forEach(e=>{e.isSuggestion&&(e.isSuggestion=!1,i=!0)}),i}function ur(e,t="accept",n){var i,r;Xi(e);const o=e.model.atoms.find(e=>e instanceof qi);if(!o)return!1;if("accept-suggestion"===t){const t=ar(e.model).filter(e=>e.isSuggestion);if(0===t.length)return!1;for(const e of t)e.isSuggestion=!1;return e.model.position=e.model.offsetOf(t[t.length-1]),!0}const a=ar(e.model).filter(e=>!e.isSuggestion).map(e=>e.value).join(""),s=o.leftSibling;return o.parent.removeChild(o),e.model.position=e.model.offsetOf(s),e.mode=null!==(i=null==n?void 0:n.mode)&&void 0!==i?i:"math","reject"===t||(ir.insert("math",e.model,a,{macros:e.options.macros,selectionMode:null!==(r=null==n?void 0:n.selectItem)&&void 0!==r&&r?"item":"placeholder",format:"latex"}),e.snapshot(),e.model.announce("replacement")),!0}ir._registry={},new class extends ir{constructor(){super("latex")}createAtom(e,t){return new Pi(e)}onPaste(e,t){if(!t.clipboardData)return!1;const n=t.clipboardData.getData("text/plain");return!!n&&(e.snapshot(),this.insert(e.model,n)&&Yi(e),t.preventDefault(),t.stopPropagation(),!0)}insert(e,t,n){n||(n={}),n.insertionMode||(n.insertionMode="replaceSelection"),n.selectionMode||(n.selectionMode="placeholder");const{suppressChangeNotifications:i}=e;n.suppressChangeNotifications&&(e.suppressChangeNotifications=!0);const r=e.suppressChangeNotifications;e.suppressChangeNotifications=!0,"replaceSelection"!==n.insertionMode||e.selectionIsCollapsed?"replaceAll"===n.insertionMode?(e.root.setChildren([],"body"),e.position=0):"insertBefore"===n.insertionMode?e.collapseSelection("backward"):"insertAfter"===n.insertionMode&&e.collapseSelection("forward"):e.position=e.deleteAtoms(tr(e.selection));const o=[];for(const l of t)Ie.test(l)&&o.push(new Pi(l));const a=e.at(e.position),s=a.parent.addChildrenAfter(o,a);return e.suppressChangeNotifications=r,"before"===n.selectionMode||("item"===n.selectionMode?e.setSelection(e.anchor,e.offsetOf(s)):s&&(e.position=e.offsetOf(s))),or(e),e.suppressChangeNotifications=i,!0}};const dr={};function hr(e,t){t=null!=t?t:{target:"mathfield",canUndo:!1};for(const n of Object.keys(e))dr[n]={...t,fn:e[n]}}function pr(e){var t;let n;return n=i(e)?e[0]:e,n=n.replace(/-\w/g,e=>e[1].toUpperCase()),null===(t=dr[n])||void 0===t?void 0:t.target}hr({performWithFeedback:(e,t)=>function(e,t){var n,i,r;return e.focus(),e.options.keypressVibration&&Le()&&navigator.vibrate(3),"moveToNextPlaceholder"===(t=t.replace(/-\w/g,e=>e[1].toUpperCase()))||"moveToPreviousPlaceholder"===t||"complete"===t?null===(n=e.returnKeypressSound)||void 0===n||n.play().catch(console.warn):"deleteBackward"===t||"deleteForward"===t||"deletePreviousWord"===t||"deleteNextWord"===t||"deleteToGroupStart"===t||"deleteToGroupEnd"===t||"deleteToMathFieldStart"===t||"deleteToMathFieldEnd"===t?null===(i=e.deleteKeypressSound)||void 0===i||i.play().catch(console.warn):null===(r=e.keypressSound)||void 0===r||r.play().catch(console.warn),e.executeCommand(t)}(e,t)}),hr({complete:ur,nextSuggestion:function(e){return lr(e,{atIndex:e.suggestionIndex+1}),!1},previousSuggestion:function(e){return lr(e,{atIndex:e.suggestionIndex-1}),!1}},{target:"mathfield",category:"autocomplete"});class fr{constructor(e){var t,n;this.preventOverlayClose=null!==(t=null==e?void 0:e.preventOverlayClose)&&void 0!==t&&t,this.translucent=null!==(n=null==e?void 0:e.translucent)&&void 0!==n&&n,this.state="closed"}get element(){if(this._element)return this._element;const e=document.createElement("div");return e.setAttribute("role","presentation"),e.style.position="fixed",e.style.contain="content",e.style.top="0",e.style.left="0",e.style.right="0",e.style.bottom="0",e.style.zIndex="9999",e.style.outline="none",this.translucent?(e.style.background="rgba(255, 255, 255, .2)",e.style.backdropFilter="contrast(40%)"):e.style.background="transparent",this._element=e,e}open(e){var t;if("closed"!==this.state)return;this.state="opening",this.savedActiveElement=function(){var e;let t=document.activeElement;for(;null===(e=null==t?void 0:t.shadowRoot)||void 0===e?void 0:e.activeElement;)t=t.shadowRoot.activeElement;return t}();const{element:n}=this;(null!==(t=null==e?void 0:e.root)&&void 0!==t?t:document.body).appendChild(n),n.addEventListener("click",this),document.addEventListener("touchmove",this,!1),document.addEventListener("scroll",this,!1);const i=window.innerWidth-document.documentElement.clientWidth;this.savedMarginRight=document.body.style.marginRight,this.savedOverflow=document.body.style.overflow,document.body.style.overflow="hidden";const r=Number.parseFloat(getComputedStyle(document.body).marginRight);document.body.style.marginRight=r+i+"px",(null==e?void 0:e.child)&&n.append(e.child),this.state="open"}close(){var e,t,n,i;if("open"!==this.state)return;this.state="closing","function"==typeof this.onClose&&this.onClose();const{element:r}=this;r.removeEventListener("click",this),document.removeEventListener("touchmove",this,!1),document.removeEventListener("scroll",this,!1),r.remove(),document.body.style.overflow=null!==(e=this.savedOverflow)&&void 0!==e?e:"",document.body.style.marginRight=null!==(t=this.savedMarginRight)&&void 0!==t?t:"",document.activeElement!==this.savedActiveElement&&(null===(i=null===(n=this.savedActiveElement)||void 0===n?void 0:n.focus)||void 0===i||i.call(n)),r.innerHTML="",this.state="closed"}handleEvent(e){this.preventOverlayClose||(e.target===this._element&&"click"===e.type?(this.close(),e.preventDefault(),e.stopPropagation()):e.target!==document||"touchmove"!==e.type&&"scroll"!==e.type||(this.close(),e.preventDefault(),e.stopPropagation()))}}let mr,gr=null;function yr(){Me();const e=document.querySelector("#mathlive-alternate-keys-panel");return e&&(e.classList.remove("is-visible"),e.innerHTML=""),null==gr||gr.close(),!1}class vr{constructor(e,t){this.options=e,this.visible=!1,this._executeCommand=null==t?void 0:t.executeCommand,this._focus=null==t?void 0:t.focus,this._blur=null==t?void 0:t.blur,this.coreStylesheet=null,this.virtualKeyboardStylesheet=null}setOptions(e){var t;this.visible=!1,null===(t=this._element)||void 0===t||t.remove(),this._element=void 0,this.options=e}get element(){return this._element}set element(e){var t;null===(t=this._element)||void 0===t||t.remove(),this._element=e}get visible(){return this._visible}set visible(e){this._visible=e}get height(){var e,t;return null!==(t=null===(e=this.element)||void 0===e?void 0:e.offsetHeight)&&void 0!==t?t:0}handleEvent(e){if(this.element)switch(e.type){case"mouseup":case"blur":case"touchend":case"touchcancel":document.body.style.userSelect="",Or(this)}}focusMathfield(){this._focus&&this._focus()}blurMathfield(){this._blur&&this._blur()}stateChanged(){}executeCommand(e){var t,n,r;let o,a=[];return i(e)?(o=e[0],a=e.slice(1)):o=e,o=o.replace(/-\w/g,e=>e[1].toUpperCase()),"virtual-keyboard"===(null===(t=dr[o])||void 0===t?void 0:t.target)?dr[o].fn(this,...a):null!==(r=null===(n=this._executeCommand)||void 0===n?void 0:n.call(this,e))&&void 0!==r&&r}create(){mr||(mr=_n(Mi).toString(36)),this.virtualKeyboardStylesheet=this.virtualKeyboardStylesheet=un(null,Mi,mr),this.coreStylesheet=un(null,dn,_n(dn).toString(36)),cn(this.options.fontsDirectory)}enable(){window.addEventListener("mouseup",this),window.addEventListener("blur",this),window.addEventListener("touchend",this),window.addEventListener("touchcancel",this)}disable(){var e,t,n;window.removeEventListener("mouseup",this),window.removeEventListener("blur",this),window.removeEventListener("touchend",this),window.removeEventListener("touchcancel",this),yr(),this.visible=!1,null===(e=this.coreStylesheet)||void 0===e||e.release(),this.coreStylesheet=null,null===(t=this.virtualKeyboardStylesheet)||void 0===t||t.release(),this.virtualKeyboardStylesheet=null,null===(n=this._element)||void 0===n||n.remove(),this._element=void 0}dispose(){}}const br={numeric:{tooltip:"keyboard.tooltip.numeric",layer:"math",label:"123",layers:["math"]},roman:{tooltip:"keyboard.tooltip.roman",layer:"lower-roman",label:"ABC",layers:["lower-roman","upper-roman"]},greek:{tooltip:"keyboard.tooltip.greek",layer:"lower-greek",label:"&alpha;&beta;&gamma;",classes:"tex-math",layers:["lower-greek","upper-greek"]},functions:{tooltip:"keyboard.tooltip.functions",layer:"functions",label:"<i>f</i>&thinsp;()",classes:"tex",layers:["functions"]},symbols:{tooltip:"keyboard.tooltip.symbols",layer:"symbols",label:"&infin;â â",classes:"tex",layers:["symbols"]},latex:{tooltip:"keyboard.tooltip.command",command:["switchMode","latex"],label:"<svg class=\"svg-glyph\"><use xlink:href='#svg-command' /></svg>",layers:["latex-lower","latex-upper","latex-symbols"]},style:{tooltip:"keyboard.tooltip.style",layer:"style",label:"<b>b</b><i>i</i>ð¹"}},_r={"\\varphi ":["&Phi;","\\Phi "],"\\varsigma ":["&Sigma;","\\Sigma "],"\\epsilon ":["&#x0190;",'{\\char"0190}'],"\\rho ":["&#x3A1",'{\\char"3A1}'],"\\tau ":["&#x3A4;",'{\\char"3A4}'],"\\upsilon ":["&Upsilon;","\\Upsilon "],"\\theta ":["&Theta;","\\Theta "],"\\iota ":["&Iota;",'{\\char"399}'],"\\omicron ":["&#x039F;",'{\\char"39F}'],"\\pi ":["&Pi;","\\Pi "],"\\alpha ":["&Alpha;",'{\\char"391}'],"\\sigma ":["&Sigma;","\\Sigma "],"\\delta ":["&Delta;","\\Delta "],"\\phi ":["&#x03a6;","\\Phi "],"\\gamma ":["&Gamma;","\\Gamma "],"\\eta ":["&Eta;",'{\\char"397}'],"\\xi ":["&Xi;","\\Xi "],"\\kappa ":["&Kappa;",'{\\char"39A}'],"\\lambda ":["&Lambda;","\\Lambda "],"\\zeta ":["&Zeta;",'{\\char"396}'],"\\chi ":["&Chi;",'{\\char"3A7}'],"\\psi ":["&Psi;","\\Psi "],"\\omega ":["&Omega;","\\Omega "],"\\beta ":["&Beta;",'{\\char"392}'],"\\nu ":["&Nu;",'{\\char"39D}'],"\\mu ":["&Mu;",'{\\char"39C}']},xr={0:["\\emptyset","\\varnothing","\\infty",{latex:"#?_0",insert:"#@_0"},"\\circ","\\bigcirc","\\bullet"],2:["\\frac{1}{2}",{latex:"#?^2",insert:"#@^2"}],3:["\\frac{1}{3}",{latex:"#?^3",insert:"#@^3"}],".":[",",";","\\colon",{latex:":",aside:"ratio"},{latex:"\\cdotp",aside:"center dot",class:"box"},{latex:"\\cdots",aside:"center ellipsis",class:"box"},{latex:"\\ldotp",aside:"low dot",class:"box"},{latex:"\\ldots",aside:"low ellipsis",class:"box"},{latex:"\\vdots",aside:"",class:"box"},{latex:"\\ddots",aside:"",class:"box"},"\\odot","\\oslash","\\circledcirc"],"*":["\\cdot","\\ast","\\star","\\bigstar","\\ltimes","\\rtimes","\\rightthreetimes","\\leftthreetimes","\\intercal","\\prod",{latex:"\\prod_{n\\mathop=0}^{\\infty}",class:"small"}],"+":["\\pm","\\mp","\\sum",{latex:"\\sum_{n\\mathop=0}^{\\infty}",class:"small"},"\\dotplus","\\oplus"],"-":["\\pm","\\mp","\\ominus","\\vert #0  \\vert"],"/":["\\divideontimes","/","\\div","\\%"],"(":["\\left( #0\\right)","\\left[ #0\\right]","\\left\\{ #0\\right\\}","\\left\\langle #0\\right\\rangle","\\lfloor","\\llcorner","(","\\lbrack","\\lvert","\\lVert","\\lgroup","\\langle","\\lceil","\\ulcorner","\\lmoustache","\\lbrace"],")":["\\rfloor","\\lrcorner",")","\\rbrack","\\rvert","\\rVert","\\rgroup","\\rangle","\\rceil","\\urcorner","\\rmoustache","\\rbrace"],"=":["\\cong","\\asymp","\\equiv","\\differencedelta","\\varpropto","\\thickapprox","\\approxeq","\\thicksim","\\backsim","\\eqsim","\\simeq","\\Bumpeq","\\bumpeq","\\doteq","\\Doteq","\\fallingdotseq","\\risingdotseq","\\coloneq","\\eqcirc","\\circeq","\\triangleq","\\between"],"!=":["\\neq","\\ncong","","\\nsim"],"<":["\\leq","\\leqq","\\lneqq","\\ll","\\lessgtr","\\nless","\\nleq","\\lesssim","\\precsim","\\prec","\\nprec","\\preccurlyeq","\\lessdot"],">":["\\geq","\\geqq","\\gneqq","\\gg","\\gtrless","\\ngtr","\\ngeq","\\gtrsim","\\succsim","\\succ","\\nsucc","\\succcurlyeq","\\gtrdot"],in:["\\owns"],"!in":["\\backepsilon"],subset:["\\subseteq","\\nsubset","\\nsubseteq"],superset:["\\supseteq","\\nsupset","\\nsupseteq"],infinity:["\\aleph_0","\\aleph_1","\\omega","\\mathfrak{m}"],"numeric-pi":["\\prod","\\theta","\\rho","\\sin","\\cos","\\tan"],ee:["\\times 10^{#?}","\\ln","\\ln_{10}","\\log"],"^":["_{#?}"],int:[{latex:"\\int_{#?}^{#?}",class:"small"},{latex:"\\int",class:"small"},{latex:"\\smallint",class:"small"},{latex:"\\iint",class:"small"},{latex:"\\iiint",class:"small"},{latex:"\\oint",class:"small"},{latex:"\\dfrac{\\rd}{\\rd x}",class:"small"},{latex:"\\frac{\\partial}{\\partial x}",class:"small"},"\\capitalDifferentialD","\\rd","\\partial"],nabla:["\\nabla\\times","\\nabla\\cdot","\\nabla^{2}"],"!":["!!","\\Gamma","\\Pi"],accents:["\\bar{#@}","\\vec{#@}","\\hat{#@}","\\check{#@}","\\dot{#@}","\\ddot{#@}","\\mathring{#@}","\\breve{#@}","\\acute{#@}","\\tilde{#@}","\\grave{#@}"],underline:["\\underbrace{#@}","\\underlinesegment{#@}","\\underleftrightarrow{#@}","\\underrightarrow{#@}","\\underleftarrow{#@}","\\undergroup{#@}"],overline:["\\overbrace{#@}","\\overlinesegment{#@}","\\overleftrightarrow{#@}","\\overrightarrow{#@}","\\overleftarrow{#@}","\\overgroup{#@}"],xleftarrows:["\\xlongequal{}","\\xleftrightarrow{}","\\xLeftrightarrow{}","\\xleftrightharpoons{}","\\xLeftarrow{}","\\xleftharpoonup{}","\\xleftharpoondown{}","\\xtwoheadleftarrow{}","\\xhookleftarrow{}","\\xtofrom{}","\\xleftequilibrium{}","\\xrightleftarrows{}"],xrightarrows:["\\xlongequal{}","\\xleftrightarrow{}","\\xLeftrightarrow{}","\\xleftrightharpoons{}","\\xRightarrow{}","\\xrightharpoonup{}","\\xrightharpoondown{}","\\xtwoheadrightarrow{}","\\xrightleftharpoons{}","\\xhookrightarrow{}","\\xmapsto{}","\\xrightequilibrium{}","\\xrightleftarrows{}"],A:[{latex:"\\aleph",aside:"aleph"},{latex:"\\forall",aside:"for all"}],a:[{latex:"\\aleph",aside:"aleph"},{latex:"\\forall",aside:"for all"}],b:[{latex:"\\beth",aside:"beth"}],B:[{latex:"\\beth",aside:"beth"}],c:[{latex:"\\C",aside:"set of complex numbers"}],d:[{latex:"\\daleth",aside:"daleth"}],D:[{latex:"\\daleth",aside:"daleth"}],e:[{latex:"\\exponentialE",aside:"exponential e"},{latex:"\\exists",aside:"there is"},{latex:"\\nexists",aside:"there isnât"}],g:[{latex:"\\gimel",aside:"gimel"}],G:[{latex:"\\gimel",aside:"gimel"}],h:[{latex:"\\hbar",aside:"h bar"},{latex:"\\hslash",aside:"h slash"}],i:[{latex:"\\imaginaryI",aside:"imaginary i"}],j:[{latex:"\\imaginaryJ",aside:"imaginary j"}],l:[{latex:"\\ell",aside:"ell"}],n:[{latex:"\\N",aside:"set of natural numbers"}],p:[{latex:"\\P",aside:"set of primes"}],q:[{latex:"\\Q",aside:"set of rational numbers"}],r:[{latex:"\\R",aside:"set of real numbers"}],z:[{latex:"\\Z",aside:"set of integers"}],"x-var":["y","z","t","r",{latex:"f(#?)",class:"small"},{latex:"g(#?)",class:"small"},"x^2","x^n","x_n","x_{n+1}","x_i","x_{i+1}"],"n-var":["i","j","p","k","a","u"],ii:["\\Re","\\Im","\\imaginaryJ","\\Vert #0 \\Vert"],logic:[{latex:"\\exists",aside:"there is"},{latex:"\\nexists",aside:"there isnât"},{latex:"\\ni",aside:"such that"},{latex:"\\Colon",aside:"such that"},{latex:"\\implies",aside:"implies"},{latex:"\\impliedby",aside:"implied by"},{latex:"\\iff",aside:"if and only if"},{latex:"\\land",aside:"and"},{latex:"\\lor",aside:"or"},{latex:"\\oplus",aside:"xor"},{latex:"\\lnot",aside:"not"},{latex:"\\downarrow",aside:"nor"},{latex:"\\uparrow",aside:"nand"},{latex:"\\curlywedge",aside:"nor"},{latex:"\\bar\\curlywedge",aside:"nand"},{latex:"\\therefore",aside:"therefore"},{latex:"\\because",aside:"because"},{latex:"^\\biconditional",aside:"biconditional"},"\\leftrightarrow","\\Leftrightarrow","\\to","\\models","\\vdash","\\gets","\\dashv","\\roundimplies"],"set-operators":["\\cap","\\cup","\\setminus","\\smallsetminus","\\complement"],"set-relations":["\\in","\\notin","\\ni","\\owns","\\subset","\\supset","\\subseteq","\\supseteq","\\subsetneq","\\supsetneq","\\varsubsetneq","\\subsetneqq","\\nsubset","\\nsupset","\\nsubseteq","\\nsupseteq"],space:[{latex:'\\char"203A\\!\\char"2039',insert:"\\!",aside:"negative thin space<br>â»Â³â§¸ââ em"},{latex:'\\unicode{"203A}\\,\\unicode{"2039}',insert:"\\,",aside:"thin space<br>Â³â§¸ââ em"},{latex:'\\unicode{"203A}\\:\\unicode{"2039}',insert:"\\:",aside:"medium space<br>â´â§¸ââ em"},{latex:'\\unicode{"203A}\\;\\unicode{"2039}',insert:"\\;",aside:"thick space<br>âµâ§¸ââ em"},{latex:'\\unicode{"203A}\\ \\unicode{"2039}',insert:"\\ ",aside:"â em"},{latex:'\\unicode{"203A}\\enspace\\unicode{"2039}',insert:"\\enspace",aside:"Â½ em"},{latex:'\\unicode{"203A}\\quad\\unicode{"2039}',insert:"\\quad",aside:"1 em"},{latex:'\\unicode{"203A}\\qquad\\unicode{"2039}',insert:"\\qquad",aside:"2 em"}],delete:[{label:'<span class="warning"><svg class="svg-glyph"><use xlink:href="#svg-trash" /></svg></span>',command:"deleteAll"}],"->|":[]};let kr={};const wr={math:"\n        <div class='rows'>\n            <ul>\n                <li class='keycap tex' data-alt-keys='x-var'><i>x</i></li>\n                <li class='keycap tex' data-alt-keys='n-var'><i>n</i></li>\n                <li class='separator w5'></li>\n                <row name='numpad-1'/>\n                <li class='separator w5'></li>\n                <li class='keycap tex' data-insert='$$\\exponentialE$$' data-alt-keys='ee'>e</li>\n                <li class='keycap tex' data-insert='$$\\imaginaryI$$' data-alt-keys='ii'>i</li>\n                <li class='keycap tex' data-latex='\\pi' data-alt-keys='numeric-pi'></li>\n            </ul>\n            <ul>\n                <li class='keycap tex' data-key='<' data-alt-keys='<'>&lt;</li>\n                <li class='keycap tex' data-key='>' data-alt-keys='>'>&gt;</li>\n                <li class='separator w5'></li>\n                <row name='numpad-2'/>\n                <li class='separator w5'></li>\n                <li class='keycap tex' data-insert='$$#@^{2}$$' data-latex='x^2'></li>\n                <li class='keycap tex' data-alt-keys='^' data-insert='$$#@^{#?}$$' data-latex='x^\\placeholder'></li>\n                <li class='keycap tex small' data-insert='$$\\sqrt{#0}$$' data-latex='\\sqrt{#0}'></li>\n            </ul>\n            <ul>\n                <li class='keycap tex' data-alt-keys='(' >(</li>\n                <li class='keycap tex' data-alt-keys=')' >)</li>\n                <li class='separator w5'></li>\n                <row name='numpad-3'/>\n                <li class='separator w5'></li>\n                <li class='keycap small' data-alt-keys='int' data-latex='\\int_0^\\infty'></li>\n                <li class='keycap' data-latex='\\forall' data-alt-keys='logic' ></li>\n                <li class='action font-glyph bottom right' data-alt-keys='delete' data-command='[\"performWithFeedback\",\"deleteBackward\"]'>&#x232b;</li></ul>\n            </ul>\n            <ul>\n                <li class='keycap' data-alt-keys='foreground-color' data-command='[\"applyStyle\",{\"color\":\"red\"}]'><span style='border-radius: 50%;width:22px;height:22px; border: 3px solid #cc2428; box-sizing: border-box'></span></li>\n                <li class='keycap' data-alt-keys='background-color' data-command='[\"applyStyle\",{\"backgroundColor\":\"yellow\"}]'><span style='border-radius: 50%;width:22px;height:22px; background:#fff590; box-sizing: border-box'></span></li>\n                <li class='separator w5'></li>\n                <row name='numpad-4'/>\n                <li class='separator w5'></li>\n                <arrows/>\n            </ul>\n        </div>\n    ","lower-roman":"\n        <div class='rows'>\n            <ul>\n                <row name='numpad-1' class='if-wide'/>\n                <row name='lower-1' shift-layer='upper-roman'/>\n            </ul>\n            <ul>\n                <row name='numpad-2' class='if-wide'/>\n                <row name='lower-2'  shift-layer='upper-roman''/>\n            </ul>\n            <ul>\n                <row name='numpad-3' class='if-wide'/>\n                <row name='lower-3'  shift-layer='upper-roman''/>\n            </ul>\n            <ul>\n                <row name='numpad-4' class='if-wide'/>\n                <li class='keycap' >;</li>\n                <li class='keycap' >,</li>\n                <li class='keycap w50' data-key=' ' data-alt-keys='space'>&nbsp;</li>\n                <arrows/>\n            </ul>\n        </div>","upper-roman":"\n        <div class='rows'>\n            <ul>\n                <row name='numpad-1' class='if-wide'/>\n                <row name='upper-1'  shift-layer='lower-roman'/>\n            </ul>\n            <ul>\n                <row name='numpad-2' class='if-wide'/>\n                <row name='upper-2' shift-layer='lower-roman'/>\n            </ul>\n            <ul>\n                <row name='numpad-3' class='if-wide'/>\n                <row name='upper-3' shift-layer='lower-roman'/>\n            </ul>\n            <ul>\n                <row name='numpad-4' class='if-wide'/>\n                <li class='keycap' >;</li>\n                <li class='keycap' data-alt-keys='.'>;</li>\n                <li class='keycap w50' data-key=' '>&nbsp;</li>\n                <arrows/>\n            </ul>\n        </div>",symbols:"\n        <div class='rows'>\n            <ul>\n                <row name='numpad-1' class='if-wide'/>\n                <li class='keycap tex' data-alt-keys='(' data-insert='\\lbrace '>{</li>\n                <li class='keycap tex' data-alt-keys=')' data-insert='\\rbrace '>}</li>\n                <li class='separator w5'></li>\n                <li class='keycap tex' data-alt-keys='in' data-insert='\\in '>&#x2208;</li>\n                <li class='keycap tex' data-alt-keys='!in' data-insert='\\notin '>&#x2209;</li>\n                <li class='keycap tex' data-insert='\\Re '>&#x211c;<aside>Real</aside></li>\n                <li class='keycap tex' data-insert='\\Im '>&#x2111;<aside>Imaginary</aside></li>\n                <li class='keycap w15' data-insert='\\ulcorner#0\\urcorner '><span><sup>&#x250c;</sup><span><span style='color:#ddd'>o</span><sup>&#x2510;</sup></span><aside>ceil</aside></li>\n                <li class='keycap tex' data-alt-keys='nabla' data-insert='\\nabla '>&#x2207;<aside>nabla</aside></li>\n                <li class='keycap tex' data-alt-keys='infinity' data-insert='\\infty '>&#x221e;</li>\n\n            </ul>\n            <ul>\n                <row name='numpad-2' class='if-wide'/>\n                <li class='keycap tex' data-alt-keys='(' data-insert='\\lbrack '>[</li>\n                <li class='keycap tex' data-alt-keys=')' data-insert='\\rbrack '>]</li>\n                <li class='separator w5'></li>\n                <li class='keycap tex' data-alt-keys='subset' data-insert='\\subset '>&#x2282;</li>\n                <li class='keycap tex' data-alt-keys='superset' data-insert='\\supset '>&#x2283;</li>\n                <li class='keycap tex' data-key='!' data-alt-keys='!'>!<aside>factorial</aside></li>\n                <li class='keycap' data-insert='$$^{\\prime} $$'><span><sup><span><span style='color:#ddd'>o</span>&#x2032</sup></span><aside>prime</aside></li>\n                <li class='keycap w15' data-insert='\\llcorner#0\\lrcorner '><span><sub>&#x2514;</sub><span style='color:#ddd'>o</span><sub>&#x2518;</sub></span><aside>floor</aside></li>\n                <li class='keycap tex' data-insert='\\partial '>&#x2202;<aside>partial<br>derivative</aside></li>\n                <li class='keycap tex' data-insert='\\emptyset '>&#x2205;<aside>empty set</aside></li>\n\n            </ul>\n            <ul>\n                <row name='numpad-3' class='if-wide'/>\n                <li class='keycap tex' data-alt-keys='(' data-insert='\\langle '>&#x27e8;</li>\n                <li class='keycap tex' data-alt-keys=')' data-insert='\\rangle '>&#x27e9;</li>\n                <li class='separator w5'></li>\n                <li class='keycap tex' data-alt-keys='overline' data-latex='\\overline{#?}' data-aside='overline'></li>\n                <li class='keycap tex' data-alt-keys='underline' data-latex='\\underline{#?}' data-aside='underline'></li>\n                <li class='keycap tex' data-alt-keys='accents' data-insert='\\vec{#@}' data-latex='\\vec{#?}' data-aside='vector'></li>\n                <li class='keycap tex small' data-alt-keys='xleftarrows' data-latex='\\xleftarrow{}' ></li>\n                <li class='keycap tex small' data-alt-keys='xrightarrows' data-latex='\\xrightarrow{}' ></li>\n                <li class='keycap tex' data-alt-keys='absnorm' data-insert='$$\\left| #0 \\right|$$' data-latex='\\left| #? \\right|' data-aside='abs'></li>\n\n                <li class='action font-glyph bottom right w15'\n                    data-shifted='<span class=\"warning\"><svg class=\"svg-glyph\"><use xlink:href=\"#svg-trash\" /></svg></span>'\n                    data-shifted-command='\"deleteAll\"'\n                    data-alt-keys='delete' data-command='[\"performWithFeedback\",\"deleteBackward\"]'\n                >&#x232b;</li>\n            </ul>\n            <ul>\n                <row name='numpad-4' class='if-wide'/>\n                <li class='keycap tex' data-insert=','>,</li>\n                <li class='keycap tex' data-insert='\\cdot '>&#x22c5;<aside>centered dot</aside></li>\n                <li class='keycap tex' data-insert='\\colon '>:<aside>colon</aside></li>\n                <li class='keycap tex' data-insert='\\circ '>&#x2218;<aside>circle</aside></li>\n                <li class='keycap tex' data-insert='\\approx '>&#x2248;<aside>approx.</aside></li>\n                <li class='keycap tex' data-insert='\\ne '>&#x2260;</li>\n                <li class='keycap tex' data-insert='\\pm '>&#x00b1;</li>\n                <arrows/>\n            </ul>\n        </div>","lower-greek":"\n        <div class='rows'>\n            <ul><li class='keycap tex' data-insert='\\varphi '><i>&#x03c6;</i><aside>phi var.</aside></li>\n                <li class='keycap tex' data-insert='\\varsigma '><i>&#x03c2;</i><aside>sigma var.</aside></li>\n                <li class='keycap tex' data-insert='\\epsilon '><i>&#x03f5;</i></li>\n                <li class='keycap tex' data-insert='\\rho '><i>&rho;</i></li>\n                <li class='keycap tex' data-insert='\\tau '><i>&tau;</i></li>\n                <li class='keycap tex' data-insert='\\upsilon '><i>&upsilon;</i></li>\n                <li class='keycap tex' data-insert='\\theta '><i>&theta;</i></li>\n                <li class='keycap tex' data-insert='\\iota '><i>&iota;</i></li>\n                <li class='keycap tex' data-insert='\\omicron '>&omicron;</i></li>\n                <li class='keycap tex' data-insert='\\pi '><i>&pi;</i></li>\n            </ul>\n            <ul><li class='keycap tex' data-insert='\\alpha ' data-shifted='&Alpha;' data-shifted-command='[\"insert\",\"{\\\\char\\\"391}\"]'><i>&alpha;</i></li>\n                <li class='keycap tex' data-insert='\\sigma '><i>&sigma;</i></li>\n                <li class='keycap tex' data-insert='\\delta '><i>&delta;</i></li>\n                <li class='keycap tex' data-insert='\\phi '><i>&#x03d5;</i></i></li>\n                <li class='keycap tex' data-insert='\\gamma '><i>&gamma;</i></li>\n                <li class='keycap tex' data-insert='\\eta '><i>&eta;</i></li>\n                <li class='keycap tex' data-insert='\\xi '><i>&xi;</i></li>\n                <li class='keycap tex' data-insert='\\kappa '><i>&kappa;</i></li>\n                <li class='keycap tex' data-insert='\\lambda '><i>&lambda;</i></li>\n            </ul>\n            <ul><li class='shift modifier font-glyph bottom left w15 layer-switch' data-layer='upper-greek'>&#x21e7;</li>\n                <li class='keycap tex' data-insert='\\zeta '><i>&zeta;</i></li>\n                <li class='keycap tex' data-insert='\\chi '><i>&chi;</i></li>\n                <li class='keycap tex' data-insert='\\psi '><i>&psi;</i></li>\n                <li class='keycap tex' data-insert='\\omega '><i>&omega;</i></li>\n                <li class='keycap tex' data-insert='\\beta '><i>&beta;</i></li>\n                <li class='keycap tex' data-insert='\\nu '><i>&nu;</i></li>\n                <li class='keycap tex' data-insert='\\mu '><i>&mu;</i></li>\n                <li class='action font-glyph bottom right w15'\n                    data-shifted='<span class=\"warning\"><svg class=\"svg-glyph\"><use xlink:href=\"#svg-trash\" /></svg></span>'\n                    data-shifted-command='\"deleteAll\"'\n                    data-alt-keys='delete' data-command='[\"performWithFeedback\",\"deleteBackward\"]'\n                >&#x232b;</li>\n            </ul>\n            <ul>\n                <li class='keycap ' data-key=' '>&nbsp;</li>\n                <li class='keycap'>,</li>\n                <li class='keycap tex' data-insert='\\varepsilon '><i>&#x03b5;</i><aside>epsilon var.</aside></li>\n                <li class='keycap tex' data-insert='\\vartheta '><i>&#x03d1;</i><aside>theta var.</aside></li>\n                <li class='keycap tex' data-insert='\\varkappa '><i>&#x3f0;</i><aside>kappa var.</aside></li>\n                <li class='keycap tex' data-insert='\\varpi '><i>&#x03d6;<aside>pi var.</aside></i></li>\n                <li class='keycap tex' data-insert='\\varrho '><i>&#x03f1;</i><aside>rho var.</aside></li>\n                <arrows/>\n            </ul>\n        </div>","upper-greek":"\n        <div class='rows'>\n            <ul><li class='keycap tex' data-insert='\\Phi '>&Phi;<aside>phi</aside></li>\n                <li class='keycap tex' data-insert='\\Sigma '>&Sigma;<aside>sigma</aside></li>\n                <li class='keycap tex' data-insert='{\\char\"0190}'>&#x0190;<aside>epsilon</aside></li>\n                <li class='keycap tex' data-insert='{\\char\"3A1}'>&#x3A1;<aside>rho</aside></li>\n                <li class='keycap tex' data-insert='{\\char\"3A4}'>&#x3A4;<aside>tau</aside></li>\n                <li class='keycap tex' data-insert='\\Upsilon '>&Upsilon;<aside>upsilon</aside></li>\n                <li class='keycap tex' data-insert='\\Theta '>&Theta;<aside>theta</aside></li>\n                <li class='keycap tex' data-insert='{\\char\"399}'>&Iota;<aside>iota</aside></li>\n                <li class='keycap tex' data-insert='{\\char\"39F}'>&#x039F;<aside>omicron</aside></li>\n                <li class='keycap tex' data-insert='\\Pi '>&Pi;<aside>pi</aside></li></ul>\n            <ul><li class='keycap tex' data-insert='{\\char\"391}'>&#x391;<aside>alpha</aside></li>\n                <li class='keycap tex' data-insert='\\Sigma '>&Sigma;<aside>sigma</aside></li>\n                <li class='keycap tex' data-insert='\\Delta '>&Delta;<aside>delta</aside></li>\n                <li class='keycap tex' data-insert='\\Phi '>&#x03a6;<aside>phi</aside></li>\n                <li class='keycap tex' data-insert='\\Gamma '>&Gamma;<aside>gamma</aside></li>\n                <li class='keycap tex' data-insert='{\\char\"397}'>&Eta;<aside>eta</aside></li>\n                <li class='keycap tex' data-insert='\\Xi '>&Xi;<aside>xi</aside></li>\n                <li class='keycap tex' data-insert='{\\char\"39A}'>&Kappa;<aside>kappa</aside></li>\n                <li class='keycap tex' data-insert='\\Lambda '>&Lambda;<aside>lambda</aside></li></ul>\n            <ul><li class='shift modifier font-glyph bottom left selected w15 layer-switch' data-layer='lower-greek'>&#x21e7;</li>\n                <li class='keycap tex' data-insert='{\\char\"396}'>&Zeta;<aside>zeta</aside></li>\n                <li class='keycap tex' data-insert='{\\char\"3A7}'>&Chi;<aside>chi</aside></li>\n                <li class='keycap tex' data-insert='\\Psi '>&Psi;<aside>psi</aside></li>\n                <li class='keycap tex' data-insert='\\Omega '>&Omega;<aside>omega</aside></li>\n                <li class='keycap tex' data-insert='{\\char\"392}'>&Beta;<aside>beta</aside></li>\n                <li class='keycap tex' data-insert='{\\char\"39D}'>&Nu;<aside>nu</aside></li>\n                <li class='keycap tex' data-insert='{\\char\"39C}'>&Mu;<aside>mu</aside></li>\n                <li class='action font-glyph bottom right w15' data-command='[\"performWithFeedback\",\"deleteBackward\"]'>&#x232b;</li></ul>\n            <ul>\n                <li class='separator w10'>&nbsp;</li>\n                <li class='keycap'>.</li>\n                <li class='keycap w50' data-key=' '>&nbsp;</li>\n                <arrows/>\n            </ul>\n        </div>","latex-lower":"\n        <div class='rows'>\n            <ul><row name='lower-1' class='tt' shift-layer='latex-upper'/></ul>\n            <ul><row name='lower-2' class='tt' shift-layer='latex-upper'/></ul>\n            <ul><row name='lower-3' class='tt' shift-layer='latex-upper'/></ul>\n            <ul>\n                <li class='layer-switch font-glyph modifier bottom left' data-layer='latex-symbols'>01#</li>\n                <li class='keycap tt' data-shifted='[' data-shifted-command='[\"insertAndUnshiftKeyboardLayer\", \"[\"]'>{</li>\n                <li class='keycap tt' data-shifted=']' data-shifted-command='[\"insertAndUnshiftKeyboardLayer\", \"]\"]'>}</li>\n                <li class='keycap tt' data-shifted='(' data-shifted-command='[\"insertAndUnshiftKeyboardLayer\", \"(\"]'>^</li>\n                <li class='keycap tt' data-shifted=')' data-shifted-command='[\"insertAndUnshiftKeyboardLayer\", \")\"]'>_</li>\n                <li class='keycap w20' data-key=' '>&nbsp;</li>\n                <arrows/>\n            </ul>\n        </div>","latex-upper":"\n        <div class='rows'>\n            <ul><row name='upper-1' class='tt' shift-layer='latex-lower'/></ul>\n            <ul><row name='upper-2' class='tt' shift-layer='latex-lower'/></ul>\n            <ul><row name='upper-3' class='tt' shift-layer='latex-lower'/></ul>\n            <ul>\n                <li class='layer-switch font-glyph modifier bottom left' data-layer='latex-symbols'01#</li>\n                <li class='keycap tt'>[</li>\n                <li class='keycap tt'>]</li>\n                <li class='keycap tt'>(</li>\n                <li class='keycap tt'>)</li>\n                <li class='keycap w20' data-key=' '>&nbsp;</li>\n                <arrows/>\n            </ul>\n        </div>","latex-symbols":"\n        <div class='rows'>\n            <ul><li class='keycap tt'>1</li><li class='keycap tt'>2</li><li class='keycap tt'>3</li><li class='keycap tt'>4</li><li class='keycap tt'>5</li><li class='keycap tt'>6</li><li class='keycap tt'>7</li><li class='keycap tt'>8</li><li class='keycap tt'>9</li><li class='keycap tt'>0</li></ul>\n            <ul><li class='keycap tt'>!</li><li class='keycap tt'>@</li><li class='keycap tt'>#</li><li class='keycap tt'>$</li><li class='keycap tt'>%</li><li class='keycap tt'>^</li><li class='keycap tt'>&</li><li class='keycap tt'>*</li><li class='keycap tt'>+</li><li class='keycap tt'>=</li></ul>\n            <ul>\n                <li class='keycap tt'>\\</li>\n                <li class='keycap tt'>|</li>\n                <li class='keycap tt'>/</li>\n                <li class='keycap tt'>`</li>\n                <li class='keycap tt'>;</li>\n                <li class='keycap tt'>:</li>\n                <li class='keycap tt'>?</li>\n                <li class='keycap tt'>'</li>\n                <li class='keycap tt'>\"</li>\n                <li class='action font-glyph bottom right'\n                    data-shifted='<span class=\"warning\"><svg class=\"svg-glyph\"><use xlink:href=\"#svg-trash\" /></svg></span>'\n                    data-shifted-command='\"deleteAll\"'\n                    data-alt-keys='delete' data-command='[\"performWithFeedback\",\"deleteBackward\"]'\n                >&#x232b;</li>\n            </ul>\n            <ul>\n                <li class='layer-switch font-glyph modifier bottom left' data-layer='latex-lower'>abc</li>\n                <li class='keycap tt'>&lt;</li>\n                <li class='keycap tt'>&gt;</li>\n                <li class='keycap tt'>~</li>\n                <li class='keycap tt'>,</li>\n                <li class='keycap tt'>.</li>\n                <li class='keycap' data-key=' '>&nbsp;</li>\n                <arrows/>\n            </ul>\n        </div>",functions:"\n        <div class='rows'>\n            <ul><li class='separator'></li>\n                <li class='fnbutton' data-insert='\\sin'></li>\n                <li class='fnbutton' data-insert='\\sin^{-1}'></li>\n                <li class='fnbutton' data-insert='\\ln'></li>\n                <li class='fnbutton' data-insert='\\exponentialE^{#?}'></li>\n                <li class='bigfnbutton' data-insert='$$\\operatorname{lcm}(#?)$$' data-latex='\\operatorname{lcm}()'></li>\n                <li class='bigfnbutton' data-insert='$$\\operatorname{ceil}(#?)$$' data-latex='\\operatorname{ceil}()'></li>\n                <li class='bigfnbutton' data-insert='$$\\lim_{n\\to\\infty}$$'></li>\n                <li class='bigfnbutton' data-insert='$$\\int$$'></li>\n                <li class='bigfnbutton' data-insert='$$\\operatorname{abs}(#?)$$' data-latex='\\operatorname{abs}()'></li>\n            </ul>\n            <ul><li class='separator'></li>\n                <li class='fnbutton' data-latex='\\cos'></li>\n                <li class='fnbutton' data-latex='\\cos^{-1}'></li>\n                <li class='fnbutton' data-latex='\\ln_{10}'></li>\n                <li class='fnbutton' data-insert='$$10^{#?}$$'></li>\n                <li class='bigfnbutton' data-insert='$$\\operatorname{gcd}(#?)$$' data-latex='\\operatorname{gcd}()'></li>\n                <li class='bigfnbutton' data-insert='$$\\operatorname{floor}(#?)$$' data-latex='\\operatorname{floor}()'></li>\n                <li class='bigfnbutton' data-insert='$$\\sum_{n\\mathop=0}^{\\infty}$$'></li>\n                <li class='bigfnbutton' data-insert='$$\\int_{0}^{\\infty}$$'></li>\n                <li class='bigfnbutton' data-insert='$$\\operatorname{sign}(#?)$$' data-latex='\\operatorname{sign}()'></li>\n            </ul>\n            <ul><li class='separator'></li>\n                <li class='fnbutton' data-latex='\\tan'></li>\n                <li class='fnbutton' data-latex='\\tan^{-1}'></li>\n                <li class='fnbutton' data-insert='$$\\log_{#?}$$'></li>\n                <li class='fnbutton' data-insert='$$\\sqrt[#?]{#0}$$'></li>\n                <li class='bigfnbutton' data-insert='$$#0 \\mod$$' data-latex='\\mod'></li>\n                <li class='bigfnbutton' data-insert='$$\\operatorname{round}(#?) $$' data-latex='\\operatorname{round}()'></li>\n                <li class='bigfnbutton' data-insert='$$\\prod_{n\\mathop=0}^{\\infty}$$' data-latex='{\\scriptstyle \\prod_{n=0}^{\\infty}}'></li>\n                <li class='bigfnbutton' data-insert='$$\\frac{\\differentialD #0}{\\differentialD x}$$'></li>\n                <li class='action font-glyph bottom right' data-command='[\"performWithFeedback\",\"deleteBackward\"]'>&#x232b;</li></ul>\n            <ul><li class='separator'></li>\n                <li class='fnbutton'>(</li>\n                <li class='fnbutton'>)</li>\n                <li class='fnbutton' data-insert='$$^{#?}$$' data-latex='x^{#?}'></li>\n                <li class='fnbutton' data-insert='$$_{#?}$$' data-latex='x_{#?}'></li>\n                <li class='keycap w20 ' data-key=' '>&nbsp;</li>\n                <arrows/>\n            </ul>\n        </div>",style:"\n        <div class='rows'>\n            <ul>\n                <li class='keycap' data-alt-keys='foreground-color' data-command='[\"applyStyle\",{\"color\":\"red\"}]'><span style='border-radius: 50%;width:22px;height:22px; border: 3px solid #cc2428'></span></li>\n                <li class='keycap' data-alt-keys='background-color' data-command='[\"applyStyle\",{\"backgroundColor\":\"yellow\"}]'><span style='border-radius: 50%;width:22px;height:22px; background:#fff590'></span></li>\n                <li class='separator w5'></li>\n                <li class='keycap' data-command='[\"applyStyle\",{\"size\":\"3\"}]' data-latex='\\scriptsize\\text{small}'></li>\n                <li class='keycap' data-command='[\"applyStyle\",{\"size\":\"5\"}]' data-latex='\\scriptsize\\text{normal}'></li>\n                <li class='keycap' data-command='[\"applyStyle\",{\"size\":\"9\"}]' data-latex='\\huge\\text{big}'></li>\n                <li class='separator w5'></li>\n                <li class='keycap' data-latex='\\langle' data-command='[\"insert\", \"\\\\langle\", {\"smartFence\":true}]'></li>\n            </ul>\n            <ul>\n                <li class='keycap' data-command='[\"applyStyle\",{\"series\":\"l\"}]' data-latex='\\fontseries{l}\\text{Ab}'></li>\n                <li class='keycap' data-command='[\"applyStyle\",{\"series\":\"m\"}]' data-latex='\\fontseries{m}\\text{Ab}'></li>\n                <li class='keycap' data-command='[\"applyStyle\",{\"series\":\"b\"}]' data-latex='\\fontseries{b}\\text{Ab}'></li>\n                <li class='keycap' data-command='[\"applyStyle\",{\"series\":\"bx\"}]' data-latex='\\fontseries{bx}\\text{Ab}'></li>\n                <li class='keycap' data-command='[\"applyStyle\",{\"series\":\"sb\"}]' data-latex='\\fontseries{sb}\\text{Ab}'></li>\n                <li class='keycap' data-command='[\"applyStyle\",{\"series\":\"c\"}]' data-latex='\\fontseries{c}\\text{Ab}'></li>\n            </ul>\n            <ul>\n                <li class='keycap' data-command='[\"applyStyle\",{\"shape\":\"up\"}]' data-latex='\\textup{Ab}'></li>\n                <li class='keycap' data-command='[\"applyStyle\",{\"shape\":\"it\"}]' data-latex='\\textit{Ab}'></li>\n                <li class='keycap' data-command='[\"applyStyle\",{\"shape\":\"sl\"}]' data-latex='\\textsl{Ab}'></li>\n                <li class='keycap' data-command='[\"applyStyle\",{\"shape\":\"sc\"}]' data-latex='\\textsc{Ab}'></li>\n                <li class='separator w5'></li>\n                <li class='keycap' data-insert='$$\\emph{#?} $$' data-latex='\\text{\\emph{emph}}'></li>\n            </ul>\n            <ul>\n                <li class='keycap' data-command='[\"applyStyle\",{\"fontFamily\":\"cmr\"}]' data-latex='\\textrm{Az}'></li>\n                <li class='keycap' data-command='[\"applyStyle\",{\"fontFamily\":\"cmtt\"}]' data-latex='\\texttt{Az}'></li>\n                <li class='keycap' data-command='[\"applyStyle\",{\"fontFamily\":\"cmss\"}]' data-latex='\\textsf{Az}'></li>\n\n                <li class='keycap' data-command='[\"applyStyle\",{\"fontFamily\":\"bb\"}]'  data-latex='\\mathbb{AZ}'></li>\n                <li class='keycap' data-command='[\"applyStyle\",{\"fontFamily\":\"scr\"}]'  data-latex='\\mathscr{AZ}'></li>\n                <li class='keycap' data-command='[\"applyStyle\",{\"fontFamily\":\"cal\"}]' data-latex='\\mathcal{A1}'></li>\n                <li class='keycap' data-command='[\"applyStyle\",{\"fontFamily\":\"frak\"}]' data-latex='\\mathfrak{Az}'></li>\n            </ul>\n        </div>"};function Sr(e,t){e=e.replace(/(^|[^\\])#@/g,"$1#?");const n=new ot("root",{mode:"math"});return n.body=$i(Nt(e,{parseMode:"math",args:t,macros:Je(),registers:Fi()})),ue(ae(ce(new re(n.render(new G({macros:Je(),registers:Fi(),smartFence:!1},{fontSize:5},"displaystyle")),{classes:"ML__base"}))),{classes:"ML__mathlive"}).toMarkup()}function Mr(e,t,n){var i,r,o;let a="<div class='left'>";const s=t.replace(/\s+/g," ").split(" ");if(s.length>1){const t={...br,...null!==(i=e.customVirtualKeyboards)&&void 0!==i?i:{}};for(const e of s){if(!t[e])break;a+="<div class='",e===n?a+="selected ":t[e].command?a+="action ":a+="layer-switch ",a+=(null!==(r=t[e].classes)&&void 0!==r?r:"")+"'",t[e].tooltip&&(a+="data-ML__tooltip='"+(null!==(o=di(t[e].tooltip))&&void 0!==o?o:t[e].tooltip)+"' ",a+="data-placement='top' data-delay='1s'"),e!==n&&("string"==typeof t[e].command?a+=`data-command='"${t[e].command}"'`:Array.isArray(t[e].command)&&(a+=`data-command='"${t[e].command.join("")}"'`),t[e].layer&&(a+="data-layer='"+t[e].layer+"'")),a+=">"+t[e].label+"</div>"}}a+="</div>";const l="default"===e.virtualKeyboardToolbar?["copyToClipboard","undo","redo"]:[],c={copyToClipboard:`\n            <div class='action'\n                data-command='"copyToClipboard"'\n                data-ML__tooltip='${di("tooltip.copy to clipboard")}' data-placement='top' data-delay='1s'>\n                <svg><use xlink:href='#svg-copy' /></svg>\n            </div>\n        `,undo:`\n            <div class='action disabled'\n                data-command='"undo"'\n                data-ML__tooltip='${di("tooltip.undo")}' data-placement='top' data-delay='1s'>\n                <svg><use xlink:href='#svg-undo' /></svg>\n            </div>\n        `,redo:`\n            <div class='action disabled'\n                data-command='"redo"'\n                data-ML__tooltip='${di("tooltip.redo")}' data-placement='top' data-delay='1s'>\n                <svg><use xlink:href='#svg-redo' /></svg>\n            </div>\n        `};return l.length>0&&(a+=`\n            <div class='right'>\n                ${l.map(e=>c[e]).join("")}\n            </div>\n        `),"<div class='keyboard-toolbar' role='toolbar'>"+a+"</div>"}function Cr(e,t,n){var i,r;for(const o of t){let t;o.getAttribute("data-latex")?t=Sr(o.getAttribute("data-latex").replace(/&quot;/g,'"'),()=>"\\placeholder{}"):o.getAttribute("data-insert")&&""===o.innerHTML?t=Sr(o.getAttribute("data-insert").replace(/&quot;/g,'"'),()=>"\\placeholder{}"):o.getAttribute("data-content")&&(t=o.getAttribute("data-content").replace(/&quot;/g,'"')),o.getAttribute("data-aside")&&(t=(null!=t?t:"")+"<aside>"+o.getAttribute("data-aside").replace(/&quot;/g,'"')+"</aside>"),void 0!==t&&(o.innerHTML=e.options.createHTML(t)),o.getAttribute("data-classes")&&o.classList.add(o.getAttribute("data-classes"));const a=null===(i=o.getAttribute("data-insert"))||void 0===i?void 0:i.replace(/&quot;/g,'"');let s;a&&_r[a]&&(o.dataset.shifted=_r[a][0],o.dataset.shiftedCommand=JSON.stringify(["insertAndUnshiftKeyboardLayer",_r[a][1]])),s=o.getAttribute("data-command")?JSON.parse(o.getAttribute("data-command")):o.getAttribute("data-insert")?["insert",o.getAttribute("data-insert"),{focus:!0,feedback:!0,mode:"math",format:"latex",resetStyle:!0}]:o.getAttribute("data-latex")?["insert",o.getAttribute("data-latex"),{focus:!0,feedback:!0,mode:"math",format:"latex",resetStyle:!0}]:["typedText",null!==(r=o.getAttribute("data-key"))&&void 0!==r?r:o.textContent,{focus:!0,feedback:!0,simulateKeystroke:!0}],n&&(s=[n,s]);let l=s;const c=o.getAttribute("data-alt-keys");c&&kr[c]&&(l={default:s,pressAndHoldStart:["showAlternateKeys",c],pressAndHoldEnd:"hideAlternateKeys"}),Si(t=>e.executeCommand(t),o,l)}}function Lr(e,t){var n,i,r;const o={qwerty:{"lower-1":"qwertyuiop","lower-2":" asdfghjkl ","lower-3":"^zxcvbnm~","upper-1":"QWERTYUIOP","upper-2":" ASDFGHJKL ","upper-3":"^ZXCVBNM~","numpad-1":"789/","numpad-2":"456*","numpad-3":"123-","numpad-4":"0.=+"},azerty:{"lower-1":"azertyuiop","lower-2":"qsdfghjklm","lower-3":"^ wxcvbn ~","upper-1":"AZERTYUIOP","upper-2":"QSDFGHJKLM","upper-3":"^ WXCVBN ~"},qwertz:{"lower-1":"qwertzuiop","lower-2":" asdfghjkl ","lower-3":"^yxcvbnm~","upper-1":"QWERTZUIOP","upper-2":" ASDFGHJKL","upper-3":"^YXCVBNM~"},dvorak:{"lower-1":"^  pyfgcrl ","lower-2":"aoeuidhtns","lower-3":"qjkxbmwvz~","upper-1":"^  PYFGCRL ","upper-2":"AOEUIDHTNS","upper-3":"QJKXBMWVZ~"},colemak:{"lower-1":" qwfpgjluy ","lower-2":"arstdhneio","lower-3":"^zxcvbkm~","upper-1":" QWFPGNLUY ","upper-2":"ARSTDHNEIO","upper-3":"^ZXCVBKM~"}};let a=e.virtualKeyboardLayout;if("auto"===a){const e=Nn();e&&(a=e.virtualLayout),a&&"auto"!==a||(a=null!==(n={fr:"azerty",be:"azerty",al:"qwertz",ba:"qwertz",cz:"qwertz",de:"qwertz",hu:"qwertz",sk:"qwertz",ch:"qwertz"}[ui.locale.slice(0,2)])&&void 0!==n?n:"qwerty")}const s=null!==(i=o[a])&&void 0!==i?i:o.qwerty;let l,c=t;c=c.replace(/<arrows\/>/g,'\n        <li class=\'action\' data-command=\'["performWithFeedback","moveToPreviousChar"]\'\n            data-shifted=\'<svg class="svg-glyph"><use xlink:href="#svg-angle-double-left" /></svg>\'\n            data-shifted-command=\'["performWithFeedback","extendToPreviousChar"]\'>\n            <svg class="svg-glyph"><use xlink:href=\'#svg-arrow-left\' /></svg>\n        </li>\n        <li class=\'action\' data-command=\'["performWithFeedback","moveToNextChar"]\'\n            data-shifted=\'<svg class="svg-glyph"><use xlink:href="#svg-angle-double-right" /></svg>\'\n            data-shifted-command=\'["performWithFeedback","extendToNextChar"]\'>\n            <svg class="svg-glyph"><use xlink:href=\'#svg-arrow-right\' /></svg>\n        </li>\n        <li class=\'action\' data-command=\'["performWithFeedback","moveToNextPlaceholder"]\'>\n        <svg class="svg-glyph"><use xlink:href=\'#svg-tab\' /></svg></li>');let u=c.match(/(<row\s+)(.*)((?:<\/row|\/)>)/);for(;u;){l="";const e=u[2].match(/[a-zA-Z][a-zA-Z\d-]*=(['"])(.*?)\1/g),t={};if(e)for(const i of e){const e=i.match(/([a-zA-Z][a-zA-Z\d-]*)=(['"])(.*?)\2/);e&&(t[e[1]]=e[3])}let n=s[t.name];if(n||(n=o.qwerty[t.name]),n)for(const i of n){let e=null!==(r=t.class)&&void 0!==r?r:"";e&&(e=" "+e),"~"===i?(l+="<li class='action font-glyph bottom right ",l+=n.length-(n.match(/ /g)||[]).length/2==10?"w10":"w15",l+='\' data-shifted=\'<span class="warning"><svg class="svg-glyph"><use xlink:href="#svg-trash" /></svg></span>\'\n                        data-shifted-command=\'"deleteAll"\'\n                        data-alt-keys=\'delete\' data-command=\'["performWithFeedback","deleteBackward"]\'\n                        >&#x232b;</li>'):" "===i?l+="<li class='separator w5'></li>":"^"===i?l+="<li class='shift modifier font-glyph bottom left w15 layer-switch' data-layer='"+t["shift-layer"]+"'>&#x21e7;</li>":"/"===i?l+="<li class='keycap"+e+"' data-alt-keys='/' data-insert='\\frac{#@}{#?}'>&divide;</li>":"*"===i?l+="<li class='keycap"+e+"' data-alt-keys='*' data-insert='\\times '>&times;</li>":"-"===i?l+="<li class='keycap"+e+"' data-alt-keys='-' data-key='-' data-alt-keys='-'>&#x2212;</li>":e.includes("tt")?l+=`<li class='keycap${e}' data-alt-keys='${i}' data-command='["typedText","${i}",{"mode":"command", "focus":true, "feedback":true}]'>${i}</li>`:l+="<li class='keycap"+e+"' data-alt-keys='"+i+"'>"+i+"</li>"}c=c.replace(new RegExp(u[1]+u[2]+u[3]),l),u=c.match(/(<row\s+)(.*)((?:<\/row|\/)>)/)}return c}function Or(e){yr();const t=e.element.querySelectorAll("div.keyboard-layer.is-visible .rows .keycap, div.keyboard-layer.is-visible .rows .action");if(t)for(const n of t){const t=n.getAttribute("data-unshifted-content");t&&(n.innerHTML=e.options.createHTML(t));const i=n.getAttribute("data-unshifted-command");i&&(n.dataset.command=i)}return!1}function Ar(e,t){if("off"!==e.options.virtualKeyboardMode){"lower-command"!==t&&"upper-command"!==t&&"symbols-command"!==t&&e.executeCommand("complete"),Er(e),yr(),Or(e);const n=null==e?void 0:e.element.querySelectorAll(".keyboard-layer");let i=!1;for(const e of n)if(e.dataset.layer===t){i=!0;break}if(i)for(const e of n)e.dataset.layer===t?e.classList.add("is-visible"):e.classList.remove("is-visible");e.focusMathfield()}return!0}function Er(e,t=""){return e.visible=!1,Tr(e,t),!1}function Tr(e,t){return!!e.options.virtualKeyboardContainer&&(e.visible=!e.visible,e.visible?(e.focusMathfield(),e.element?e.element.classList.add("is-visible"):(e.element=function(e,t){var n,i,r,o;Me();let l='<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">\n\n            <symbol id="svg-command" viewBox="0 0 640 512">\n                <path d="M34.495 36.465l211.051 211.05c4.686 4.686 4.686 12.284 0 16.971L34.495 475.535c-4.686 4.686-12.284 4.686-16.97 0l-7.071-7.07c-4.686-4.686-4.686-12.284 0-16.971L205.947 256 10.454 60.506c-4.686-4.686-4.686-12.284 0-16.971l7.071-7.07c4.686-4.687 12.284-4.687 16.97 0zM640 468v-10c0-6.627-5.373-12-12-12H300c-6.627 0-12 5.373-12 12v10c0 6.627 5.373 12 12 12h328c6.627 0 12-5.373 12-12z"/>\n            </symbol>\n\n            <symbol id="svg-undo" viewBox="0 0 512 512">\n                <path d="M20 8h10c6.627 0 12 5.373 12 12v110.625C85.196 57.047 165.239 7.715 256.793 8.001 393.18 8.428 504.213 120.009 504 256.396 503.786 393.181 392.834 504 256 504c-63.926 0-122.202-24.187-166.178-63.908-5.113-4.618-5.354-12.561-.482-17.433l7.069-7.069c4.503-4.503 11.749-4.714 16.482-.454C150.782 449.238 200.935 470 256 470c117.744 0 214-95.331 214-214 0-117.744-95.331-214-214-214-82.862 0-154.737 47.077-190.289 116H180c6.627 0 12 5.373 12 12v10c0 6.627-5.373 12-12 12H20c-6.627 0-12-5.373-12-12V20c0-6.627 5.373-12 12-12z"/>\n            </symbol>\n            <symbol id="svg-redo" viewBox="0 0 512 512">\n                <path d="M492 8h-10c-6.627 0-12 5.373-12 12v110.625C426.804 57.047 346.761 7.715 255.207 8.001 118.82 8.428 7.787 120.009 8 256.396 8.214 393.181 119.166 504 256 504c63.926 0 122.202-24.187 166.178-63.908 5.113-4.618 5.354-12.561.482-17.433l-7.069-7.069c-4.503-4.503-11.749-4.714-16.482-.454C361.218 449.238 311.065 470 256 470c-117.744 0-214-95.331-214-214 0-117.744 95.331-214 214-214 82.862 0 154.737 47.077 190.289 116H332c-6.627 0-12 5.373-12 12v10c0 6.627 5.373 12 12 12h160c6.627 0 12-5.373 12-12V20c0-6.627-5.373-12-12-12z"/>\n            </symbol>\n            <symbol id="svg-arrow-left" viewBox="0 0 192 512">\n                <path d="M25.1 247.5l117.8-116c4.7-4.7 12.3-4.7 17 0l7.1 7.1c4.7 4.7 4.7 12.3 0 17L64.7 256l102.2 100.4c4.7 4.7 4.7 12.3 0 17l-7.1 7.1c-4.7 4.7-12.3 4.7-17 0L25 264.5c-4.6-4.7-4.6-12.3.1-17z"/>\n            </symbol>\n            <symbol id="svg-arrow-right" viewBox="0 0 192 512">\n                    <path d="M166.9 264.5l-117.8 116c-4.7 4.7-12.3 4.7-17 0l-7.1-7.1c-4.7-4.7-4.7-12.3 0-17L127.3 256 25.1 155.6c-4.7-4.7-4.7-12.3 0-17l7.1-7.1c4.7-4.7 12.3-4.7 17 0l117.8 116c4.6 4.7 4.6 12.3-.1 17z"/>\n            </symbol>\n            <symbol id="svg-tab" viewBox="0 0 448 512">\n                    <path d="M32 217.1c0-8.8 7.2-16 16-16h144v-93.9c0-7.1 8.6-10.7 13.6-5.7l143.5 143.1c6.3 6.3 6.3 16.4 0 22.7L205.6 410.4c-5 5-13.6 1.5-13.6-5.7v-93.9H48c-8.8 0-16-7.2-16-16v-77.7m-32 0v77.7c0 26.5 21.5 48 48 48h112v61.9c0 35.5 43 53.5 68.2 28.3l143.6-143c18.8-18.8 18.8-49.2 0-68L228.2 78.9c-25.1-25.1-68.2-7.3-68.2 28.3v61.9H48c-26.5 0-48 21.6-48 48zM436 64h-8c-6.6 0-12 5.4-12 12v360c0 6.6 5.4 12 12 12h8c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12z"/>\n            </symbol>\n            <symbol id="svg-copy" viewBox="0 0 448 512">\n                <path d="M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM352 32.491a15.88 15.88 0 0 1 7.431 4.195l51.882 51.883A15.885 15.885 0 0 1 415.508 96H352V32.491zM288 464c0 8.822-7.178 16-16 16H48c-8.822 0-16-7.178-16-16V144c0-8.822 7.178-16 16-16h80v240c0 26.51 21.49 48 48 48h112v48zm128-96c0 8.822-7.178 16-16 16H176c-8.822 0-16-7.178-16-16V48c0-8.822 7.178-16 16-16h144v72c0 13.2 10.8 24 24 24h72v240z"/>\n            </symbol>\n            <symbol id="svg-angle-double-right" viewBox="0 0 320 512">\n                <path d="M166.9 264.5l-117.8 116c-4.7 4.7-12.3 4.7-17 0l-7.1-7.1c-4.7-4.7-4.7-12.3 0-17L127.3 256 25.1 155.6c-4.7-4.7-4.7-12.3 0-17l7.1-7.1c4.7-4.7 12.3-4.7 17 0l117.8 116c4.6 4.7 4.6 12.3-.1 17zm128-17l-117.8-116c-4.7-4.7-12.3-4.7-17 0l-7.1 7.1c-4.7 4.7-4.7 12.3 0 17L255.3 256 153.1 356.4c-4.7 4.7-4.7 12.3 0 17l7.1 7.1c4.7 4.7 12.3 4.7 17 0l117.8-116c4.6-4.7 4.6-12.3-.1-17z"/>\n            </symbol>\n            <symbol id="svg-angle-double-left" viewBox="0 0 320 512">\n                <path d="M153.1 247.5l117.8-116c4.7-4.7 12.3-4.7 17 0l7.1 7.1c4.7 4.7 4.7 12.3 0 17L192.7 256l102.2 100.4c4.7 4.7 4.7 12.3 0 17l-7.1 7.1c-4.7 4.7-12.3 4.7-17 0L153 264.5c-4.6-4.7-4.6-12.3.1-17zm-128 17l117.8 116c4.7 4.7 12.3 4.7 17 0l7.1-7.1c4.7-4.7 4.7-12.3 0-17L64.7 256l102.2-100.4c4.7-4.7 4.7-12.3 0-17l-7.1-7.1c-4.7-4.7-12.3-4.7-17 0L25 247.5c-4.6 4.7-4.6 12.3.1 17z"/>\n            </symbol>\n            <symbol id="svg-trash" viewBox="0 0 448 512">\n                <path d="M336 64l-33.6-44.8C293.3 7.1 279.1 0 264 0h-80c-15.1 0-29.3 7.1-38.4 19.2L112 64H24C10.7 64 0 74.7 0 88v2c0 3.3 2.7 6 6 6h26v368c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V96h26c3.3 0 6-2.7 6-6v-2c0-13.3-10.7-24-24-24h-88zM184 32h80c5 0 9.8 2.4 12.8 6.4L296 64H152l19.2-25.6c3-4 7.8-6.4 12.8-6.4zm200 432c0 8.8-7.2 16-16 16H80c-8.8 0-16-7.2-16-16V96h320v368zm-176-44V156c0-6.6 5.4-12 12-12h8c6.6 0 12 5.4 12 12v264c0 6.6-5.4 12-12 12h-8c-6.6 0-12-5.4-12-12zm-80 0V156c0-6.6 5.4-12 12-12h8c6.6 0 12 5.4 12 12v264c0 6.6-5.4 12-12 12h-8c-6.6 0-12-5.4-12-12zm160 0V156c0-6.6 5.4-12 12-12h8c6.6 0 12 5.4 12 12v264c0 6.6-5.4 12-12 12h-8c-6.6 0-12-5.4-12-12z"/>\n            </symbol>\n        </svg>\n        ';e.create(),xr["foreground-color"]=[];for(const a of Object.keys(s))xr["foreground-color"].push({class:"small-button",content:'<span style="border-radius:50%;width:32px;height:32px; box-sizing: border-box; border: 3px solid '+s[a]+'"></span>',command:["applyStyle",{color:a}]});xr["background-color"]=[];for(const s of Object.keys(a))xr["background-color"].push({class:"small-button",content:'<span style="border-radius:50%;width:32px;height:32px; background:'+a[s]+'"></span>',command:["applyStyle",{backgroundColor:s}]});kr={...xr};for(const a of Object.keys(kr))kr[a]=kr[a].slice();for(let a=0;a<26;a++){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZ"[a];kr[e]||(kr[e]=[]),kr[e].unshift({latex:"\\mathbb{"+e+"}",aside:"blackboard",insert:"\\mathbb{"+e+"}"}),kr[e].unshift({latex:"\\mathbf{"+e+"}",aside:"bold",insert:"\\mathbf{"+e+"}"}),kr[e].unshift({latex:"\\mathsf{"+e+"}",aside:"sans",insert:"\\mathsf{"+e+"}"}),kr[e].unshift({latex:"\\mathtt{"+e+"}",aside:"monospace",insert:"\\mathtt{"+e+"}"}),kr[e].unshift({latex:"\\mathcal{"+e+"}",aside:"calligraphy",insert:"\\mathcal{"+e+"}"}),kr[e].unshift({latex:"\\mathfrak{"+e+"}",aside:"fraktur",insert:"\\mathfrak{"+e+"}"})}for(let a=0;a<=26;a++){const e="abcdefghijklmnopqrstuvwxyz"[a];kr[e]||(kr[e]=[]),kr[e].unshift({latex:"\\mathsf{"+e+"}",aside:"sans",insert:"\\mathsf{"+e+"}"}),kr[e].unshift({latex:"\\mathbf{"+e+"}",aside:"bold",insert:"\\mathbf{"+e+"}"}),kr[e].unshift({latex:"\\mathtt{"+e+"}",aside:"monospace",insert:"\\mathtt{"+e+"}"}),kr[e].unshift({latex:"\\mathfrak{"+e+"}",aside:"fraktur",insert:"\\mathfrak{"+e+"}"})}for(let a=0;a<10;a++){const e="0123456789"[a];kr[e]||(kr[e]=[]),kr[e].unshift({latex:"\\mathbf{"+e+"}",aside:"bold",insert:"\\mathbf{"+e+"}"}),kr[e].unshift({latex:"\\mathsf{"+e+"}",aside:"sans",insert:"\\mathsf{"+e+"}"}),kr[e].unshift({latex:"\\mathtt{"+e+"}",aside:"monospace",insert:"\\mathtt{"+e+"}"}),kr[e].unshift({latex:"\\mathcal{"+e+"}",aside:"script",insert:"\\mathcal{"+e+"}"}),kr[e].unshift({latex:"\\mathfrak{"+e+"}",aside:"fraktur",insert:"\\mathfrak{"+e+"}"})}let c=e.options.virtualKeyboards;c||(c="all"),c=c.replace(/\ball\b/i,"numeric functions symbols roman  greek");const u={...wr,...null!==(n=e.options.customVirtualKeyboardLayers)&&void 0!==n?n:{}},d={...br,...null!==(i=e.options.customVirtualKeyboards)&&void 0!==i?i:{}},h=c.replace(/\s+/g," ").split(" ");for(const a of h){if(!d[a])continue;let t=null!==(r=d[a].layers)&&void 0!==r?r:[];d[a].layer&&t.push(d[a].layer),t=[...new Set(t)];for(const n of t){if(!u[n])break;if("object"==typeof u[n]){const e=u[n];let t="";if(e.styles&&(t+=`<style>${e.styles}</style>`),e.backdrop&&(t+=`<div class='${e.backdrop}'>`),e.container&&(t+=`<div class='${e.container}'>`),e.rows){t+="<div class='rows'>";for(const n of e.rows){t+="<ul>";for(const e of n){if(t+="<li",e.class&&/separator/.test(e.class)?t+=` class="${e.class}"`:e.class?t+=` class="keycap ${e.class}"`:t+=' class="keycap"',e.key&&(t+=` data-key="${e.key}"`),e.command&&("string"==typeof e.command?t+=` data-command='"${e.command}"'`:(t+=" data-command='",t+=JSON.stringify(e.command),t+="'")),e.insert&&(t+=` data-insert="${e.insert}"`),e.latex&&(t+=` data-latex="${e.latex}"`),e.aside&&(t+=` data-aside="${e.aside}"`),e.variants){const n=Date.now().toString(36).slice(-2)+Math.floor(1e5*Math.random()).toString(36);kr[n]=e.variants,t+=` data-alt-keys="${n}"`}e.shifted&&(t+=` data-shifted="${e.shifted}"`),e.shiftedCommand&&(t+=` data-shifted-command="${e.shiftedCommand}"`),t+=`>${e.label?e.label:""}</li>`}t+="</ul>"}t+="</div>"}e.container&&(t+="</div>"),e.backdrop&&(t+="</div>"),u[n]=t}l+=`<div tabindex="-1" class='keyboard-layer' data-layer='${n}'>`,l+=Mr(e.options,c,a);const t=u[n];l+=Lr(e.options,t),l+="</div>"}}const p=document.createElement("div");p.className="ML__keyboard",t?p.classList.add(t):e.options.virtualKeyboardTheme&&p.classList.add(e.options.virtualKeyboardTheme);const f=document.createElement("div");f.className="ML__keyboard--plate",f.innerHTML=e.options.createHTML(l),p.appendChild(f);const m=p.querySelectorAll(".keycap, .action, .fnbutton, .bigfnbutton");for(const a of m)a.id="ML__k"+Date.now().toString(36).slice(-2)+Math.floor(1e5*Math.random()).toString(36);Cr(e,[...m]);const g=p.querySelectorAll(".layer-switch");for(const a of g)a.classList.contains("shift")?Si(t=>e.executeCommand(t),a,{pressed:"shiftKeyboardLayer",default:["switchKeyboardLayer",a.getAttribute("data-layer")],pressAndHoldEnd:"unshiftKeyboardLayer"}):Si(t=>e.executeCommand(t),a,{default:["switchKeyboardLayer",a.getAttribute("data-layer")]});const y=p.querySelectorAll(".keyboard-layer");for(const a of y)a.addEventListener("mousedown",e=>{e.preventDefault(),e.stopPropagation()}),a.addEventListener("touchstart",e=>{e.preventDefault(),e.stopPropagation()},{passive:!1});return null===(o=y[0])||void 0===o||o.classList.add("is-visible"),p}(e,null!=t?t:""),hi(e.element,"touchstart:passive mousedown",()=>e.focusMathfield()),e.options.virtualKeyboardContainer.appendChild(e.element)),window.setTimeout(()=>{var t;null===(t=null==e?void 0:e.element)||void 0===t||t.classList.add("is-visible")},1)):e.element&&(e.element.dispatchEvent(new Event("virtual-keyboard-toggle",{bubbles:!0,cancelable:!1,composed:!0})),e.disable()),e.stateChanged(),!1)}function Nr(e,t,n){return t+li(n,{...e,textToSpeechMarkup:"",textToSpeechRulesOptions:{...e.textToSpeechRulesOptions,markup:"none"}})}function Dr(e,t){var n,i;if(!t&&(null===window||void 0===window?void 0:window.mathlive)&&(t=window.mathlive.config),(t=null!=t?t:{}).speechEngine&&"local"!==t.speechEngine)if("amazon"===t.speechEngine){if(window&&window.AWS){const r=new window.AWS.Polly({apiVersion:"2016-06-10"}),o={OutputFormat:"mp3",VoiceId:null!==(n=t.speechEngineVoice)&&void 0!==n?n:"Joanna",Engine:["Amy","Emma","Brian","Ivy","Joanna","Kendra","Kimberly","Salli","Joey","Justin","Matthew"].includes(null!==(i=t.speechEngineVoice)&&void 0!==i?i:"Joanna")?"neural":"standard",Text:e,TextType:"ssml"};r.synthesizeSpeech(o,(e,t)=>{if(e);else if(null==t?void 0:t.AudioStream){const e=new Uint8Array(t.AudioStream),n=new Blob([e.buffer],{type:"audio/mpeg"}),i=URL.createObjectURL(n);new Audio(i).play().catch(e=>{})}})}}else t.speechEngine;else{const t=new SpeechSynthesisUtterance(e);window&&window.speechSynthesis.speak(t)}}function Pr(e){let t;if("body"===e.treeBranch)t={enclose:"cross out",leftright:"fence",surd:"square root",root:"math field",mop:"operator"}[e.parent.type];else if("genfrac"===e.parent.type){if("above"===e.treeBranch)return"numerator";if("below"===e.treeBranch)return"denominator"}else"surd"===e.parent.type?"above"===e.treeBranch&&(t="index"):"superscript"===e.treeBranch?t="superscript":"subscript"===e.treeBranch&&(t="subscript");return null!=t?t:"parent"}function qr(e,t,n,i){var r;let o="";"plonk"===t?(null===(r=e.plonkSound)||void 0===r||r.play().catch(e=>{}),e.resetKeystrokeBuffer()):"delete"===t?o=Nr(e.options,"deleted: ",i):"focus"===t||t.includes("move")?o=function(e,t){if(Number.isNaN(t))return"";const n=e.at(t);if(!n)return"";if(n.treeDepth<=e.at(e.position).treeDepth)return"";let i="",r=n.parent;const o=e.at(e.position).parent;for(;r!==e.root&&r!==o;)i+=`out of ${Pr(r)};`,r=r.parent;return i}(e.model,n)+(e.model.selectionIsCollapsed?"":"selected: ")+function(e,t){if(!e.selectionIsCollapsed)return Nr(t,"",e.getAtoms(e.selection));let n="";const i=e.at(e.position),r=Pr(i);return i.isFirstSibling&&(n=(r?"start of "+r:"unknown")+": "),i.isLastSibling?i.isFirstSibling||(n+=r?"end of "+r:"unknown"):n+=Nr(t,"",i),n}(e.model,e.options):"replacement"===t?o=Nr(e.options,"",e.model.at(e.model.position)):"line"===t?(o=Nr(e.options,"",e.model.root),e.keyboardDelegate.setAriaLabel("after: "+o)):o=i?Nr(e.options,t+" ",i):t;const a=e.ariaLiveText.textContent.includes("Â ")?" â¯ ":" Â  ";e.ariaLiveText.textContent=o+a}function Ir(e){if(e.classList.remove("ML__highlight"),e.children)for(const t of e.children)Ir(t)}function jr(e,t){var n;t&&(null===(n=e.dataset)||void 0===n?void 0:n.atomId)!==t?(e.classList.remove("ML__highlight"),e.children&&e.children.length>0&&[...e.children].forEach(e=>{e instanceof HTMLElement&&jr(e,t)})):(e.classList.add("ML__highlight"),e.children&&e.children.length>0&&[...e.children].forEach(e=>{e instanceof HTMLElement&&jr(e)}))}function zr(e,t,n){var i,r,o;if(!window)return;if(!n&&window.mathlive&&(n=window.mathlive.config),"amazon"!==n.speechEngine)return void(n.speakHook&&n.speakHook(t,n));if(!window.AWS)return;const a=new window.AWS.Polly({apiVersion:"2016-06-10"}),s={OutputFormat:"json",VoiceId:null!==(i=n.speechEngineVoice)&&void 0!==i?i:"Joanna",Engine:"standard",Text:t,TextType:"ssml",SpeechMarkTypes:["ssml"]};window.mathlive=null!==(r=window.mathlive)&&void 0!==r?r:{},window.mathlive.readAloudElement=e;const l=null!==(o=n.onReadAloudStatus)&&void 0!==o?o:window.mathlive.onReadAloudStatus;a.synthesizeSpeech(s,(e,t)=>{if(e)return;if(!t||!t.AudioStream)return;const n=new TextDecoder("utf-8").decode(new Uint8Array(t.AudioStream));window.mathlive.readAloudMarks=n.split("\n").map(e=>e?JSON.parse(e):{}),window.mathlive.readAloudTokens=[];for(const i of window.mathlive.readAloudMarks)i.value&&window.mathlive.readAloudTokens.push(i.value);window.mathlive.readAloudCurrentMark="",s.OutputFormat="mp3",s.SpeechMarkTypes=[],a.synthesizeSpeech(s,(e,t)=>{if(e)return;if(!t||!t.AudioStream)return;const n=new Uint8Array(t.AudioStream),i=new Blob([n.buffer],{type:"audio/mpeg"}),r=URL.createObjectURL(i);window.mathlive.readAloudAudio?window.mathlive.readAloudAudio.pause():(window.mathlive.readAloudAudio=new Audio,window.mathlive.readAloudAudio.addEventListener("ended",()=>{const e=window.mathlive.readAloudMathField;l&&l(e,"ended"),e?(Qi(e),window.mathlive.readAloudElement=null,window.mathlive.readAloudMathField=null,window.mathlive.readAloudTokens=[],window.mathlive.readAloudMarks=[],window.mathlive.readAloudCurrentMark=""):Ir(window.mathlive.readAloudElement)}),window.mathlive.readAloudAudio.addEventListener("timeupdate",()=>{let e="";const t=1e3*window.mathlive.readAloudAudio.currentTime+100;for(const n of window.mathlive.readAloudMarks)n.time<t&&(e=n.value);window.mathlive.readAloudCurrentMark!==e&&(window.mathlive.readAloudCurrentToken=e,e&&e===window.mathlive.readAloudFinalToken?window.mathlive.readAloudAudio.pause():(window.mathlive.readAloudCurrentMark=e,jr(window.mathlive.readAloudElement,window.mathlive.readAloudCurrentMark)))})),window.mathlive.readAloudAudio.src=r,l&&l(window.mathlive.readAloudMathField,"playing"),window.mathlive.readAloudAudio.play()})})}hr({showAlternateKeys:function(e,t){var n;Me();const i=kr[t],r=document.createElement("div");r.setAttribute("aria-hidden","true"),r.className="ML__keyboard alternate-keys"+(e.element.classList.contains("material")?" material":""),r.id="mathlive-alternate-keys-panel",i.length>=14?r.style.width="236px":i.length>=7?r.style.width="286px":4===i.length||2===i.length?r.style.width="146px":1===i.length?r.style.width="86px":r.style.width="146px",r.style.height="auto";let o="";for(const l of i)o+="<li","string"==typeof l?o+=' data-latex="'+l.replace(/"/g,"&quot;")+'"':(l.latex&&(o+=' data-latex="'+l.latex.replace(/"/g,"&quot;")+'"'),l.content&&(o+=' data-content="'+l.content.replace(/"/g,"&quot;")+'"'),l.insert&&(o+=' data-insert="'+l.insert.replace(/"/g,"&quot;")+'"'),l.command&&("string"==typeof l.command?o+=` data-command="${l.command.replace(/"/g,"&quot;")}"`:o+=" data-command='"+JSON.stringify(l.command).replace(/"/g,"&quot;")+"'"),l.aside&&(o+=` data-aside="${l.aside.replace(/"/g,"&quot;")}"`),l.class&&(o+=` data-classes="${l.class}"`)),o+=">",o+="string"==typeof l?l:null!==(n=l.label)&&void 0!==n?n:"",o+="</li>";o="<ul>"+o+"</ul>",r.innerHTML=e.options.createHTML(o),Cr(e,[...r.querySelectorAll("li")],"performAlternateKeys"),null===gr&&(gr=new fr),gr.open({root:e.options.virtualKeyboardContainer,child:r});const a=null==e?void 0:e.element.querySelector('div.keyboard-layer.is-visible div.rows ul li[data-alt-keys="'+t+'"]'),s=null==a?void 0:a.getBoundingClientRect();if(s){s.top-r.clientHeight<0&&(r.style.width="auto",i.length<=6?r.style.height="56px":i.length<=12?r.style.height="108px":i.length<=18?r.style.height="205px":r.classList.add("compact"));const e=(s.top-r.clientHeight+5).toString()+"px",t=Math.max(0,Math.min(window.innerWidth-r.offsetWidth,(s.left+s.right-r.offsetWidth)/2))+"px";r.style.transform="translate("+t+","+e+")",r.classList.add("is-visible")}return!1}},{target:"virtual-keyboard"}),hr({shiftKeyboardLayer:function(e){const t=null==e?void 0:e.element.querySelectorAll("div.keyboard-layer.is-visible .rows .keycap, div.keyboard-layer.is-visible .rows .action");if(t)for(const n of t){let t=n.getAttribute("data-shifted");if(t||/^[a-z]$/.test(n.innerHTML)){n.dataset.unshiftedContent=n.innerHTML,t||(t=n.innerHTML.toUpperCase()),n.innerHTML=e.options.createHTML(t);const r=n.getAttribute("data-command");if(r){n.dataset.unshiftedCommand=r;const e=n.getAttribute("data-shifted-command");if(e)n.dataset.command=e;else{const e=JSON.parse(r);i(e)&&(e[1]=e[1].toUpperCase()),n.dataset.command=JSON.stringify(e)}}}}return!1}},{target:"virtual-keyboard"}),hr({hideAlternateKeys:()=>yr(),performAlternateKeys:function(e,t){return yr(),e.executeCommand(t)},switchKeyboardLayer:(e,t)=>Ar(e,t),unshiftKeyboardLayer:e=>Or(e),insertAndUnshiftKeyboardLayer:function(e,t){return e.executeCommand(["insert",t]),Or(e),!0}},{target:"virtual-keyboard"}),hr({toggleVirtualKeyboardAlt:function(e){let t=!1;return(null==e?void 0:e.element)&&(t=null==e?void 0:e.element.classList.contains("material"),e.disable()),Er(e,t?"":"material"),!1},toggleVirtualKeyboardShift:function(e){var t,n;e.options.virtualKeyboardLayout={qwerty:"azerty",azerty:"qwertz",qwertz:"dvorak",dvorak:"colemak",colemak:"qwerty"}[e.options.virtualKeyboardLayout];const i=null!==(n=null===(t=null==e?void 0:e.element.querySelector("div.keyboard-layer.is-visible"))||void 0===t?void 0:t.id)&&void 0!==n?n:"";return e&&e.disable(),Er(e),i&&Ar(e,i),!1}},{target:"virtual-keyboard"}),hr({toggleVirtualKeyboard:(e,t)=>Tr(e,t),hideVirtualKeyboard:e=>function(e){return e.visible=!0,Tr(e),!1}(e),showVirtualKeyboard:(e,t)=>Er(e,t),onUndoStateChanged:(e,t,n)=>function(e,t,n){var i;const r=null===(i=e.element)||void 0===i?void 0:i.querySelector(".keyboard-toolbar");if(!r)return!1;const o=r.querySelector("[data-command='\"undo\"']"),a=r.querySelector("[data-command='\"redo\"']");return a&&(n?a.classList.remove("disabled"):a.classList.add("disabled")),o&&(t?o.classList.remove("disabled"):o.classList.add("disabled")),!1}(e,t,n)},{target:"virtual-keyboard"}),hr({speak:(e,t,n)=>function(e,t,n){var i,r;n=null!=n?n:{withHighlighting:!1};const{model:o}=e,a=function(e){let t=null;switch(e){case"all":t=o.root;break;case"selection":t=o.getAtoms(o.selection);break;case"left":t=o.getAtoms(o.offsetOf(o.at(o.position).leftSibling),o.position);break;case"right":t=o.getAtoms(o.position,o.offsetOf(o.at(o.position).rightSibling));break;case"group":t=o.getAtoms(o.getSiblingsRange(o.position));break;case"parent":{const{parent:e}=o.at(o.position);t=e&&"root"!==e.type?e:o.root;break}default:t=o.root}return t}(t);if(null===a)return null===(r=(i=e.options).speakHook)||void 0===r||r.call(i,function(e){let t="";switch(e){case"all":break;case"selection":t="no selection";break;case"left":t="at start";break;case"right":t="at end";break;case"group":break;case"parent":t="no parent"}return t}(t),e.options),!1;const s={...e.options};(n.withHighlighting||"amazon"===s.speechEngine)&&(s.textToSpeechMarkup=window.sre&&"sre"===s.textToSpeechRules?"ssml_step":"ssml");const l=li(a,s);return n.withHighlighting?(window.mathlive.readAloudMathField=e,Qi(e,{forHighlighting:!0}),e.options.readAloudHook&&e.options.readAloudHook(e.field,l,e.options)):e.options.speakHook&&e.options.speakHook(l,s),!1}(e,t,n)},{target:"mathfield",category:"speech"});const Rr=()=>{};function Fr(e,t){if(null==t||"none"===t||"null"===t)return null;if(t instanceof HTMLAudioElement)return t.load(),t;if(0===(t=t.trim()).length)return null;const n=sn((void 0===e||0===e.length?"./sounds":e)+"/"+t).toString(),i=new Audio;return i.src=n,i.volume=.5,i.load(),i}function $r(e){e instanceof HTMLAudioElement&&(e.pause(),e.removeAttribute("src"),e.load())}function Br(e,t){var n,r,o,a,s,l,c;const u=null!==(r=null!==(n=t.soundsDirectory)&&void 0!==n?n:e.soundsDirectory)&&void 0!==r?r:"./sounds",d=Kr(e,Object.keys(e));for(const h of Object.keys(t))switch(h){case"scriptDepth":if(i(t.scriptDepth))d.scriptDepth=[t.scriptDepth[0],t.scriptDepth[1]];else{if("number"!=typeof t.scriptDepth)throw new TypeError("Unexpected value for scriptDepth");d.scriptDepth=[t.scriptDepth,t.scriptDepth]}break;case"locale":d.locale="auto"===t.locale?null!==(o=null===navigator||void 0===navigator?void 0:navigator.language.slice(0,5))&&void 0!==o?o:"en":t.locale,ui.locale=d.locale;break;case"strings":ui.merge(t.strings),d.strings=ui.strings;break;case"virtualKeyboardLayout":d.virtualKeyboardLayout=t.virtualKeyboardLayout;break;case"virtualKeyboardMode":"auto"===t.virtualKeyboardMode?d.virtualKeyboardMode=Ce()?"onfocus":"off":d.virtualKeyboardMode=t.virtualKeyboardMode;break;case"customVirtualKeyboardLayers":d.customVirtualKeyboardLayers={...d.customVirtualKeyboardLayers,...t.customVirtualKeyboardLayers};break;case"customVirtualKeyboards":d.customVirtualKeyboards={...d.customVirtualKeyboards,...t.customVirtualKeyboards};break;case"letterShapeStyle":"auto"===t.letterShapeStyle?ui.locale.startsWith("fr")?d.letterShapeStyle="french":d.letterShapeStyle="tex":d.letterShapeStyle=t.letterShapeStyle;break;case"plonkSound":$r(d.plonkSound),d.plonkSound=Fr(u,t.plonkSound);break;case"keypressSound":if("object"==typeof d.keypressSound&&null!==d.keypressSound&&"default"in d.keypressSound&&($r(d.keypressSound.default),$r(d.keypressSound.delete),$r(d.keypressSound.return),$r(d.keypressSound.spacebar)),null===t.keypressSound)d.keypressSound={default:null,delete:null,return:null,spacebar:null};else if("string"==typeof t.keypressSound){const e=Fr(u,t.keypressSound);d.keypressSound={delete:e,return:e,spacebar:e,default:e}}else t.keypressSound instanceof HTMLAudioElement?d.keypressSound={delete:t.keypressSound,return:t.keypressSound,spacebar:t.keypressSound,default:t.keypressSound}:"object"==typeof t.keypressSound&&"default"in t.keypressSound&&(d.keypressSound={...t.keypressSound},d.keypressSound.default=Fr(u,d.keypressSound.default),d.keypressSound.delete=null!==(a=Fr(u,d.keypressSound.delete))&&void 0!==a?a:t.keypressSound.default,d.keypressSound.return=null!==(s=Fr(u,d.keypressSound.return))&&void 0!==s?s:t.keypressSound.default,d.keypressSound.spacebar=null!==(l=Fr(u,d.keypressSound.spacebar))&&void 0!==l?l:t.keypressSound.default);break;case"virtualKeyboardContainer":d.virtualKeyboardContainer=t.virtualKeyboardContainer;break;case"macros":d.macros=null!==(c=tt(t.macros))&&void 0!==c?c:{};break;case"onBlur":case"onFocus":case"onContentWillChange":case"onContentDidChange":case"onSelectionWillChange":case"onSelectionDidChange":case"onUndoStateWillChange":case"onUndoStateDidChange":case"onModeChange":case"onCommit":case"onReadAloudStatus":case"onError":if(null===t[h])d[h]=Rr;else if("function"!=typeof t[h])throw new TypeError(h+" must be a function or null");d[h]=t[h];break;default:i(t[h])?d[h]=[...t[h]]:"object"==typeof t[h]?d[h]={...t[h]}:d[h]=t[h]}return d}function Kr(e,t){let n;n="string"==typeof t?[t]:void 0===t?Object.keys(e):t;const r={};for(const o of n)i(e[o])?r[o]=[...e[o]]:e[o]instanceof HTMLElement?r[o]=e[o]:null===e[o]?r[o]=null:"object"==typeof e[o]?r[o]={...e[o]}:r[o]=e[o];return"string"==typeof t?r[t]:r}const Wr='<span style="width: 21px; margin-top: 4px;"><svg style="width: 21px;" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><path d="M528 64H48C21.49 64 0 85.49 0 112v288c0 26.51 21.49 48 48 48h480c26.51 0 48-21.49 48-48V112c0-26.51-21.49-48-48-48zm16 336c0 8.823-7.177 16-16 16H48c-8.823 0-16-7.177-16-16V112c0-8.823 7.177-16 16-16h480c8.823 0 16 7.177 16 16v288zM168 268v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm-336 80v-24c0-6.627-5.373-12-12-12H84c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm384 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zM120 188v-24c0-6.627-5.373-12-12-12H84c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm-96 152v-8c0-6.627-5.373-12-12-12H180c-6.627 0-12 5.373-12 12v8c0 6.627 5.373 12 12 12h216c6.627 0 12-5.373 12-12z"/></svg></span>';function Vr(){var e,t,n,i;return{readOnly:!1,createHTML:e=>e,fontsDirectory:"./fonts",soundsDirectory:"./sounds",defaultMode:"math",macros:Je(),registers:{...Fi()},colorMap:u,backgroundColorMap:d,horizontalSpacingScale:1,letterShapeStyle:ui.locale.startsWith("fr")?"french":"tex",smartMode:!1,smartFence:!0,smartSuperscript:!0,scriptDepth:[1/0,1/0],removeExtraneousParentheses:!0,mathModeSpace:"",locale:null!==(e=ui.locale)&&void 0!==e?e:"en",strings:ui.strings,keybindings:xn,inlineShortcuts:{},inlineShortcutTimeout:0,virtualKeyboardToggleGlyph:Wr,virtualKeyboardMode:"auto",virtualKeyboards:"all",virtualKeyboardLayout:"auto",customVirtualKeyboardLayers:{},customVirtualKeyboards:{},virtualKeyboardTheme:/android|cros/i.test(null===navigator||void 0===navigator?void 0:navigator.userAgent)?"material":"apple",keypressVibration:!0,keypressSound:null,plonkSound:null,virtualKeyboardToolbar:"default",virtualKeyboardContainer:null!==(n=null===(t=globalThis.document)||void 0===t?void 0:t.body)&&void 0!==n?n:null,useSharedVirtualKeyboard:!1,sharedVirtualKeyboardTargetOrigin:null===(i=globalThis.window)||void 0===i?void 0:i.origin,originValidator:"same-origin",textToSpeechRules:"mathlive",textToSpeechMarkup:"",textToSpeechRulesOptions:{},speechEngine:"local",speechEngineVoice:"Joanna",speechEngineRate:"100%",speakHook:Dr,readAloudHook:zr,onAnnounce:qr,onKeystroke:()=>!0,onMoveOutOf:()=>!0,onTabOutOf:()=>!0,onBlur:Rr,onFocus:Rr,onContentWillChange:Rr,onContentDidChange:Rr,onSelectionWillChange:Rr,onSelectionDidChange:Rr,onUndoStateWillChange:Rr,onUndoStateDidChange:Rr,onModeChange:Rr,onReadAloudStatus:Rr,onCommit:Rr,onExport:nr,onError:()=>{},value:""}}function Ur(e){return"inline-math"===e.defaultMode?"math":e.defaultMode}class Hr{constructor(e){var t,n;this.targetOrigin=null!==(t=e.targetOrigin)&&void 0!==t?t:window.origin,this.originValidator=null!==(n=e.originValidator)&&void 0!==n?n:"same-origin",this._focus=e.focus,this._blur=e.blur,this._executeCommand=e.executeCommand,this.enable()}setOptions(e){}create(){}dispose(){this.disable()}enable(){this.enabled||(this.enabled=!0,window.addEventListener("message",this))}disable(){this.enabled&&(window.removeEventListener("message",this),this.enabled=!1)}executeCommand(e){return"virtual-keyboard"===pr(e)?(this.sendMessage("executeCommand",{command:e}),!1):this._executeCommand(e)}focusMathfield(){}blurMathfield(){}stateChanged(){}handleEvent(e){if("message"===e.type&&e.data&&"ml#systemPostMessage"===e.data.type){if(!wi(e.origin,this.originValidator))throw new Error(`Message from unknown origin (${e.origin}) cannot be handled`);const{action:t}=e.data;"executeCommand"===t?this.executeCommand(e.data.command):"updateState"===t?(this.visible=e.data.state.visible,this.height=e.data.state.height):"focus"===t?this._focus():"blur"===t&&this._blur()}}sendMessage(e,t={}){return!!window.parent&&(window.parent.postMessage({type:"ml#systemPostMessage",action:e,...t},this.targetOrigin),!0)}}function Gr(e){return"number"==typeof e&&!Number.isNaN(e)}function Xr(e){return Array.isArray(e)&&2===e.length}function Zr(e){return null!=e&&"object"==typeof e&&"ranges"in e&&Array.isArray(e.ranges)}const Yr=[127462,127487];function Qr(e){return 8205===e||65038===e||65039===e||e>=127995&&e<=128e3||e>=129456&&e<=129460||e>=917536&&e<=917632}function Jr(e){return e>=Yr[0]&&e<=Yr[1]}class eo{constructor(e){this.obeyspaces=!1,this.s=function(e){if(/^[\u0020-\u00FF]*$/.test(e))return e;const t=[],n=function(e){const t=[];for(let n=0;n<e.length;n++){let i=e.charCodeAt(n);if(i>=55296&&i<=56319){const t=e.charCodeAt(n+1);t>=56320&&t<=57343&&(i=65536+1024*(i-55296)+(t-56320),n++)}t.push(i)}return t}(e);let i=0;for(;i<n.length;){const e=n[i++],r=n[i];if(8205===r){const e=i-1;for(i+=2;8205===n[i];)i+=2;t.push(String.fromCodePoint(...n.slice(e,2*i-e+1)))}else if(Qr(r)){const e=i-1;for(;Qr(n[i]);)i+=8205===n[i]?2:1;t.push(String.fromCodePoint(...n.slice(e,2*i-e-1)))}else Jr(e)?(i+=1,t.push(String.fromCodePoint(...n.slice(i-2,2)))):t.push(String.fromCodePoint(e))}return t}(e),this.pos=0}end(){return this.pos>=this.s.length}get(){return this.pos<this.s.length?this.s[this.pos++]:""}peek(){return this.s[this.pos]}match(e){let t;return t="string"==typeof this.s?e.exec(this.s.slice(this.pos)):e.exec(this.s.slice(this.pos).join("")),(null==t?void 0:t[0])?(this.pos+=t[0].length,t[0]):null}next(){if(this.end())return null;if(!this.obeyspaces&&this.match(/^[ \f\n\r\t\v\xA0\u2028\u2029]+/))return"<space>";if(this.obeyspaces&&this.match(/^[ \f\n\r\t\v\xA0\u2028\u2029]/))return"<space>";const e=this.get();if("\\"===e){if(!this.end()){let e=this.match(/^[a-zA-Z*]+/);if(e)this.match(/^[ \f\n\r\t\v\xA0\u2028\u2029]*/);else if(e=this.get()," "===e)return"<space>";return"\\"+e}}else{if("{"===e)return"<{>";if("}"===e)return"<}>";if("^"===e){if("^"===this.peek()){this.get();const e=this.match(/^(\^(\^(\^(\^[0-9a-f])?[0-9a-f])?[0-9a-f])?[0-9a-f])?[0-9a-f][0-9a-f]/);if(e)return String.fromCodePoint(parseInt(e.slice(e.lastIndexOf("^")+1),16))}return e}if("#"===e){if(!this.end()){let e=!1;if(/[0-9?]/.test(this.peek())&&(e=!0,this.pos+1<this.s.length)){const t=this.s[this.pos+1];e=/[^0-9A-Za-z]/.test(t)}return e?"#"+this.get():"#"}}else if("$"===e)return"$"===this.peek()?(this.get(),"<$$>"):"<$>"}return e}}function to(e,t){var n,i,r,o;let a=[],s=e.next();if(s)if("\\relax"===s);else if("\\noexpand"===s)s=e.next(),s&&a.push(s);else if("\\obeyspaces"===s)e.obeyspaces=!0;else if("\\space"===s||"~"===s)a.push("<space>");else if("\\bgroup"===s)a.push("<{>");else if("\\egroup"===s)a.push("<}>");else if("\\string"===s)s=e.next(),s&&("\\"===s[0]?Array.from(s).forEach(e=>a.push("\\"===e?"\\backslash":e)):"<{>"===s?a.push("\\{"):"<space>"===s?a.push("~"):"<}>"===s&&a.push("\\}"));else if("\\csname"===s){for(;"<space>"===e.peek();)e.next();let r="",o=!1,l=[];do{if(0===l.length)if(/^#[0-9?]$/.test(e.peek())){const r=e.get().slice(1);l=no(null!==(i=null!==(n=null==t?void 0:t[r])&&void 0!==n?n:null==t?void 0:t["?"])&&void 0!==i?i:"\\placeholder{}",t),s=l[0]}else s=e.next(),l=s?[s]:[];o=0===l.length,o||"\\endcsname"!==s||(o=!0,l.shift()),o||(o="<$>"===s||"<$$>"===s||"<{>"===s||"<}>"===s||!!s&&s.length>1&&"\\"===s[0]),o||(r+=l.shift())}while(!o);r&&a.push("\\"+r),a=a.concat(l)}else if("\\endcsname"===s);else if(s.length>1&&"#"===s[0]){const e=s.slice(1);a=a.concat(no(null!==(o=null!==(r=null==t?void 0:t[e])&&void 0!==r?r:null==t?void 0:t["?"])&&void 0!==o?o:"\\placeholder{}",t))}else a.push(s);return a}function no(e,t){const n=e.toString().split(/\r?\n/);let i="",r="";for(const s of n){i+=r,r=" ";const e=s.match(/((?:\\%)|[^%])*/);null!==e&&(i+=e[0])}const o=new eo(i);let a=[];do{a=a.concat(to(o,t))}while(!o.end());return a}function io(e){let t="",n="";for(const i of e)i&&(/[a-zA-Z*]/.test(i[0])&&(n+=t),t=/\\[a-zA-Z]+\*?$/.test(i)?" ":"",n+=i);return n}function ro(e){let t=[];if(Array.isArray(e))for(const n of e)Array.isArray(n)?t=[...t,...n]:t.push(n);else t=[e];return io(t.map(e=>{var t;return null!==(t={"<space>":" ","<$$>":"$$","<$>":"$","<{>":"{","<}>":"}"}[e])&&void 0!==t?t:e}))}var oo,ao="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},so={exports:{}};oo=so,function(e){var t,n,i,r,o=9e15,a=1e9,s="0123456789abcdef",l="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",c="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",u={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-o,maxE:o,crypto:!1},d=!0,h="[DecimalError] ",p=h+"Invalid argument: ",f=h+"Precision limit exceeded",m=h+"crypto unavailable",g=Math.floor,y=Math.pow,v=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,b=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,_=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,x=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,k=1e7,w=l.length-1,S=c.length-1,M={name:"[object Decimal]"};function C(e){var t,n,i,r=e.length-1,o="",a=e[0];if(r>0){for(o+=a,t=1;t<r;t++)(n=7-(i=e[t]+"").length)&&(o+=j(n)),o+=i;(n=7-(i=(a=e[t])+"").length)&&(o+=j(n))}else if(0===a)return"0";for(;a%10==0;)a/=10;return o+a}function L(e,t,n){if(e!==~~e||e<t||e>n)throw Error(p+e)}function O(e,t,n,i){var r,o,a,s;for(o=e[0];o>=10;o/=10)--t;return--t<0?(t+=7,r=0):(r=Math.ceil((t+1)/7),t%=7),o=y(10,7-t),s=e[r]%o|0,null==i?t<3?(0==t?s=s/100|0:1==t&&(s=s/10|0),a=n<4&&99999==s||n>3&&49999==s||5e4==s||0==s):a=(n<4&&s+1==o||n>3&&s+1==o/2)&&(e[r+1]/o/100|0)==y(10,t-2)-1||(s==o/2||0==s)&&0==(e[r+1]/o/100|0):t<4?(0==t?s=s/1e3|0:1==t?s=s/100|0:2==t&&(s=s/10|0),a=(i||n<4)&&9999==s||!i&&n>3&&4999==s):a=((i||n<4)&&s+1==o||!i&&n>3&&s+1==o/2)&&(e[r+1]/o/1e3|0)==y(10,t-3)-1,a}function A(e,t,n){for(var i,r,o=[0],a=0,l=e.length;a<l;){for(r=o.length;r--;)o[r]*=t;for(o[0]+=s.indexOf(e.charAt(a++)),i=0;i<o.length;i++)o[i]>n-1&&(void 0===o[i+1]&&(o[i+1]=0),o[i+1]+=o[i]/n|0,o[i]%=n)}return o.reverse()}M.absoluteValue=M.abs=function(){var e=new this.constructor(this);return e.s<0&&(e.s=1),T(e)},M.ceil=function(){return T(new this.constructor(this),this.e+1,2)},M.comparedTo=M.cmp=function(e){var t,n,i,r,o=this,a=o.d,s=(e=new o.constructor(e)).d,l=o.s,c=e.s;if(!a||!s)return l&&c?l!==c?l:a===s?0:!a^l<0?1:-1:NaN;if(!a[0]||!s[0])return a[0]?l:s[0]?-c:0;if(l!==c)return l;if(o.e!==e.e)return o.e>e.e^l<0?1:-1;for(t=0,n=(i=a.length)<(r=s.length)?i:r;t<n;++t)if(a[t]!==s[t])return a[t]>s[t]^l<0?1:-1;return i===r?0:i>r^l<0?1:-1},M.cosine=M.cos=function(){var e,t,n=this,i=n.constructor;return n.d?n.d[0]?(e=i.precision,t=i.rounding,i.precision=e+Math.max(n.e,n.sd())+7,i.rounding=1,n=function(e,t){var n,i,r=t.d.length;r<32?i=(1/H(4,n=Math.ceil(r/3))).toString():(n=16,i="2.3283064365386962890625e-10"),e.precision+=n,t=U(e,1,t.times(i),new e(1));for(var o=n;o--;){var a=t.times(t);t=a.times(a).minus(a).times(8).plus(1)}return e.precision-=n,t}(i,G(i,n)),i.precision=e,i.rounding=t,T(2==r||3==r?n.neg():n,e,t,!0)):new i(1):new i(NaN)},M.cubeRoot=M.cbrt=function(){var e,t,n,i,r,o,a,s,l,c,u=this,h=u.constructor;if(!u.isFinite()||u.isZero())return new h(u);for(d=!1,(o=u.s*y(u.s*u,1/3))&&Math.abs(o)!=1/0?i=new h(o.toString()):(n=C(u.d),(o=((e=u.e)-n.length+1)%3)&&(n+=1==o||-2==o?"0":"00"),o=y(n,1/3),e=g((e+1)/3)-(e%3==(e<0?-1:2)),(i=new h(n=o==1/0?"5e"+e:(n=o.toExponential()).slice(0,n.indexOf("e")+1)+e)).s=u.s),a=(e=h.precision)+3;;)if(c=(l=(s=i).times(s).times(s)).plus(u),i=E(c.plus(u).times(s),c.plus(l),a+2,1),C(s.d).slice(0,a)===(n=C(i.d)).slice(0,a)){if("9999"!=(n=n.slice(a-3,a+1))&&(r||"4999"!=n)){+n&&(+n.slice(1)||"5"!=n.charAt(0))||(T(i,e+1,1),t=!i.times(i).times(i).eq(u));break}if(!r&&(T(s,e+1,0),s.times(s).times(s).eq(u))){i=s;break}a+=4,r=1}return d=!0,T(i,e,h.rounding,t)},M.decimalPlaces=M.dp=function(){var e,t=this.d,n=NaN;if(t){if(n=7*((e=t.length-1)-g(this.e/7)),e=t[e])for(;e%10==0;e/=10)n--;n<0&&(n=0)}return n},M.dividedBy=M.div=function(e){return E(this,new this.constructor(e))},M.dividedToIntegerBy=M.divToInt=function(e){var t=this.constructor;return T(E(this,new t(e),0,1,1),t.precision,t.rounding)},M.equals=M.eq=function(e){return 0===this.cmp(e)},M.floor=function(){return T(new this.constructor(this),this.e+1,3)},M.greaterThan=M.gt=function(e){return this.cmp(e)>0},M.greaterThanOrEqualTo=M.gte=function(e){var t=this.cmp(e);return 1==t||0===t},M.hyperbolicCosine=M.cosh=function(){var e,t,n,i,r,o=this,a=o.constructor,s=new a(1);if(!o.isFinite())return new a(o.s?1/0:NaN);if(o.isZero())return s;n=a.precision,i=a.rounding,a.precision=n+Math.max(o.e,o.sd())+4,a.rounding=1,(r=o.d.length)<32?t=(1/H(4,e=Math.ceil(r/3))).toString():(e=16,t="2.3283064365386962890625e-10"),o=U(a,1,o.times(t),new a(1),!0);for(var l,c=e,u=new a(8);c--;)l=o.times(o),o=s.minus(l.times(u.minus(l.times(u))));return T(o,a.precision=n,a.rounding=i,!0)},M.hyperbolicSine=M.sinh=function(){var e,t,n,i,r=this,o=r.constructor;if(!r.isFinite()||r.isZero())return new o(r);if(t=o.precision,n=o.rounding,o.precision=t+Math.max(r.e,r.sd())+4,o.rounding=1,(i=r.d.length)<3)r=U(o,2,r,r,!0);else{e=(e=1.4*Math.sqrt(i))>16?16:0|e,r=U(o,2,r=r.times(1/H(5,e)),r,!0);for(var a,s=new o(5),l=new o(16),c=new o(20);e--;)a=r.times(r),r=r.times(s.plus(a.times(l.times(a).plus(c))))}return o.precision=t,o.rounding=n,T(r,t,n,!0)},M.hyperbolicTangent=M.tanh=function(){var e,t,n=this,i=n.constructor;return n.isFinite()?n.isZero()?new i(n):(e=i.precision,t=i.rounding,i.precision=e+7,i.rounding=1,E(n.sinh(),n.cosh(),i.precision=e,i.rounding=t)):new i(n.s)},M.inverseCosine=M.acos=function(){var e,t=this,n=t.constructor,i=t.abs().cmp(1),r=n.precision,o=n.rounding;return-1!==i?0===i?t.isNeg()?q(n,r,o):new n(0):new n(NaN):t.isZero()?q(n,r+4,o).times(.5):(n.precision=r+6,n.rounding=1,t=t.asin(),e=q(n,r+4,o).times(.5),n.precision=r,n.rounding=o,e.minus(t))},M.inverseHyperbolicCosine=M.acosh=function(){var e,t,n=this,i=n.constructor;return n.lte(1)?new i(n.eq(1)?0:NaN):n.isFinite()?(e=i.precision,t=i.rounding,i.precision=e+Math.max(Math.abs(n.e),n.sd())+4,i.rounding=1,d=!1,n=n.times(n).minus(1).sqrt().plus(n),d=!0,i.precision=e,i.rounding=t,n.ln()):new i(n)},M.inverseHyperbolicSine=M.asinh=function(){var e,t,n=this,i=n.constructor;return!n.isFinite()||n.isZero()?new i(n):(e=i.precision,t=i.rounding,i.precision=e+2*Math.max(Math.abs(n.e),n.sd())+6,i.rounding=1,d=!1,n=n.times(n).plus(1).sqrt().plus(n),d=!0,i.precision=e,i.rounding=t,n.ln())},M.inverseHyperbolicTangent=M.atanh=function(){var e,t,n,i,r=this,o=r.constructor;return r.isFinite()?r.e>=0?new o(r.abs().eq(1)?r.s/0:r.isZero()?r:NaN):(e=o.precision,t=o.rounding,i=r.sd(),Math.max(i,e)<2*-r.e-1?T(new o(r),e,t,!0):(o.precision=n=i-r.e,r=E(r.plus(1),new o(1).minus(r),n+e,1),o.precision=e+4,o.rounding=1,r=r.ln(),o.precision=e,o.rounding=t,r.times(.5))):new o(NaN)},M.inverseSine=M.asin=function(){var e,t,n,i,r=this,o=r.constructor;return r.isZero()?new o(r):(t=r.abs().cmp(1),n=o.precision,i=o.rounding,-1!==t?0===t?((e=q(o,n+4,i).times(.5)).s=r.s,e):new o(NaN):(o.precision=n+6,o.rounding=1,r=r.div(new o(1).minus(r.times(r)).sqrt().plus(1)).atan(),o.precision=n,o.rounding=i,r.times(2)))},M.inverseTangent=M.atan=function(){var e,t,n,i,r,o,a,s,l,c=this,u=c.constructor,h=u.precision,p=u.rounding;if(c.isFinite()){if(c.isZero())return new u(c);if(c.abs().eq(1)&&h+4<=S)return(a=q(u,h+4,p).times(.25)).s=c.s,a}else{if(!c.s)return new u(NaN);if(h+4<=S)return(a=q(u,h+4,p).times(.5)).s=c.s,a}for(u.precision=s=h+10,u.rounding=1,e=n=Math.min(28,s/7+2|0);e;--e)c=c.div(c.times(c).plus(1).sqrt().plus(1));for(d=!1,t=Math.ceil(s/7),i=1,l=c.times(c),a=new u(c),r=c;-1!==e;)if(r=r.times(l),o=a.minus(r.div(i+=2)),r=r.times(l),void 0!==(a=o.plus(r.div(i+=2))).d[t])for(e=t;a.d[e]===o.d[e]&&e--;);return n&&(a=a.times(2<<n-1)),d=!0,T(a,u.precision=h,u.rounding=p,!0)},M.isFinite=function(){return!!this.d},M.isInteger=M.isInt=function(){return!!this.d&&g(this.e/7)>this.d.length-2},M.isNaN=function(){return!this.s},M.isNegative=M.isNeg=function(){return this.s<0},M.isPositive=M.isPos=function(){return this.s>0},M.isZero=function(){return!!this.d&&0===this.d[0]},M.lessThan=M.lt=function(e){return this.cmp(e)<0},M.lessThanOrEqualTo=M.lte=function(e){return this.cmp(e)<1},M.logarithm=M.log=function(e){var t,n,i,r,o,a,s,l,c=this,u=c.constructor,h=u.precision,p=u.rounding;if(null==e)e=new u(10),t=!0;else{if(n=(e=new u(e)).d,e.s<0||!n||!n[0]||e.eq(1))return new u(NaN);t=e.eq(10)}if(n=c.d,c.s<0||!n||!n[0]||c.eq(1))return new u(n&&!n[0]?-1/0:1!=c.s?NaN:n?0:1/0);if(t)if(n.length>1)o=!0;else{for(r=n[0];r%10==0;)r/=10;o=1!==r}if(d=!1,a=B(c,s=h+5),i=t?P(u,s+10):B(e,s),O((l=E(a,i,s,1)).d,r=h,p))do{if(a=B(c,s+=10),i=t?P(u,s+10):B(e,s),l=E(a,i,s,1),!o){+C(l.d).slice(r+1,r+15)+1==1e14&&(l=T(l,h+1,0));break}}while(O(l.d,r+=10,p));return d=!0,T(l,h,p)},M.minus=M.sub=function(e){var t,n,i,r,o,a,s,l,c,u,h,p,f=this,m=f.constructor;if(e=new m(e),!f.d||!e.d)return f.s&&e.s?f.d?e.s=-e.s:e=new m(e.d||f.s!==e.s?f:NaN):e=new m(NaN),e;if(f.s!=e.s)return e.s=-e.s,f.plus(e);if(c=f.d,p=e.d,s=m.precision,l=m.rounding,!c[0]||!p[0]){if(p[0])e.s=-e.s;else{if(!c[0])return new m(3===l?-0:0);e=new m(f)}return d?T(e,s,l):e}if(n=g(e.e/7),u=g(f.e/7),c=c.slice(),o=u-n){for((h=o<0)?(t=c,o=-o,a=p.length):(t=p,n=u,a=c.length),o>(i=Math.max(Math.ceil(s/7),a)+2)&&(o=i,t.length=1),t.reverse(),i=o;i--;)t.push(0);t.reverse()}else{for((h=(i=c.length)<(a=p.length))&&(a=i),i=0;i<a;i++)if(c[i]!=p[i]){h=c[i]<p[i];break}o=0}for(h&&(t=c,c=p,p=t,e.s=-e.s),a=c.length,i=p.length-a;i>0;--i)c[a++]=0;for(i=p.length;i>o;){if(c[--i]<p[i]){for(r=i;r&&0===c[--r];)c[r]=k-1;--c[r],c[i]+=k}c[i]-=p[i]}for(;0===c[--a];)c.pop();for(;0===c[0];c.shift())--n;return c[0]?(e.d=c,e.e=D(c,n),d?T(e,s,l):e):new m(3===l?-0:0)},M.modulo=M.mod=function(e){var t,n=this,i=n.constructor;return e=new i(e),!n.d||!e.s||e.d&&!e.d[0]?new i(NaN):!e.d||n.d&&!n.d[0]?T(new i(n),i.precision,i.rounding):(d=!1,9==i.modulo?(t=E(n,e.abs(),0,3,1)).s*=e.s:t=E(n,e,0,i.modulo,1),t=t.times(e),d=!0,n.minus(t))},M.naturalExponential=M.exp=function(){return $(this)},M.naturalLogarithm=M.ln=function(){return B(this)},M.negated=M.neg=function(){var e=new this.constructor(this);return e.s=-e.s,T(e)},M.plus=M.add=function(e){var t,n,i,r,o,a,s,l,c,u,h=this,p=h.constructor;if(e=new p(e),!h.d||!e.d)return h.s&&e.s?h.d||(e=new p(e.d||h.s===e.s?h:NaN)):e=new p(NaN),e;if(h.s!=e.s)return e.s=-e.s,h.minus(e);if(c=h.d,u=e.d,s=p.precision,l=p.rounding,!c[0]||!u[0])return u[0]||(e=new p(h)),d?T(e,s,l):e;if(o=g(h.e/7),i=g(e.e/7),c=c.slice(),r=o-i){for(r<0?(n=c,r=-r,a=u.length):(n=u,i=o,a=c.length),r>(a=(o=Math.ceil(s/7))>a?o+1:a+1)&&(r=a,n.length=1),n.reverse();r--;)n.push(0);n.reverse()}for((a=c.length)-(r=u.length)<0&&(r=a,n=u,u=c,c=n),t=0;r;)t=(c[--r]=c[r]+u[r]+t)/k|0,c[r]%=k;for(t&&(c.unshift(t),++i),a=c.length;0==c[--a];)c.pop();return e.d=c,e.e=D(c,i),d?T(e,s,l):e},M.precision=M.sd=function(e){var t,n=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(p+e);return n.d?(t=I(n.d),e&&n.e+1>t&&(t=n.e+1)):t=NaN,t},M.round=function(){var e=this,t=e.constructor;return T(new t(e),e.e+1,t.rounding)},M.sine=M.sin=function(){var e,t,n=this,i=n.constructor;return n.isFinite()?n.isZero()?new i(n):(e=i.precision,t=i.rounding,i.precision=e+Math.max(n.e,n.sd())+7,i.rounding=1,n=function(e,t){var n,i=t.d.length;if(i<3)return U(e,2,t,t);n=(n=1.4*Math.sqrt(i))>16?16:0|n,t=U(e,2,t=t.times(1/H(5,n)),t);for(var r,o=new e(5),a=new e(16),s=new e(20);n--;)r=t.times(t),t=t.times(o.plus(r.times(a.times(r).minus(s))));return t}(i,G(i,n)),i.precision=e,i.rounding=t,T(r>2?n.neg():n,e,t,!0)):new i(NaN)},M.squareRoot=M.sqrt=function(){var e,t,n,i,r,o,a=this,s=a.d,l=a.e,c=a.s,u=a.constructor;if(1!==c||!s||!s[0])return new u(!c||c<0&&(!s||s[0])?NaN:s?a:1/0);for(d=!1,0==(c=Math.sqrt(+a))||c==1/0?(((t=C(s)).length+l)%2==0&&(t+="0"),c=Math.sqrt(t),l=g((l+1)/2)-(l<0||l%2),i=new u(t=c==1/0?"5e"+l:(t=c.toExponential()).slice(0,t.indexOf("e")+1)+l)):i=new u(c.toString()),n=(l=u.precision)+3;;)if(i=(o=i).plus(E(a,o,n+2,1)).times(.5),C(o.d).slice(0,n)===(t=C(i.d)).slice(0,n)){if("9999"!=(t=t.slice(n-3,n+1))&&(r||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(T(i,l+1,1),e=!i.times(i).eq(a));break}if(!r&&(T(o,l+1,0),o.times(o).eq(a))){i=o;break}n+=4,r=1}return d=!0,T(i,l,u.rounding,e)},M.tangent=M.tan=function(){var e,t,n=this,i=n.constructor;return n.isFinite()?n.isZero()?new i(n):(e=i.precision,t=i.rounding,i.precision=e+10,i.rounding=1,(n=n.sin()).s=1,n=E(n,new i(1).minus(n.times(n)).sqrt(),e+10,0),i.precision=e,i.rounding=t,T(2==r||4==r?n.neg():n,e,t,!0)):new i(NaN)},M.times=M.mul=function(e){var t,n,i,r,o,a,s,l,c,u=this,h=u.constructor,p=u.d,f=(e=new h(e)).d;if(e.s*=u.s,!(p&&p[0]&&f&&f[0]))return new h(!e.s||p&&!p[0]&&!f||f&&!f[0]&&!p?NaN:p&&f?0*e.s:e.s/0);for(n=g(u.e/7)+g(e.e/7),(l=p.length)<(c=f.length)&&(o=p,p=f,f=o,a=l,l=c,c=a),o=[],i=a=l+c;i--;)o.push(0);for(i=c;--i>=0;){for(t=0,r=l+i;r>i;)s=o[r]+f[i]*p[r-i-1]+t,o[r--]=s%k|0,t=s/k|0;o[r]=(o[r]+t)%k|0}for(;!o[--a];)o.pop();return t?++n:o.shift(),e.d=o,e.e=D(o,n),d?T(e,h.precision,h.rounding):e},M.toBinary=function(e,t){return X(this,2,e,t)},M.toDecimalPlaces=M.toDP=function(e,t){var n=this,i=n.constructor;return n=new i(n),void 0===e?n:(L(e,0,a),void 0===t?t=i.rounding:L(t,0,8),T(n,e+n.e+1,t))},M.toExponential=function(e,t){var n,i=this,r=i.constructor;return void 0===e?n=N(i,!0):(L(e,0,a),void 0===t?t=r.rounding:L(t,0,8),n=N(i=T(new r(i),e+1,t),!0,e+1)),i.isNeg()&&!i.isZero()?"-"+n:n},M.toFixed=function(e,t){var n,i,r=this,o=r.constructor;return void 0===e?n=N(r):(L(e,0,a),void 0===t?t=o.rounding:L(t,0,8),n=N(i=T(new o(r),e+r.e+1,t),!1,e+i.e+1)),r.isNeg()&&!r.isZero()?"-"+n:n},M.toFraction=function(e){var t,n,i,r,o,a,s,l,c,u,h,f,m=this,g=m.d,v=m.constructor;if(!g)return new v(m);if(c=n=new v(1),i=l=new v(0),a=(o=(t=new v(i)).e=I(g)-m.e-1)%7,t.d[0]=y(10,a<0?7+a:a),null==e)e=o>0?t:c;else{if(!(s=new v(e)).isInt()||s.lt(c))throw Error(p+s);e=s.gt(t)?o>0?t:c:s}for(d=!1,s=new v(C(g)),u=v.precision,v.precision=o=7*g.length*2;h=E(s,t,0,1,1),1!=(r=n.plus(h.times(i))).cmp(e);)n=i,i=r,r=c,c=l.plus(h.times(r)),l=r,r=t,t=s.minus(h.times(r)),s=r;return r=E(e.minus(n),i,0,1,1),l=l.plus(r.times(c)),n=n.plus(r.times(i)),l.s=c.s=m.s,f=E(c,i,o,1).minus(m).abs().cmp(E(l,n,o,1).minus(m).abs())<1?[c,i]:[l,n],v.precision=u,d=!0,f},M.toHexadecimal=M.toHex=function(e,t){return X(this,16,e,t)},M.toNearest=function(e,t){var n=this,i=n.constructor;if(n=new i(n),null==e){if(!n.d)return n;e=new i(1),t=i.rounding}else{if(e=new i(e),void 0===t?t=i.rounding:L(t,0,8),!n.d)return e.s?n:e;if(!e.d)return e.s&&(e.s=n.s),e}return e.d[0]?(d=!1,n=E(n,e,0,t,1).times(e),d=!0,T(n)):(e.s=n.s,n=e),n},M.toNumber=function(){return+this},M.toOctal=function(e,t){return X(this,8,e,t)},M.toPower=M.pow=function(e){var t,n,i,r,o,a,s=this,l=s.constructor,c=+(e=new l(e));if(!(s.d&&e.d&&s.d[0]&&e.d[0]))return new l(y(+s,c));if((s=new l(s)).eq(1))return s;if(i=l.precision,o=l.rounding,e.eq(1))return T(s,i,o);if((t=g(e.e/7))>=e.d.length-1&&(n=c<0?-c:c)<=9007199254740991)return r=z(l,s,n,i),e.s<0?new l(1).div(r):T(r,i,o);if((a=s.s)<0){if(t<e.d.length-1)return new l(NaN);if(0==(1&e.d[t])&&(a=1),0==s.e&&1==s.d[0]&&1==s.d.length)return s.s=a,s}return(t=0!=(n=y(+s,c))&&isFinite(n)?new l(n+"").e:g(c*(Math.log("0."+C(s.d))/Math.LN10+s.e+1)))>l.maxE+1||t<l.minE-1?new l(t>0?a/0:0):(d=!1,l.rounding=s.s=1,n=Math.min(12,(t+"").length),(r=$(e.times(B(s,i+n)),i)).d&&O((r=T(r,i+5,1)).d,i,o)&&(t=i+10,+C((r=T($(e.times(B(s,t+n)),t),t+5,1)).d).slice(i+1,i+15)+1==1e14&&(r=T(r,i+1,0))),r.s=a,d=!0,l.rounding=o,T(r,i,o))},M.toPrecision=function(e,t){var n,i=this,r=i.constructor;return void 0===e?n=N(i,i.e<=r.toExpNeg||i.e>=r.toExpPos):(L(e,1,a),void 0===t?t=r.rounding:L(t,0,8),n=N(i=T(new r(i),e,t),e<=i.e||i.e<=r.toExpNeg,e)),i.isNeg()&&!i.isZero()?"-"+n:n},M.toSignificantDigits=M.toSD=function(e,t){var n=this.constructor;return void 0===e?(e=n.precision,t=n.rounding):(L(e,1,a),void 0===t?t=n.rounding:L(t,0,8)),T(new n(this),e,t)},M.toString=function(){var e=this,t=e.constructor,n=N(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()&&!e.isZero()?"-"+n:n},M.truncated=M.trunc=function(){return T(new this.constructor(this),this.e+1,1)},M.valueOf=M.toJSON=function(){var e=this,t=e.constructor,n=N(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()?"-"+n:n};var E=function(){function e(e,t,n){var i,r=0,o=e.length;for(e=e.slice();o--;)i=e[o]*t+r,e[o]=i%n|0,r=i/n|0;return r&&e.unshift(r),e}function t(e,t,n,i){var r,o;if(n!=i)o=n>i?1:-1;else for(r=o=0;r<n;r++)if(e[r]!=t[r]){o=e[r]>t[r]?1:-1;break}return o}function i(e,t,n,i){for(var r=0;n--;)e[n]-=r,r=e[n]<t[n]?1:0,e[n]=r*i+e[n]-t[n];for(;!e[0]&&e.length>1;)e.shift()}return function(r,o,a,s,l,c){var u,d,h,p,f,m,y,v,b,_,x,w,S,M,C,L,O,A,E,N,D=r.constructor,P=r.s==o.s?1:-1,q=r.d,I=o.d;if(!(q&&q[0]&&I&&I[0]))return new D(r.s&&o.s&&(q?!I||q[0]!=I[0]:I)?q&&0==q[0]||!I?0*P:P/0:NaN);for(c?(f=1,d=r.e-o.e):(c=k,f=7,d=g(r.e/f)-g(o.e/f)),E=I.length,O=q.length,_=(b=new D(P)).d=[],h=0;I[h]==(q[h]||0);h++);if(I[h]>(q[h]||0)&&d--,null==a?(M=a=D.precision,s=D.rounding):M=l?a+(r.e-o.e)+1:a,M<0)_.push(1),m=!0;else{if(M=M/f+2|0,h=0,1==E){for(p=0,I=I[0],M++;(h<O||p)&&M--;h++)C=p*c+(q[h]||0),_[h]=C/I|0,p=C%I|0;m=p||h<O}else{for((p=c/(I[0]+1)|0)>1&&(I=e(I,p,c),q=e(q,p,c),E=I.length,O=q.length),L=E,w=(x=q.slice(0,E)).length;w<E;)x[w++]=0;(N=I.slice()).unshift(0),A=I[0],I[1]>=c/2&&++A;do{p=0,(u=t(I,x,E,w))<0?(S=x[0],E!=w&&(S=S*c+(x[1]||0)),(p=S/A|0)>1?(p>=c&&(p=c-1),1==(u=t(y=e(I,p,c),x,v=y.length,w=x.length))&&(p--,i(y,E<v?N:I,v,c))):(0==p&&(u=p=1),y=I.slice()),(v=y.length)<w&&y.unshift(0),i(x,y,w,c),-1==u&&(u=t(I,x,E,w=x.length))<1&&(p++,i(x,E<w?N:I,w,c)),w=x.length):0===u&&(p++,x=[0]),_[h++]=p,u&&x[0]?x[w++]=q[L]||0:(x=[q[L]],w=1)}while((L++<O||void 0!==x[0])&&M--);m=void 0!==x[0]}_[0]||_.shift()}if(1==f)b.e=d,n=m;else{for(h=1,p=_[0];p>=10;p/=10)h++;b.e=h+d*f-1,T(b,l?a+b.e+1:a,s,m)}return b}}();function T(e,t,n,i){var r,o,a,s,l,c,u,h,p,f=e.constructor;e:if(null!=t){if(!(h=e.d))return e;for(r=1,s=h[0];s>=10;s/=10)r++;if((o=t-r)<0)o+=7,a=t,l=(u=h[p=0])/y(10,r-a-1)%10|0;else if((p=Math.ceil((o+1)/7))>=(s=h.length)){if(!i)break e;for(;s++<=p;)h.push(0);u=l=0,r=1,a=(o%=7)-7+1}else{for(u=s=h[p],r=1;s>=10;s/=10)r++;l=(a=(o%=7)-7+r)<0?0:u/y(10,r-a-1)%10|0}if(i=i||t<0||void 0!==h[p+1]||(a<0?u:u%y(10,r-a-1)),c=n<4?(l||i)&&(0==n||n==(e.s<0?3:2)):l>5||5==l&&(4==n||i||6==n&&(o>0?a>0?u/y(10,r-a):0:h[p-1])%10&1||n==(e.s<0?8:7)),t<1||!h[0])return h.length=0,c?(t-=e.e+1,h[0]=y(10,(7-t%7)%7),e.e=-t||0):h[0]=e.e=0,e;if(0==o?(h.length=p,s=1,p--):(h.length=p+1,s=y(10,7-o),h[p]=a>0?(u/y(10,r-a)%y(10,a)|0)*s:0),c)for(;;){if(0==p){for(o=1,a=h[0];a>=10;a/=10)o++;for(a=h[0]+=s,s=1;a>=10;a/=10)s++;o!=s&&(e.e++,h[0]==k&&(h[0]=1));break}if(h[p]+=s,h[p]!=k)break;h[p--]=0,s=1}for(o=h.length;0===h[--o];)h.pop()}return d&&(e.e>f.maxE?(e.d=null,e.e=NaN):e.e<f.minE&&(e.e=0,e.d=[0])),e}function N(e,t,n){if(!e.isFinite())return K(e);var i,r=e.e,o=C(e.d),a=o.length;return t?(n&&(i=n-a)>0?o=o.charAt(0)+"."+o.slice(1)+j(i):a>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(e.e<0?"e":"e+")+e.e):r<0?(o="0."+j(-r-1)+o,n&&(i=n-a)>0&&(o+=j(i))):r>=a?(o+=j(r+1-a),n&&(i=n-r-1)>0&&(o=o+"."+j(i))):((i=r+1)<a&&(o=o.slice(0,i)+"."+o.slice(i)),n&&(i=n-a)>0&&(r+1===a&&(o+="."),o+=j(i))),o}function D(e,t){var n=e[0];for(t*=7;n>=10;n/=10)t++;return t}function P(e,t,n){if(t>w)throw d=!0,n&&(e.precision=n),Error(f);return T(new e(l),t,1,!0)}function q(e,t,n){if(t>S)throw Error(f);return T(new e(c),t,n,!0)}function I(e){var t=e.length-1,n=7*t+1;if(t=e[t]){for(;t%10==0;t/=10)n--;for(t=e[0];t>=10;t/=10)n++}return n}function j(e){for(var t="";e--;)t+="0";return t}function z(e,t,n,i){var r,o=new e(1),a=Math.ceil(i/7+4);for(d=!1;;){if(n%2&&Z((o=o.times(t)).d,a)&&(r=!0),0===(n=g(n/2))){n=o.d.length-1,r&&0===o.d[n]&&++o.d[n];break}Z((t=t.times(t)).d,a)}return d=!0,o}function R(e){return 1&e.d[e.d.length-1]}function F(e,t,n){for(var i,r=new e(t[0]),o=0;++o<t.length;){if(!(i=new e(t[o])).s){r=i;break}r[n](i)&&(r=i)}return r}function $(e,t){var n,i,r,o,a,s,l,c=0,u=0,h=0,p=e.constructor,f=p.rounding,m=p.precision;if(!e.d||!e.d[0]||e.e>17)return new p(e.d?e.d[0]?e.s<0?0:1/0:1:e.s?e.s<0?0:e:NaN);for(null==t?(d=!1,l=m):l=t,s=new p(.03125);e.e>-2;)e=e.times(s),h+=5;for(l+=i=Math.log(y(2,h))/Math.LN10*2+5|0,n=o=a=new p(1),p.precision=l;;){if(o=T(o.times(e),l,1),n=n.times(++u),C((s=a.plus(E(o,n,l,1))).d).slice(0,l)===C(a.d).slice(0,l)){for(r=h;r--;)a=T(a.times(a),l,1);if(null!=t)return p.precision=m,a;if(!(c<3&&O(a.d,l-i,f,c)))return T(a,p.precision=m,f,d=!0);p.precision=l+=10,n=o=s=new p(1),u=0,c++}a=s}}function B(e,t){var n,i,r,o,a,s,l,c,u,h,p,f=1,m=e,g=m.d,y=m.constructor,v=y.rounding,b=y.precision;if(m.s<0||!g||!g[0]||!m.e&&1==g[0]&&1==g.length)return new y(g&&!g[0]?-1/0:1!=m.s?NaN:g?0:m);if(null==t?(d=!1,u=b):u=t,y.precision=u+=10,i=(n=C(g)).charAt(0),!(Math.abs(o=m.e)<15e14))return c=P(y,u+2,b).times(o+""),m=B(new y(i+"."+n.slice(1)),u-10).plus(c),y.precision=b,null==t?T(m,b,v,d=!0):m;for(;i<7&&1!=i||1==i&&n.charAt(1)>3;)i=(n=C((m=m.times(e)).d)).charAt(0),f++;for(o=m.e,i>1?(m=new y("0."+n),o++):m=new y(i+"."+n.slice(1)),h=m,l=a=m=E(m.minus(1),m.plus(1),u,1),p=T(m.times(m),u,1),r=3;;){if(a=T(a.times(p),u,1),C((c=l.plus(E(a,new y(r),u,1))).d).slice(0,u)===C(l.d).slice(0,u)){if(l=l.times(2),0!==o&&(l=l.plus(P(y,u+2,b).times(o+""))),l=E(l,new y(f),u,1),null!=t)return y.precision=b,l;if(!O(l.d,u-10,v,s))return T(l,y.precision=b,v,d=!0);y.precision=u+=10,c=a=m=E(h.minus(1),h.plus(1),u,1),p=T(m.times(m),u,1),r=s=1}l=c,r+=2}}function K(e){return String(e.s*e.s/0)}function W(e,t){var n,i,r;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(i=t.search(/e/i))>0?(n<0&&(n=i),n+=+t.slice(i+1),t=t.substring(0,i)):n<0&&(n=t.length),i=0;48===t.charCodeAt(i);i++);for(r=t.length;48===t.charCodeAt(r-1);--r);if(t=t.slice(i,r)){if(r-=i,e.e=n=n-i-1,e.d=[],i=(n+1)%7,n<0&&(i+=7),i<r){for(i&&e.d.push(+t.slice(0,i)),r-=7;i<r;)e.d.push(+t.slice(i,i+=7));i=7-(t=t.slice(i)).length}else i-=r;for(;i--;)t+="0";e.d.push(+t),d&&(e.e>e.constructor.maxE?(e.d=null,e.e=NaN):e.e<e.constructor.minE&&(e.e=0,e.d=[0]))}else e.e=0,e.d=[0];return e}function V(e,n){var i,r,o,a,s,l,c,u,h;if("Infinity"===n||"NaN"===n)return+n||(e.s=NaN),e.e=NaN,e.d=null,e;if(b.test(n))i=16,n=n.toLowerCase();else if(v.test(n))i=2;else{if(!_.test(n))throw Error(p+n);i=8}for((a=n.search(/p/i))>0?(c=+n.slice(a+1),n=n.substring(2,a)):n=n.slice(2),s=(a=n.indexOf("."))>=0,r=e.constructor,s&&(a=(l=(n=n.replace(".","")).length)-a,o=z(r,new r(i),a,2*a)),a=h=(u=A(n,i,k)).length-1;0===u[a];--a)u.pop();return a<0?new r(0*e.s):(e.e=D(u,h),e.d=u,d=!1,s&&(e=E(e,o,4*l)),c&&(e=e.times(Math.abs(c)<54?y(2,c):t.pow(2,c))),d=!0,e)}function U(e,t,n,i,r){var o,a,s,l,c=e.precision,u=Math.ceil(c/7);for(d=!1,l=n.times(n),s=new e(i);;){if(a=E(s.times(l),new e(t++*t++),c,1),s=r?i.plus(a):i.minus(a),i=E(a.times(l),new e(t++*t++),c,1),void 0!==(a=s.plus(i)).d[u]){for(o=u;a.d[o]===s.d[o]&&o--;);if(-1==o)break}o=s,s=i,i=a,a=o}return d=!0,a.d.length=u+1,a}function H(e,t){for(var n=e;--t;)n*=e;return n}function G(e,t){var n,i=t.s<0,o=q(e,e.precision,1),a=o.times(.5);if((t=t.abs()).lte(a))return r=i?4:1,t;if((n=t.divToInt(o)).isZero())r=i?3:2;else{if((t=t.minus(n.times(o))).lte(a))return r=R(n)?i?2:3:i?4:1,t;r=R(n)?i?1:4:i?3:2}return t.minus(o).abs()}function X(e,t,i,r){var o,l,c,u,d,h,p,f,m,g=e.constructor,y=void 0!==i;if(y?(L(i,1,a),void 0===r?r=g.rounding:L(r,0,8)):(i=g.precision,r=g.rounding),e.isFinite()){for(y?(o=2,16==t?i=4*i-3:8==t&&(i=3*i-2)):o=t,(c=(p=N(e)).indexOf("."))>=0&&(p=p.replace(".",""),(m=new g(1)).e=p.length-c,m.d=A(N(m),10,o),m.e=m.d.length),l=d=(f=A(p,10,o)).length;0==f[--d];)f.pop();if(f[0]){if(c<0?l--:((e=new g(e)).d=f,e.e=l,f=(e=E(e,m,i,r,0,o)).d,l=e.e,h=n),c=f[i],u=o/2,h=h||void 0!==f[i+1],h=r<4?(void 0!==c||h)&&(0===r||r===(e.s<0?3:2)):c>u||c===u&&(4===r||h||6===r&&1&f[i-1]||r===(e.s<0?8:7)),f.length=i,h)for(;++f[--i]>o-1;)f[i]=0,i||(++l,f.unshift(1));for(d=f.length;!f[d-1];--d);for(c=0,p="";c<d;c++)p+=s.charAt(f[c]);if(y){if(d>1)if(16==t||8==t){for(c=16==t?4:3,--d;d%c;d++)p+="0";for(d=(f=A(p,o,t)).length;!f[d-1];--d);for(c=1,p="1.";c<d;c++)p+=s.charAt(f[c])}else p=p.charAt(0)+"."+p.slice(1);p=p+(l<0?"p":"p+")+l}else if(l<0){for(;++l;)p="0"+p;p="0."+p}else if(++l>d)for(l-=d;l--;)p+="0";else l<d&&(p=p.slice(0,l)+"."+p.slice(l))}else p=y?"0p+0":"0";p=(16==t?"0x":2==t?"0b":8==t?"0o":"")+p}else p=K(e);return e.s<0?"-"+p:p}function Z(e,t){if(e.length>t)return e.length=t,!0}function Y(e){return new this(e).abs()}function Q(e){return new this(e).acos()}function J(e){return new this(e).acosh()}function ee(e,t){return new this(e).plus(t)}function te(e){return new this(e).asin()}function ne(e){return new this(e).asinh()}function ie(e){return new this(e).atan()}function re(e){return new this(e).atanh()}function oe(e,t){e=new this(e),t=new this(t);var n,i=this.precision,r=this.rounding,o=i+4;return e.s&&t.s?e.d||t.d?!t.d||e.isZero()?(n=t.s<0?q(this,i,r):new this(0)).s=e.s:!e.d||t.isZero()?(n=q(this,o,1).times(.5)).s=e.s:t.s<0?(this.precision=o,this.rounding=1,n=this.atan(E(e,t,o,1)),t=q(this,o,1),this.precision=i,this.rounding=r,n=e.s<0?n.minus(t):n.plus(t)):n=this.atan(E(e,t,o,1)):(n=q(this,o,1).times(t.s>0?.25:.75)).s=e.s:n=new this(NaN),n}function ae(e){return new this(e).cbrt()}function se(e){return T(e=new this(e),e.e+1,2)}function le(e){if(!e||"object"!=typeof e)throw Error(h+"Object expected");var t,n,i,r=!0===e.defaults,s=["precision",1,a,"rounding",0,8,"toExpNeg",-o,0,"toExpPos",0,o,"maxE",0,o,"minE",-o,0,"modulo",0,9];for(t=0;t<s.length;t+=3)if(n=s[t],r&&(this[n]=u[n]),void 0!==(i=e[n])){if(!(g(i)===i&&i>=s[t+1]&&i<=s[t+2]))throw Error(p+n+": "+i);this[n]=i}if(n="crypto",r&&(this[n]=u[n]),void 0!==(i=e[n])){if(!0!==i&&!1!==i&&0!==i&&1!==i)throw Error(p+n+": "+i);if(i){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw Error(m);this[n]=!0}else this[n]=!1}return this}function ce(e){return new this(e).cos()}function ue(e){return new this(e).cosh()}function de(e,t){return new this(e).div(t)}function he(e){return new this(e).exp()}function pe(e){return T(e=new this(e),e.e+1,3)}function fe(){var e,t,n=new this(0);for(d=!1,e=0;e<arguments.length;)if((t=new this(arguments[e++])).d)n.d&&(n=n.plus(t.times(t)));else{if(t.s)return d=!0,new this(1/0);n=t}return d=!0,n.sqrt()}function me(e){return e instanceof t||e&&"[object Decimal]"===e.name||!1}function ge(e){return new this(e).ln()}function ye(e,t){return new this(e).log(t)}function ve(e){return new this(e).log(2)}function be(e){return new this(e).log(10)}function _e(){return F(this,arguments,"lt")}function xe(){return F(this,arguments,"gt")}function ke(e,t){return new this(e).mod(t)}function we(e,t){return new this(e).mul(t)}function Se(e,t){return new this(e).pow(t)}function Me(e){var t,n,i,r,o=0,s=new this(1),l=[];if(void 0===e?e=this.precision:L(e,1,a),i=Math.ceil(e/7),this.crypto)if(crypto.getRandomValues)for(t=crypto.getRandomValues(new Uint32Array(i));o<i;)(r=t[o])>=429e7?t[o]=crypto.getRandomValues(new Uint32Array(1))[0]:l[o++]=r%1e7;else{if(!crypto.randomBytes)throw Error(m);for(t=crypto.randomBytes(i*=4);o<i;)(r=t[o]+(t[o+1]<<8)+(t[o+2]<<16)+((127&t[o+3])<<24))>=214e7?crypto.randomBytes(4).copy(t,o):(l.push(r%1e7),o+=4);o=i/4}else for(;o<i;)l[o++]=1e7*Math.random()|0;for(e%=7,(i=l[--o])&&e&&(r=y(10,7-e),l[o]=(i/r|0)*r);0===l[o];o--)l.pop();if(o<0)n=0,l=[0];else{for(n=-1;0===l[0];n-=7)l.shift();for(i=1,r=l[0];r>=10;r/=10)i++;i<7&&(n-=7-i)}return s.e=n,s.d=l,s}function Ce(e){return T(e=new this(e),e.e+1,this.rounding)}function Le(e){return(e=new this(e)).d?e.d[0]?e.s:0*e.s:e.s||NaN}function Oe(e){return new this(e).sin()}function Ae(e){return new this(e).sinh()}function Ee(e){return new this(e).sqrt()}function Te(e,t){return new this(e).sub(t)}function Ne(e){return new this(e).tan()}function De(e){return new this(e).tanh()}function Pe(e){return T(e=new this(e),e.e+1,1)}(t=function e(t){var n,i,r;function o(e){var t,n,i,r=this;if(!(r instanceof o))return new o(e);if(r.constructor=o,e instanceof o)return r.s=e.s,void(d?!e.d||e.e>o.maxE?(r.e=NaN,r.d=null):e.e<o.minE?(r.e=0,r.d=[0]):(r.e=e.e,r.d=e.d.slice()):(r.e=e.e,r.d=e.d?e.d.slice():e.d));if("number"==(i=typeof e)){if(0===e)return r.s=1/e<0?-1:1,r.e=0,void(r.d=[0]);if(e<0?(e=-e,r.s=-1):r.s=1,e===~~e&&e<1e7){for(t=0,n=e;n>=10;n/=10)t++;return void(d?t>o.maxE?(r.e=NaN,r.d=null):t<o.minE?(r.e=0,r.d=[0]):(r.e=t,r.d=[e]):(r.e=t,r.d=[e]))}return 0*e!=0?(e||(r.s=NaN),r.e=NaN,void(r.d=null)):W(r,e.toString())}if("string"!==i)throw Error(p+e);return 45===(n=e.charCodeAt(0))?(e=e.slice(1),r.s=-1):(43===n&&(e=e.slice(1)),r.s=1),x.test(e)?W(r,e):V(r,e)}if(o.prototype=M,o.ROUND_UP=0,o.ROUND_DOWN=1,o.ROUND_CEIL=2,o.ROUND_FLOOR=3,o.ROUND_HALF_UP=4,o.ROUND_HALF_DOWN=5,o.ROUND_HALF_EVEN=6,o.ROUND_HALF_CEIL=7,o.ROUND_HALF_FLOOR=8,o.EUCLID=9,o.config=o.set=le,o.clone=e,o.isDecimal=me,o.abs=Y,o.acos=Q,o.acosh=J,o.add=ee,o.asin=te,o.asinh=ne,o.atan=ie,o.atanh=re,o.atan2=oe,o.cbrt=ae,o.ceil=se,o.cos=ce,o.cosh=ue,o.div=de,o.exp=he,o.floor=pe,o.hypot=fe,o.ln=ge,o.log=ye,o.log10=be,o.log2=ve,o.max=_e,o.min=xe,o.mod=ke,o.mul=we,o.pow=Se,o.random=Me,o.round=Ce,o.sign=Le,o.sin=Oe,o.sinh=Ae,o.sqrt=Ee,o.sub=Te,o.tan=Ne,o.tanh=De,o.trunc=Pe,void 0===t&&(t={}),t&&!0!==t.defaults)for(r=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],n=0;n<r.length;)t.hasOwnProperty(i=r[n++])||(t[i]=this[i]);return o.config(t),o}(u)).default=t.Decimal=t,l=new t(l),c=new t(c),oo.exports?("function"==typeof Symbol&&"symbol"==typeof Symbol.iterator&&(M[Symbol.for("nodejs.util.inspect.custom")]=M.toString,M[Symbol.toStringTag]="Decimal"),oo.exports=t):(e||(e="undefined"!=typeof self&&self&&self.self==self?self:window),i=e.Decimal,t.noConflict=function(){return e.Decimal=i,t},e.Decimal=t)}(ao);var lo={exports:{}};
/**
 * @license Complex.js v2.0.13 12/05/2020
 *
 * Copyright (c) 2020, Robert Eisele (robert@xarg.org)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 **/!function(e,t){!function(t){var n=function(e){return.5*(Math.exp(e)+Math.exp(-e))},i=function(e){return.5*(Math.exp(e)-Math.exp(-e))},r=function(){throw SyntaxError("Invalid Param")};function o(e,t){var n=Math.abs(e),i=Math.abs(t);return 0===e?Math.log(i):0===t?Math.log(n):n<3e3&&i<3e3?.5*Math.log(e*e+t*t):Math.log(e/Math.cos(Math.atan2(t,e)))}function a(e,t){if(!(this instanceof a))return new a(e,t);var n=function(e,t){var n={re:0,im:0};if(null==e)n.re=n.im=0;else if(void 0!==t)n.re=e,n.im=t;else switch(typeof e){case"object":if("im"in e&&"re"in e)n.re=e.re,n.im=e.im;else if("abs"in e&&"arg"in e){if(!Number.isFinite(e.abs)&&Number.isFinite(e.arg))return a.INFINITY;n.re=e.abs*Math.cos(e.arg),n.im=e.abs*Math.sin(e.arg)}else if("r"in e&&"phi"in e){if(!Number.isFinite(e.r)&&Number.isFinite(e.phi))return a.INFINITY;n.re=e.r*Math.cos(e.phi),n.im=e.r*Math.sin(e.phi)}else 2===e.length?(n.re=e[0],n.im=e[1]):r();break;case"string":n.im=n.re=0;var i=e.match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g),o=1,s=0;null===i&&r();for(var l=0;l<i.length;l++){var c=i[l];" "===c||"\t"===c||"\n"===c||("+"===c?o++:"-"===c?s++:"i"===c||"I"===c?(o+s===0&&r()," "===i[l+1]||isNaN(i[l+1])?n.im+=parseFloat((s%2?"-":"")+"1"):(n.im+=parseFloat((s%2?"-":"")+i[l+1]),l++),o=s=0):((o+s===0||isNaN(c))&&r(),"i"===i[l+1]||"I"===i[l+1]?(n.im+=parseFloat((s%2?"-":"")+c),l++):n.re+=parseFloat((s%2?"-":"")+c),o=s=0))}o+s>0&&r();break;case"number":n.im=0,n.re=e;break;default:r()}return isNaN(n.re)||isNaN(n.im),n}(e,t);this.re=n.re,this.im=n.im}a.prototype={re:0,im:0,sign:function(){var e=this.abs();return new a(this.re/e,this.im/e)},add:function(e,t){var n=new a(e,t);return this.isInfinite()&&n.isInfinite()?a.NAN:this.isInfinite()||n.isInfinite()?a.INFINITY:new a(this.re+n.re,this.im+n.im)},sub:function(e,t){var n=new a(e,t);return this.isInfinite()&&n.isInfinite()?a.NAN:this.isInfinite()||n.isInfinite()?a.INFINITY:new a(this.re-n.re,this.im-n.im)},mul:function(e,t){var n=new a(e,t);return this.isInfinite()&&n.isZero()||this.isZero()&&n.isInfinite()?a.NAN:this.isInfinite()||n.isInfinite()?a.INFINITY:0===n.im&&0===this.im?new a(this.re*n.re,0):new a(this.re*n.re-this.im*n.im,this.re*n.im+this.im*n.re)},div:function(e,t){var n=new a(e,t);if(this.isZero()&&n.isZero()||this.isInfinite()&&n.isInfinite())return a.NAN;if(this.isInfinite()||n.isZero())return a.INFINITY;if(this.isZero()||n.isInfinite())return a.ZERO;e=this.re,t=this.im;var i,r,o=n.re,s=n.im;return 0===s?new a(e/o,t/o):Math.abs(o)<Math.abs(s)?new a((e*(r=o/s)+t)/(i=o*r+s),(t*r-e)/i):new a((e+t*(r=s/o))/(i=s*r+o),(t-e*r)/i)},pow:function(e,t){var n=new a(e,t);if(e=this.re,t=this.im,n.isZero())return a.ONE;if(0===n.im){if(0===t&&e>0)return new a(Math.pow(e,n.re),0);if(0===e)switch((n.re%4+4)%4){case 0:return new a(Math.pow(t,n.re),0);case 1:return new a(0,Math.pow(t,n.re));case 2:return new a(-Math.pow(t,n.re),0);case 3:return new a(0,-Math.pow(t,n.re))}}if(0===e&&0===t&&n.re>0&&n.im>=0)return a.ZERO;var i=Math.atan2(t,e),r=o(e,t);return e=Math.exp(n.re*r-n.im*i),t=n.im*r+n.re*i,new a(e*Math.cos(t),e*Math.sin(t))},sqrt:function(){var e,t,n=this.re,i=this.im,r=this.abs();if(n>=0){if(0===i)return new a(Math.sqrt(n),0);e=.5*Math.sqrt(2*(r+n))}else e=Math.abs(i)/Math.sqrt(2*(r-n));return t=n<=0?.5*Math.sqrt(2*(r-n)):Math.abs(i)/Math.sqrt(2*(r+n)),new a(e,i<0?-t:t)},exp:function(){var e=Math.exp(this.re);return this.im,new a(e*Math.cos(this.im),e*Math.sin(this.im))},expm1:function(){var e=this.re,t=this.im;return new a(Math.expm1(e)*Math.cos(t)+function(e){var t=Math.PI/4;if(e<-t||e>t)return Math.cos(e)-1;var n=e*e;return n*(n*(1/24+n*(-1/720+n*(1/40320+n*(-1/3628800+n*(1/4790014600+n*(-1/87178291200+n*(1/20922789888e3)))))))-.5)}(t),Math.exp(e)*Math.sin(t))},log:function(){var e=this.re,t=this.im;return new a(o(e,t),Math.atan2(t,e))},abs:function(){return e=this.re,t=this.im,n=Math.abs(e),i=Math.abs(t),n<3e3&&i<3e3?Math.sqrt(n*n+i*i):(n<i?(n=i,i=e/t):i=t/e,n*Math.sqrt(1+i*i));var e,t,n,i},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){var e=this.re,t=this.im;return new a(Math.sin(e)*n(t),Math.cos(e)*i(t))},cos:function(){var e=this.re,t=this.im;return new a(Math.cos(e)*n(t),-Math.sin(e)*i(t))},tan:function(){var e=2*this.re,t=2*this.im,r=Math.cos(e)+n(t);return new a(Math.sin(e)/r,i(t)/r)},cot:function(){var e=2*this.re,t=2*this.im,r=Math.cos(e)-n(t);return new a(-Math.sin(e)/r,i(t)/r)},sec:function(){var e=this.re,t=this.im,r=.5*n(2*t)+.5*Math.cos(2*e);return new a(Math.cos(e)*n(t)/r,Math.sin(e)*i(t)/r)},csc:function(){var e=this.re,t=this.im,r=.5*n(2*t)-.5*Math.cos(2*e);return new a(Math.sin(e)*n(t)/r,-Math.cos(e)*i(t)/r)},asin:function(){var e=this.re,t=this.im,n=new a(t*t-e*e+1,-2*e*t).sqrt(),i=new a(n.re-t,n.im+e).log();return new a(i.im,-i.re)},acos:function(){var e=this.re,t=this.im,n=new a(t*t-e*e+1,-2*e*t).sqrt(),i=new a(n.re-t,n.im+e).log();return new a(Math.PI/2-i.im,i.re)},atan:function(){var e=this.re,t=this.im;if(0===e){if(1===t)return new a(0,1/0);if(-1===t)return new a(0,-1/0)}var n=e*e+(1-t)*(1-t),i=new a((1-t*t-e*e)/n,-2*e/n).log();return new a(-.5*i.im,.5*i.re)},acot:function(){var e=this.re,t=this.im;if(0===t)return new a(Math.atan2(1,e),0);var n=e*e+t*t;return 0!==n?new a(e/n,-t/n).atan():new a(0!==e?e/0:0,0!==t?-t/0:0).atan()},asec:function(){var e=this.re,t=this.im;if(0===e&&0===t)return new a(0,1/0);var n=e*e+t*t;return 0!==n?new a(e/n,-t/n).acos():new a(0!==e?e/0:0,0!==t?-t/0:0).acos()},acsc:function(){var e=this.re,t=this.im;if(0===e&&0===t)return new a(Math.PI/2,1/0);var n=e*e+t*t;return 0!==n?new a(e/n,-t/n).asin():new a(0!==e?e/0:0,0!==t?-t/0:0).asin()},sinh:function(){var e=this.re,t=this.im;return new a(i(e)*Math.cos(t),n(e)*Math.sin(t))},cosh:function(){var e=this.re,t=this.im;return new a(n(e)*Math.cos(t),i(e)*Math.sin(t))},tanh:function(){var e=2*this.re,t=2*this.im,r=n(e)+Math.cos(t);return new a(i(e)/r,Math.sin(t)/r)},coth:function(){var e=2*this.re,t=2*this.im,r=n(e)-Math.cos(t);return new a(i(e)/r,-Math.sin(t)/r)},csch:function(){var e=this.re,t=this.im,r=Math.cos(2*t)-n(2*e);return new a(-2*i(e)*Math.cos(t)/r,2*n(e)*Math.sin(t)/r)},sech:function(){var e=this.re,t=this.im,r=Math.cos(2*t)+n(2*e);return new a(2*n(e)*Math.cos(t)/r,-2*i(e)*Math.sin(t)/r)},asinh:function(){var e=this.im;this.im=-this.re,this.re=e;var t=this.asin();return this.re=-this.im,this.im=e,e=t.re,t.re=-t.im,t.im=e,t},acosh:function(){var e=this.acos();if(e.im<=0){var t=e.re;e.re=-e.im,e.im=t}else t=e.im,e.im=-e.re,e.re=t;return e},atanh:function(){var e=this.re,t=this.im,n=e>1&&0===t,i=1-e,r=1+e,s=i*i+t*t,l=0!==s?new a((r*i-t*t)/s,(t*i+r*t)/s):new a(-1!==e?e/0:0,0!==t?t/0:0),c=l.re;return l.re=o(l.re,l.im)/2,l.im=Math.atan2(l.im,c)/2,n&&(l.im=-l.im),l},acoth:function(){var e=this.re,t=this.im;if(0===e&&0===t)return new a(0,Math.PI/2);var n=e*e+t*t;return 0!==n?new a(e/n,-t/n).atanh():new a(0!==e?e/0:0,0!==t?-t/0:0).atanh()},acsch:function(){var e=this.re,t=this.im;if(0===t)return new a(0!==e?Math.log(e+Math.sqrt(e*e+1)):1/0,0);var n=e*e+t*t;return 0!==n?new a(e/n,-t/n).asinh():new a(0!==e?e/0:0,0!==t?-t/0:0).asinh()},asech:function(){var e=this.re,t=this.im;if(this.isZero())return a.INFINITY;var n=e*e+t*t;return 0!==n?new a(e/n,-t/n).acosh():new a(0!==e?e/0:0,0!==t?-t/0:0).acosh()},inverse:function(){if(this.isZero())return a.INFINITY;if(this.isInfinite())return a.ZERO;var e=this.re,t=this.im,n=e*e+t*t;return new a(e/n,-t/n)},conjugate:function(){return new a(this.re,-this.im)},neg:function(){return new a(-this.re,-this.im)},ceil:function(e){return e=Math.pow(10,e||0),new a(Math.ceil(this.re*e)/e,Math.ceil(this.im*e)/e)},floor:function(e){return e=Math.pow(10,e||0),new a(Math.floor(this.re*e)/e,Math.floor(this.im*e)/e)},round:function(e){return e=Math.pow(10,e||0),new a(Math.round(this.re*e)/e,Math.round(this.im*e)/e)},equals:function(e,t){var n=new a(e,t);return Math.abs(n.re-this.re)<=a.EPSILON&&Math.abs(n.im-this.im)<=a.EPSILON},clone:function(){return new a(this.re,this.im)},toString:function(){var e=this.re,t=this.im,n="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":(Math.abs(e)<a.EPSILON&&(e=0),Math.abs(t)<a.EPSILON&&(t=0),0===t?n+e:(0!==e?(n+=e,n+=" ",t<0?(t=-t,n+="-"):n+="+",n+=" "):t<0&&(t=-t,n+="-"),1!==t&&(n+=t),n+"i"))},toVector:function(){return[this.re,this.im]},valueOf:function(){return 0===this.im?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return 0===this.im&&0===this.re},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!(this.isNaN()||this.isFinite())}},a.ZERO=new a(0,0),a.ONE=new a(1,0),a.I=new a(0,1),a.PI=new a(Math.PI,0),a.E=new a(Math.E,0),a.INFINITY=new a(1/0,1/0),a.NAN=new a(NaN,NaN),a.EPSILON=1e-15,Object.defineProperty(a,"__esModule",{value:!0}),a.default=a,a.Complex=a,e.exports=a}()}(lo),new so.exports.Decimal(0),new so.exports.Decimal(1),new so.exports.Decimal(-1),new so.exports.Decimal(NaN),new so.exports.Decimal(1/0),new so.exports.Decimal(-1/0),[.9999999999998099,676.5203681218851,-1259.1392167224028,771.3234287776531,-176.6150291621406,12.507343278686905,-.13857109526572012,9984369578019572e-21,1.5056327351493116e-7].map(e=>new so.exports.Decimal(e)),new so.exports.Decimal(607).div(128),[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22].map(e=>new so.exports.Decimal(e));const co="List",uo="Missing",ho="Nothing",po="Add",fo="Divide",mo="Multiply",go="Power";function yo(e){return null!==e&&"object"==typeof e&&"num"in e}function vo(e){return null!==e&&"object"==typeof e&&"sym"in e}function bo(e){return null!==e&&"object"==typeof e&&"fn"in e}function _o(e){if("number"==typeof e)return e;if(null===e)return null;if(yo(e))return e.num.endsWith("d")||e.num.endsWith("n")?null:parseFloat(e.num);const t=Co(e);return null===t?null:"NaN"===t?NaN:"+Infinity"===t?1/0:"-Infinity"===t?-1/0:"Complex"===Mo(e)&&0===_o(Ao(e,2))?_o(Ao(e,1)):null}function xo(e){return null===e?null:"object"==typeof e&&"str"in e?e.str:"string"!=typeof e||e.length<2||"'"!==e[0]||"'"!==e[e.length-1]?null:e.substring(1,e.length-1)}function ko(e){var t,n,i,r,o,a;const s=Co(e);if("ThreeQuarter"===s)return[3,4];if("TwoThird"===s)return[2,3];if("Half"===s)return[1,2];if("Third"===s)return[1,3];if("Quarter"===s)return[1,4];if(So(e))return[null,null];const l=Mo(e);if(!l)return[null,null];let c=null,u=null;if(l===go){const i=_o(Ao(e,2));1===i?(c=null!==(t=_o(Ao(e,1)))&&void 0!==t?t:null,u=1):-1===i&&(c=1,u=null!==(n=_o(Ao(e,1)))&&void 0!==n?n:null)}return l===fo&&(c=null!==(i=_o(Ao(e,1)))&&void 0!==i?i:null,u=null!==(r=_o(Ao(e,2)))&&void 0!==r?r:null),l===mo&&Mo(Ao(e,2))===go&&-1===_o(Ao(Ao(e,2),2))&&(c=null!==(o=_o(Ao(e,1)))&&void 0!==o?o:null,u=null!==(a=_o(Ao(Ao(e,2),1)))&&void 0!==a?a:null),null===c||null===u?[null,null]:Number.isInteger(c)&&Number.isInteger(u)?[c,u]:[null,null]}function wo(e){return null===e?null:Array.isArray(e)?e[0]:bo(e)?e.fn[0]:null}function So(e){return null===e||!Array.isArray(e)&&("object"!=typeof e||!("fn"in e||"dic"in e))}function Mo(e){if(null===e)return"";const t=wo(e);return"string"==typeof t?t:""}function Co(e){return null===e?null:"string"==typeof e?e.length>=2&&"'"===e[0]&&"'"===e[e.length-1]?null:e:vo(e)?e.sym:null}function Lo(e){return Array.isArray(e)?e.slice(1):bo(e)?e.fn.slice(1):[]}function Oo(e,t){let n=null;if(Array.isArray(e)&&(n=e),bo(e)&&(n=e.fn),null===n)return[];let i=1;const r=[];for(;i<n.length;)r.push(t(n[i])),i+=1;return r}function Ao(e,t){var n,i;return null===e?null:Array.isArray(e)?null!==(n=e[t])&&void 0!==n?n:null:bo(e)&&null!==(i=e.fn[t])&&void 0!==i?i:null}function Eo(e){return Array.isArray(e)?Math.max(0,e.length-1):bo(e)?Math.max(0,e.fn.length-1):0}function To(e){return"object"==typeof e&&"dict"in e?e.dict:null}const No=[{name:"Overscript",trigger:{infix:"\\overset"},precedence:700},{name:"Underscript",trigger:{infix:"\\underset"},precedence:700},{name:"Increment",trigger:{postfix:["+","+"]},precedence:880},{name:"Decrement",trigger:{postfix:["-","-"]},precedence:880},{name:"PreIncrement",trigger:{prefix:["+","+"]},precedence:880},{name:"PreDecrement",trigger:{prefix:["-","-"]},precedence:880},{name:"Ring",trigger:{infix:"\\circ"},precedence:265},{name:"Transpose",trigger:{superfix:"T"}},{name:"ConjugateTranspose",trigger:{superfix:"H"}},{name:"StringJoin",trigger:{infix:["\\lt","\\gt"]},precedence:780},{name:"Starstar",trigger:{infix:["\\star","\\star"]},precedence:780},{name:"PartialDerivative",trigger:{prefix:"\\partial"},parse:(e,t,n)=>{var i,r;let o=!1,a=ho,s=ho;for(;!o;)t.skipSpace(),t.match("_")?s=t.matchRequiredLatexArgument():t.match("^")?a=t.matchRequiredLatexArgument():o=!0;if("Sequence"===Mo(s)&&(s=[co,...Lo(s)]),!s||!a)return[e,null];let l=null!==(i=t.matchRequiredLatexArgument())&&void 0!==i?i:ho;return l!==ho&&(l=[l,...null!==(r=t.matchArguments("group"))&&void 0!==r?r:ho]),[null,["PartialDerivative",l,s,a]]},serialize:(e,t)=>{let n="\\partial";const i=Ao(t,1),r=Ao(t,2),o=Ao(t,3);return null!==r&&r!==ho&&(wo(r)===co?n+="_{"+e.serialize(["Sequence",...Lo(r)])+"}":n+="_{"+e.serialize(r)+"}"),null!==o&&o!==ho&&(n+="^{"+e.serialize(o)+"}"),null!==i&&i!==ho&&(n+=e.serialize(i)),n},precedence:740},{name:"OverBar",trigger:{symbol:"\\overline"},requiredLatexArg:1},{name:"UnderBar",trigger:{symbol:"\\underline"},requiredLatexArg:1},{name:"OverVector",trigger:{symbol:"\\vec"},requiredLatexArg:1},{name:"OverTile",trigger:{symbol:"\\tilde"},requiredLatexArg:1},{name:"OverHat",trigger:{symbol:"\\hat"},requiredLatexArg:1},{name:"OverHat",trigger:{symbol:"\\hat"},requiredLatexArg:1},{name:"OverRightArrow",trigger:{symbol:"\\overrightarrow"},requiredLatexArg:1},{name:"OverLeftArrow",trigger:{symbol:"\\overleftarrow"},requiredLatexArg:1},{name:"OverRightDoubleArrow",trigger:{symbol:"\\Overrightarrow"},requiredLatexArg:1},{name:"OverLeftHarpoon",trigger:{symbol:"\\overleftharpoon"},requiredLatexArg:1},{name:"OverRightHarpoon",trigger:{symbol:"\\overrightharpoon"},requiredLatexArg:1},{name:"OverLeftRightArrow",trigger:{symbol:"\\overleftrightarrow"},requiredLatexArg:1},{name:"OverBrace",trigger:{symbol:"\\overbrace"},requiredLatexArg:1},{name:"OverLineSegment",trigger:{symbol:"\\overlinesegment"},requiredLatexArg:1},{name:"OverGroup",trigger:{symbol:"\\overgroup"},requiredLatexArg:1}];function Do(e,t){return t>2?"solidus":"radical"}function Po(e){return"<space>"===e||"\\qquad"===e||"\\quad"===e||"\\enskip"===e||"\\;"===e||"\\,"===e||"\\ "===e||"~"===e}function qo(e,t,n){return(i,r,o)=>{if(o>=t)return[i,null];r.skipSpace(),r.match(n),"Missing"===i&&(i=ho);const a=[e,null!=i?i:ho];let s=!1;for(;!s;){for(s=!0,r.skipSpace();r.match(n);)a.push(ho),r.skipSpace();if(r.atEnd)a.push(ho);else{const e=r.matchExpression(t);a.push(null!=e?e:ho),s=null===e}s||(r.skipSpace(),s=!r.match(n))}return[null,a]}}function Io(e){return(t,n)=>Lo(n).map(e=>t.serialize(e)).join(e)}const jo=[{name:"LatexTokens",serialize:function(e,t){return Lo(t).map(t=>{const n=xo(t);return null===n?e.serialize(t):"<{>"===n?"{":"<}>"===n?"}":"<$>"===n?"$":"<$$>"===n?"$$":"<space>'"===n?" ":n}).join("")}},{name:"Parentheses",trigger:{matchfix:"("},parse:(e,t,n)=>{var i;const r=t.index;if(!t.match("("))return[e,null];let o=!1,a=!0,s=!1,l=0,c="";for(;!o&&a;){const e=t.next();t.atEnd||")"===e?o=!0:"\\mathtt"===e?(t.match("<{>"),s=!0):Po(e)||(/^[0-9a-zA-Z]$/.test(e)?(l=Math.max(l,parseInt(e,36)),c+=e):a=!1),s&&t.match("<}>")}if(t.skipSpace(),a&&t.match("_")){const n=null!==(i=_o(t.matchRequiredLatexArgument()))&&void 0!==i?i:NaN;return!isFinite(n)||n<2||n>36||l>=n?(t.onError({code:"base-out-of-range"}),[e,ho]):[e,["BaseForm",parseInt(c,n),n]]}t.index=r;const u=t.matchBalancedExpression("(",")",t.onError);return u?"Sequence"===Mo(u)?[e,["Parentheses",...Lo(u)]]:[e,["Parentheses",u]]:[e,["Parentheses"]]},serialize:(e,t)=>e.wrapString(Io(",")(e,t),(e.level,"paren")),separator:",",closeFence:")",precedence:20},{name:co,trigger:{matchfix:"\\lbrack"},separator:",",closeFence:"\\rbrack",precedence:20,parse:(e,t,n)=>{if(null===e){const n=t.matchBalancedExpression("\\lbrack","\\rbrack",t.onError);return n?"Sequence"===Mo(n)?[e,[co,...Lo(n)]]:[e,[co,n]]:[null,[co]]}return[e,null]}},{name:"BaseForm",serialize:(e,t)=>{var n,i;const r=null!==(n=_o(Ao(t,2)))&&void 0!==n?n:NaN;if(isFinite(r)&&r>=2&&r<=36){const e=null!==(i=_o(Ao(t,1)))&&void 0!==i?i:NaN;if(isFinite(e)){let t=Number(e).toString(r),n=0;if(2===r||10===r?n=4:16===r?n=2:r>16&&(n=4),n>0){const e=t;t="";for(let i=0;i<e.length;i++)i>0&&i%n==0&&(t="\\, "+t),t=e[e.length-i-1]+t}return`(\\mathtt{${t}})_{${r}}`}}return"\\operatorname{BaseForm}("+e.serialize(Ao(t,1))+", "+e.serialize(Ao(t,2))+")"}},{name:"Set",trigger:{matchfix:"\\lbrace"},separator:",",closeFence:"\\rbrace",precedence:20},{name:"Sequence",trigger:{infix:","},parse:qo("Sequence",20,","),serialize:Io(", "),precedence:20},{name:"Sequence2",trigger:{infix:";"},parse:qo("Sequence2",19,";"),serialize:Io("; "),precedence:19},{name:uo,trigger:"\\placeholder",serialize:"\\placeholder",requiredLatexArg:1},{name:"Subscript",trigger:{infix:"_"},precedence:720,serialize:(e,t)=>2===Eo(t)?e.serialize(Ao(t,1))+"_{"+e.serialize(Ao(t,2))+"}":"_{"+e.serialize(Ao(t,1))+"}",parse:(e,t,n)=>{var i;if(!t.match("_"))return[e,null];const r=null!==(i=t.matchRequiredLatexArgument())&&void 0!==i?i:uo;return e?[null,["Subscript",e,r]]:[null,["Subscript",r]]}},{name:"Superplus",trigger:{superfix:"+"}},{name:"Subplus",trigger:{subfix:"+"}},{name:"Superminus",trigger:{superfix:"-"}},{name:"Subminus",trigger:{subfix:"-"}},{name:"Superstar",trigger:{superfix:"*"}},{name:"Superstar",trigger:{superfix:"\\star"}},{name:"Substar",trigger:{subfix:"*"}},{name:"Substar",trigger:{subfix:"\\star"}},{name:"Superdagger",trigger:{superfix:"\\dagger"}},{name:"Superdagger",trigger:{superfix:"\\dag"}},{name:"Prime",trigger:{superfix:"\\prime"},arguments:"group"},{trigger:{superfix:"\\doubleprime"},parse:(e,t)=>[null,["Prime",null!=e?e:ho,2]],arguments:"group"},{name:"InverseFunction",serialize:(e,t)=>e.serialize(Ao(t,1))+"^{-1}"},{name:"Derivative",trigger:"D",parse:(e,t)=>[e,["Derivative",1]],serialize:(e,t)=>{var n;const i=null!==(n=_o(Ao(t,1)))&&void 0!==n?n:NaN;if(!isFinite(i))return"";const r=e.serialize(Ao(t,2));return 1===i?r+"^{\\prime}":2===i?r+"^{\\doubleprime}":r+"^{("+Number(i).toString()+")}"}},{name:"Piecewise",trigger:{environment:"cases"},parse:(e,t)=>{var n;return[e,["Piecewise",null!==(n=t.matchTabular())&&void 0!==n?n:ho]]},serialize:(e,t)=>{if(Mo(Ao(t,1))!==co)return"";const n=Lo(Ao(t,1));let i="",r="";for(const o of n){i+=r;const t=Ao(o,1);if(null!==t){i+=e.serialize(t);const n=Ao(o,2);null!==n&&(i+="&"+e.serialize(n))}r="\\\\"}return"\\begin{cases}"+i+"\\end{cases}"}}];function zo(e){var t,n,i,r;if("number"==typeof(e=Ro(e)))return-e;if(e&&yo(e))return"-"===e.num[0]?{num:e.num.slice(1)}:"+"===e.num[0]?{num:"-"+e.num.slice(1)}:{num:"-"+e.num};if(e instanceof so.exports.Decimal)return e.mul(-1);if(e instanceof lo.exports.Complex)return e.mul(-1);const o=Mo(e),a=Eo(e);if("Negate"===o&&1===a)return null!==(t=Ao(e,1))&&void 0!==t?t:uo;if(o===mo){const t=zo(null!==(n=Ao(e,1))&&void 0!==n?n:uo);return[mo,t,...Lo(e).slice(1)]}return o===po?[po,...Oo(e,zo)]:"Subtract"===o?["Subtract",null!==(i=Ao(e,2))&&void 0!==i?i:uo,null!==(r=Ao(e,1))&&void 0!==r?r:uo]:"Parentheses"===o&&1===a?zo(Ao(Ao(e,1),1)):["Negate",null!=e?e:uo]}function Ro(e){return null===e?ho:So(e)?e:"Parentheses"===wo(e)&&1===Eo(e)?Ro(Ao(e,1)):function(e,t){const n=wo(e);if(null!==n)return[t(n),...Lo(e).map(t)];const i=To(e);if(null!==i){const e=Object.keys(i),n={};for(const r of e)n[r]=t(i[r]);return{dict:n}}return t(e)}(e,Ro)}function Fo(e,t,n,i){return null===n?"\\sqrt{}":(i=null!=i?i:2,"solidus"===t?e.wrapShort(n)+"^{1\\/"+e.serialize(i)+"}":"quotient"===t?e.wrapShort(n)+"^{\\frac{1}{"+e.serialize(i)+"}}":2===_o(i)?"\\sqrt{"+e.serialize(n)+"}":"\\sqrt["+e.serialize(i)+"]{"+e.serialize(n)+"}")}function $o(e,t,n){if(!t.match("\\sqrt"))return[e,null];const i=t.matchOptionalLatexArgument(),r=t.matchRequiredLatexArgument();return null===r?null!==i?[e,["Root",ho,i]]:[e,["Sqrt"]]:null!==i?[e,["Root",r,i]]:[e,["Sqrt",r]]}function Bo(e,t,n){if(276<n)return[e,null];const i=t.index;if(!t.match("-"))return[e,null];const r=t.matchExpression(null===e?400:277);return null===r?(t.index=i,[e,null]):null===e?[null,["Negate",r]]:[null,["Subtract",e,r]]}function Ko(e,t){var n;if(null===t)return"";e.level-=1;let i="";const[r,o]=function(e){var t,n,i,r,o,a;if(Mo(e)!==mo)return[[],[]];const s=[],l=[],c=Lo(e);for(const u of c)if(Mo(u)===go)if("Negate"===Mo(Ao(u,2))){const e=null!==(t=Ao(u,1))&&void 0!==t?t:ho,i=null!==(n=Ao(Ao(u,2),1))&&void 0!==n?n:ho;l.push([go,e,i])}else{const e=null!==(i=_o(Ao(u,2)))&&void 0!==i?i:NaN;-1===e?l.push(null!==(r=Ao(u,1))&&void 0!==r?r:ho):e<0?l.push([go,null!==(o=Ao(u,1))&&void 0!==o?o:ho,null!==(a=zo(Ao(u,2)))&&void 0!==a?a:ho]):s.push(u)}else s.push(u);return[s,l]}(t);if(o.length>0&&(i=1===o.length&&1===o[0]?0===r.length?"1":1===r.length?e.serialize(r[0]):Ko(e,[mo,...r]):e.serialize([fo,1===r.length?r[0]:[mo,...r],1===o.length?o[0]:[mo,...o]])),i)return e.level+=1,i;let a=!1,s=null;const l=Eo(t)+1;let c=!1;for(let u=1;u<l;u++)if(s=Ao(t,u),null!==s){let t;"number"==typeof s||yo(s)?(t=e.serialize(s),"-1"!==t||i?("-"===t[0]&&(t=t.slice(1),a=!a),i=i?io([i,e.options.multiply,t]):t):i="-",c=!0):Mo(s)!==go||isNaN(null!==(n=_o(Ao(s,1)))&&void 0!==n?n:NaN)?("Negate"===Mo(s)&&(s=Ao(s,1),a=!a),t=e.wrap(s,390),i=i?c&&Mo(s)===fo?io([i,"\\times",t]):e.options.invisibleMultiply?io([i,e.options.invisibleMultiply,t]):io([i,t]):t,c=!1):(i=i?io([i,e.options.multiply,e.serialize(s)]):e.serialize(s),c=!0)}return e.level+=1,a?"-"+i:i}function Wo(e,t){if(null===t)return"";if(1===Eo(t))return e.serialize(Ao(t,1));const n=e.level>3?"inline-solidus":"quotient";if("inline-solidus"===n||"nice-solidus"===n){const i=e.wrapShort(Ao(t,1)),r=e.wrapShort(Ao(t,2));return"nice-solidus"===n?`^{${i}}\\!\\!/\\!_{${r}}`:`${i}\\/${r}`}return"reciprocal"===n?e.wrap(Ao(t,1))+e.wrap(Ao(t,2))+"^{-1}":"factor"===n?"\\frac{1}{"+e.serialize(Ao(t,2))+"}"+e.wrap(Ao(t,1)):"\\frac{"+e.serialize(Ao(t,1))+"}{"+e.serialize(Ao(t,2))+"}"}function Vo(e,t){var n;const i=Ao(t,1),r=Ao(t,2);if(null===r)return e.serialize(i);if(null===i)return"";const o=Mo(t);if("Sqrt"===o||"Root"===o)return Fo(e,Do(0,e.level),Ao(t,1),Ao(t,2));const a=null!==(n=_o(r))&&void 0!==n?n:1;if(-1===a)return e.serialize([fo,"1",i]);if(a<0)return e.serialize([fo,"1",[go,i,-a]]);if(Mo(r)===fo){if(1===_o(Ao(r,1)))return Fo(e,Do(0,e.level),i,Ao(r,2))}else if(Mo(r)===go&&-1===_o(Ao(r,2)))return Fo(e,Do(0,e.level),i,Ao(r,1));return e.wrapShort(i)+"^{"+e.serialize(r)+"}"}function Uo(e,t,n){var i;const r=t.next();let o=!1,a=0;if(t.skipSpace(),t.match("^")){if(t.skipSpace(),t.match("<{>")){t.skipSpace(),t.match("-")&&t.match("1")&&(o=!0);do{t.match("\\doubleprime")&&(a+=2),t.match("\\prime")&&(a+=1),t.match("'")&&(a+=1)}while(!t.match("<}>")&&!t.atEnd)}let e=!1;for(;!e;)t.skipSpace(),t.match("\\doubleprime")?a+=2:t.match("\\prime")||t.match("'")?a+=1:e=!0}let s=null!==(i={"\\arcsin":"Arcsin","\\arccos":"Arccos","\\arctan":"Arctan","\\arctg":"Arctan","\\arcctg":"Arctan","\\arcsec":"Arcsec","\\arccsc":" Arccsc","\\arsinh":"Arsinh","\\arcosh":"Arcosh","\\artanh":"Artanh","\\arcsech":"Arcsech","\\arccsch":"Arcsch","\\ch":"Cosh","\\cos":"Cos","\\cosec":"Csc","\\cosh":"Csch","\\cot":"Cot","\\cotg":"Cot","\\coth":"Coth","\\csc":"Csc","\\ctg":"Cot","\\cth":"Coth","\\sec":"Sec","\\sin":"Sin","\\sinh":"Sinh","\\sh":"Sinh","\\tan":"Tan","\\tanh":"Tanh","\\tg":"Tan","\\th":"Tanh"}[r])&&void 0!==i?i:r;o&&(s=["InverseFunction",s]),a>=1&&(s=["Derivative",a,s]);const l=t.matchArguments("implicit");return null===l?[null,s]:[null,[s,...l]]}function Ho(e){return ro(e)}Number.EPSILON.toString();const Go={algebra:[{name:"To",trigger:{infix:"\\to"},precedence:270}],arithmetic:[{name:"ThreeQuarter",serialize:"\\frac{3}{4}"},{name:"TwoThird",serialize:"\\frac{2}{3}"},{name:"Half",serialize:"\\frac{1}{2}"},{name:"Third",serialize:"\\frac{1}{3}"},{name:"Quarter",serialize:"\\frac{1}{4}"},{name:"CatalanConstant",serialize:"G"},{name:"GoldenRatio",serialize:"\\varphi"},{name:"EulerGamma",serialize:"\\gamma"},{name:"Degrees",serialize:"\\frac{\\pi}{180}"},{name:"MinusDoublePi",serialize:"-2\\pi"},{name:"MinusPi",serialize:"-\\pi"},{name:"MinusHalfPi",serialize:"-\\frac{\\pi}{2}"},{name:"QuarterPi",serialize:"\\frac{\\pi}{4}"},{name:"ThirdPi",serialize:"\\frac{\\pi}{3}"},{name:"HalfPi",serialize:"\\frac{\\pi}{2}"},{name:"TwoThirdPi",serialize:"\\frac{2\\pi}{3}"},{name:"ThreeQuarterPi",serialize:"\\frac{3\\pi}{4}"},{name:"DoublePi",serialize:"2\\pi"},{name:"Complex",precedence:275,serialize:(e,t)=>{const n=_o(Ao(t,1)),i=_o(Ao(t,2));if(0===i)return e.serialize(Ao(t,1));const r=1===i?"\\imaginaryI":-1===i?"-\\imaginaryI":io([e.serialize(Ao(t,2)),"\\imaginaryI"]);return 0===n?r:io([e.serialize(Ao(t,1)),"+",r])}},{name:"Exp",serialize:(e,t)=>{var n;return io(["\\exponentialE^{",e.serialize(null!==(n=Ao(t,1))&&void 0!==n?n:ho),"}"])}},{name:"Square",serialize:(e,t)=>e.wrapShort(Ao(t,1))+"^2"},{trigger:{symbol:"\\infty"},parse:{num:"+Infinity"}},{name:"ComplexInfinity",trigger:{symbol:["\\tilde","\\infty"]},serialize:"\\tilde\\infty"},{name:"ComplexInfinity",trigger:{symbol:["\\tilde","<{>","\\infty","<}>"]},serialize:"\\tilde\\infty"},{name:"Pi",trigger:{symbol:"\\pi"}},{name:"Pi",trigger:{symbol:"Ï"},serialize:"\\pi"},{name:"ExponentialE",trigger:{symbol:"e"},serialize:"e"},{name:"ImaginaryUnit",trigger:{symbol:"i"},serialize:"\\imaginaryI"},{name:"ImaginaryUnit",trigger:{symbol:"\\imaginaryI"}},{name:po,trigger:{prefix:"+",infix:"+"},parse:function(e,t,n){if(275<n)return[e,null];const i=t.index;if(!t.match("+"))return[e,null];const r=t.matchExpression(null===e?400:275);return null===r?(t.index=i,[e,null]):null===e?[null,r]:t.applyOperator(po,e,r)},serialize:function(e,t){var n,i;e.level-=1;const r=Mo(t);let o="",a=Ao(t,1),s=!Number.isNaN(null!==(n=_o(a))&&void 0!==n?n:NaN);if("Negate"===r)o="-"+e.wrap(a,276);else if(r===po){o=e.serialize(a);const n=Eo(t)+1;for(let r=2;r<n;r++){a=Ao(t,r);const n=null!==(i=_o(a))&&void 0!==i?i:NaN,l=!Number.isNaN(n);let c=!1;if(null!==a&&s){const[t,n]=ko(a);null!==t&&null!==n&&isFinite(t)&&isFinite(n)&&1!==n&&(o+=e.options.invisiblePlus+e.serialize(a),c=!0)}if(!c)if(n<0)o+=e.serialize(a);else if("Negate"===Mo(a))o+=e.wrap(a,275);else{const t=e.wrap(a,275);"-"===t[0]||"+"===t[0]?o+=t:o=o+"+"+t}s=l}}else if("Subtract"===r){const n=Ao(t,2);o=null!==n?e.wrap(a,275)+"-"+e.wrap(n,275):e.wrap(a,275)}return e.level+=1,o},associativity:"both",precedence:275},{name:"Negate",trigger:{prefix:"-"},parse:Bo,associativity:"left",precedence:275},{name:"Subtract",trigger:{infix:"-"},parse:Bo,associativity:"both",precedence:275},{name:"PlusMinus",trigger:{infix:"\\pm"},associativity:"both",precedence:270},{name:"MinusPlus",trigger:{infix:"\\mp"},associativity:"both",precedence:270},{name:mo,trigger:{infix:"\\times"},serialize:Ko,associativity:"both",precedence:390},{name:mo,trigger:{infix:"\\cdot"},serialize:Ko,associativity:"both",precedence:390},{name:mo,trigger:{infix:"*"},serialize:Ko,associativity:"both",precedence:390},{name:fo,trigger:"\\frac",parse:function(e,t,n){var i,r,o,a;if(!t.match("\\frac"))return[e,null];const s=null!==(i=t.matchRequiredLatexArgument())&&void 0!==i?i:uo,l=null!==(r=t.matchRequiredLatexArgument())&&void 0!==r?r:uo;if("PartialDerivative"===Mo(s)&&("PartialDerivative"===Mo(l)||Mo(l)===mo&&"PartialDerivative"===Mo(Ao(l,1)))){const n=null!==(o=Ao(s,3))&&void 0!==o?o:ho;let i=Ao(s,1);null!==i&&i!==ho||(i=null!==(a=t.matchExpression())&&void 0!==a?a:ho);let r=[];if(Mo(l)===mo){for(const e of Lo(l))if("PartialDerivative"===wo(e)){const t=Ao(e,2);t&&r.push(t)}}else{const e=Ao(l,2);e&&r.push(e)}return r.length>1&&(r=[co,...r]),[e,["PartialDerivative",i,r,n===ho?1:n]]}return[e,[fo,s,l]]},serialize:Wo,requiredLatexArg:2},{name:fo,trigger:{infix:"\\/"},serialize:Wo,associativity:"non",precedence:660},{name:fo,trigger:{infix:"/"},serialize:Wo,associativity:"non",precedence:660},{name:fo,trigger:{infix:"\\div"},serialize:Wo,associativity:"non",precedence:660},{name:go,trigger:{infix:"^"},associativity:"non",precedence:720,serialize:Vo},{name:go,trigger:{infix:["*","*"]},associativity:"non",precedence:720,serialize:Vo},{name:"Sqrt",trigger:"\\sqrt",optionalLatexArg:1,requiredLatexArg:1,parse:$o,serialize:Vo},{name:"Root",trigger:"\\sqrt",optionalLatexArg:1,requiredLatexArg:1,parse:$o},{name:"Norm",trigger:{matchfix:"\\lVert"},closeFence:"\\rVert"},{name:"Norm",trigger:{matchfix:"\\|"},closeFence:"\\|"},{name:"Norm",trigger:{matchfix:["|","|"]},closeFence:["|","|"]},{name:"Abs",trigger:{matchfix:"|"},closeFence:"|"},{name:"Abs",trigger:{matchfix:"\\lvert"},closeFence:"\\rvert"},{name:"Factorial",trigger:{postfix:"!"},precedence:810},{name:"Factorial2",trigger:{postfix:["!","!"]},precedence:810},{name:"Lcm",trigger:{symbol:["\\operatorname","<{>","l","c","m","<}>"]}},{name:"Gcd",trigger:{symbol:["\\operatorname","<{>","g","c","d","<}>"]}},{name:"Ceil",trigger:{symbol:["\\operatorname","<{>","c","e","i","l","<}>"]}},{name:"Floor",trigger:{symbol:["\\operatorname","<{>","f","l","o","o","r","<}>"]}},{name:"Round",trigger:{symbol:["\\operatorname","<{>","r","o","u","n","d","<}>"]}},{name:"Sign",trigger:{symbol:["\\operatorname","<{>","s","g","n","<}>"]}}],calculus:[{trigger:{symbol:"\\int"},parse:function(e,t,n){if(!t.match("\\int"))return[e,null];let i=ho,r=ho,o=!1;for(;!o;)t.skipSpace(),t.match("_")?r=t.matchRequiredLatexArgument():t.match("^")?i=t.matchRequiredLatexArgument():o=!0;const a=t.matchBalancedExpression("<{>","<}>");return[e,["Integral",null!=a?a:"",null!=i?i:ho,null!=r?r:ho]]},serialize:function(e,t){return""}}],core:jo,inequalities:[{name:"NotLess",trigger:{infix:["!","<"]},associativity:"right",precedence:246},{name:"NotLess",trigger:{infix:"\\nless"},associativity:"right",precedence:246},{name:"Less",trigger:{infix:"<"},associativity:"right",precedence:245},{name:"Less",trigger:{infix:"\\lt"},associativity:"right",precedence:245},{name:"LessEqual",trigger:{infix:["<","="]},associativity:"right",precedence:241},{name:"LessEqual",trigger:{infix:"\\le"},associativity:"right",precedence:241},{name:"LessEqual",trigger:{infix:"\\leq"},associativity:"right",precedence:241},{name:"LessEqual",trigger:{infix:"\\leqslant"},associativity:"right",precedence:265},{name:"LessNotEqual",trigger:{infix:"\\lneqq"},associativity:"right",precedence:260},{name:"NotLessNotEqual",trigger:{infix:"\\nleqq"},associativity:"right",precedence:260},{name:"LessOverEqual",trigger:{infix:"\\leqq"},associativity:"right",precedence:265},{name:"GreaterOverEqual",trigger:{infix:"\\geqq"},associativity:"right",precedence:265},{name:"Equal",trigger:{infix:"="},associativity:"right",precedence:260},{name:"StarEqual",trigger:{infix:["*","="]},associativity:"right",precedence:260},{name:"StarEqual",trigger:{infix:["\\star","="]},associativity:"right",precedence:260},{name:"PlusEqual",trigger:{infix:["+","="]},associativity:"right",precedence:260},{name:"MinusEqual",trigger:{infix:["-","="]},associativity:"right",precedence:260},{name:"SlashEqual",trigger:{infix:["/","="]},associativity:"right",precedence:260},{name:"EqualEqual",trigger:{infix:["=","="]},associativity:"right",precedence:260},{name:"EqualEqualEqual",trigger:{infix:["=","=","="]},associativity:"right",precedence:265},{name:"TildeFullEqual",trigger:{infix:"\\cong"},associativity:"right",precedence:260},{name:"NotTildeFullEqual",trigger:{infix:"\\ncong"},associativity:"right",precedence:260},{name:"Assign",trigger:{infix:[":","="]},associativity:"right",precedence:260},{name:"Assign",trigger:{infix:"\\coloneq"},associativity:"right",precedence:260},{name:"Approx",trigger:{infix:"\\approx"},associativity:"right",precedence:247},{name:"NotApprox",trigger:{infix:"\\approx"},associativity:"right",precedence:247},{name:"ApproxEqual",trigger:{infix:"\\approxeq"},associativity:"right",precedence:260},{name:"NotApproxEqual",trigger:{infix:["!","\\approxeq"]},associativity:"right",precedence:250},{name:"NotEqual",trigger:{infix:"\\ne"},associativity:"right",precedence:255},{name:"Unequal",trigger:{infix:["!","="]},associativity:"right",precedence:260},{name:"GreaterEqual",trigger:{infix:"\\ge"},associativity:"right",precedence:242},{name:"GreaterEqual",trigger:{infix:"\\geq"},associativity:"right",precedence:242},{name:"GreaterEqual",trigger:{infix:[">","="]},associativity:"right",precedence:243},{name:"GreaterEqual",trigger:{infix:"\\geqslant"},associativity:"right",precedence:265},{name:"GreaterNotEqual",trigger:{infix:"\\gneqq"},associativity:"right",precedence:260},{name:"NotGreaterNotEqual",trigger:{infix:"\\ngeqq"},associativity:"right",precedence:260},{name:"Greater",trigger:{infix:">"},associativity:"right",precedence:245},{name:"Greater",trigger:{infix:"\\gt"},associativity:"right",precedence:245},{name:"NotGreater",trigger:{infix:"\\ngtr"},associativity:"right",precedence:244},{name:"NotGreater",trigger:{infix:["!",">"]},associativity:"right",precedence:244},{name:"RingEqual",trigger:{infix:"\\circeq"},associativity:"right",precedence:260},{name:"TriangleEqual",trigger:{infix:"\\triangleq"},associativity:"right",precedence:260},{name:"DotEqual",trigger:{infix:"\\doteq"},associativity:"right",precedence:265},{name:"DotEqualDot",trigger:{infix:"\\doteqdot"},associativity:"right",precedence:265},{name:"FallingDotEqual",trigger:{infix:"\\fallingdotseq"},associativity:"right",precedence:265},{name:"RisingDotEqual",trigger:{infix:"\\fallingdotseq"},associativity:"right",precedence:265},{name:"QuestionEqual",trigger:{infix:"\\questeq"},associativity:"right",precedence:260},{name:"Equivalent",trigger:{infix:"\\equiv"},associativity:"right",precedence:260},{name:"MuchLess",trigger:{infix:"\\ll"},associativity:"right",precedence:260},{name:"MuchGreater",trigger:{infix:"\\gg"},associativity:"right",precedence:260},{name:"Precedes",trigger:{infix:"\\prec"},associativity:"right",precedence:260},{name:"Succeeds",trigger:{infix:"\\succ"},associativity:"right",precedence:260},{name:"PrecedesEqual",trigger:{infix:"\\preccurlyeq"},associativity:"right",precedence:260},{name:"SucceedsEqual",trigger:{infix:"\\curlyeqprec"},associativity:"right",precedence:260},{name:"NotPrecedes",trigger:{infix:"\\nprec"},associativity:"right",precedence:260},{name:"NotSucceeds",trigger:{infix:"\\nsucc"},associativity:"right",precedence:260},{name:"Between",trigger:{infix:"\\between"},associativity:"right",precedence:265}],other:No,physics:[{name:"mu-0",trigger:{symbol:["\\mu","_","0"]}}],sets:[{trigger:{symbol:"\\N"},parse:"NaturalNumber"},{trigger:{symbol:"\\Z"},parse:"Integer"},{trigger:{symbol:"\\Q"},parse:"RationalNumber"},{trigger:{symbol:["\\mathbb","<{>","A","<}>"]},parse:"AlgebraicNumber"},{trigger:{symbol:"\\R"},parse:"RealNumber"},{trigger:{symbol:"\\C"},parse:"ComplexNumber"},{trigger:{symbol:"\\varnothing"},parse:"EmptySet"},{trigger:{symbol:"\\emptyset"},parse:"EmptySet"},{name:"Complement",trigger:{infix:"\\complement"},precedence:240},{name:"Element",trigger:{infix:"\\in"},precedence:240},{name:"Intersection",trigger:{infix:"\\Cap"},precedence:350},{name:"NotElement",trigger:{infix:"\\notin"},precedence:240},{name:"SetMinus",trigger:{infix:"\\setminus"},precedence:650},{name:"SubsetEqual",trigger:{infix:"\\subseteq"},precedence:240},{name:"SymmetricDifference",trigger:{infix:"\\triangle"},precedence:260},{name:"Union",trigger:{infix:"\\cup"},precedence:350},{name:"Contains",trigger:{infix:"\\ni"},associativity:"right",precedence:160},{name:"Subset",trigger:{infix:"\\subset"},associativity:"right",precedence:240},{name:"SquareSubset",trigger:{infix:"\\sqsubset"},associativity:"right",precedence:265},{name:"SquareSubsetEqual",trigger:{infix:"\\sqsubseteq"},associativity:"right",precedence:265},{name:"Superset",trigger:{infix:"\\supset"},associativity:"right",precedence:240},{name:"SquareSuperset",trigger:{infix:"\\sqsupset"},associativity:"right",precedence:265},{name:"SquareSupersetEqual",trigger:{infix:"\\sqsupseteq"},associativity:"right",precedence:265},{name:"NotSubset",trigger:{infix:"\\nsubset"},associativity:"right",precedence:240},{name:"NotSuperset",trigger:{infix:"\\nsupset"},associativity:"right",precedence:240},{name:"SupersetEqual",trigger:{infix:"\\supseteq"},associativity:"right",precedence:240},{name:"NotSubsetNotEqual",trigger:{infix:"\\nsubseteq"},associativity:"right",precedence:240},{name:"NotSupersetNotEqual",trigger:{infix:"\\nsupseteq"},associativity:"right",precedence:240},{name:"SubsetNotEqual",trigger:{infix:"\\subsetneq"},associativity:"right",precedence:240},{name:"SubsetNotEqual",trigger:{infix:"\\varsupsetneqq"},associativity:"right",precedence:240},{name:"SupersetNotEqual",trigger:{infix:"\\supsetneq"},associativity:"right",precedence:240},{name:"SupersetNotEqual",trigger:{infix:"\\varsupsetneq"},associativity:"right",precedence:240}],symbols:[{trigger:{symbol:"\\alpha"},parse:"Î±"},{trigger:{symbol:"\\beta"},parse:"Î²"},{trigger:{symbol:"\\gamma"},parse:"Î³"},{trigger:{symbol:"\\delta"},parse:"Î´"},{trigger:{symbol:"\\epsilon"},parse:"Ïµ"},{trigger:{symbol:"\\varepsilon"},parse:"Îµ"},{trigger:{symbol:"\\zeta"},parse:"Î¶"},{trigger:{symbol:"\\eta"},parse:"Î·"},{trigger:{symbol:"\\theta"},parse:"Î¸"},{trigger:{symbol:"\\vartheta"},parse:"Ï"},{trigger:{symbol:"\\iota"},parse:"Î¹"},{trigger:{symbol:"\\kappa"},parse:"Îº"},{trigger:{symbol:"\\varkappa"},parse:"Ï°"},{trigger:{symbol:"\\lambda"},parse:"Î»"},{trigger:{symbol:"\\mu"},parse:"Î¼"},{trigger:{symbol:"\\nu"},parse:"Î½"},{trigger:{symbol:"\\xi"},parse:"Î¾"},{trigger:{symbol:"\\omicron"},parse:"Î¿"},{trigger:{symbol:"\\varpi"},parse:"Ï"},{trigger:{symbol:"\\rho"},parse:"Ï"},{trigger:{symbol:"\\varrho"},parse:"Ï±"},{trigger:{symbol:"\\sigma"},parse:"Ï"},{trigger:{symbol:"\\varsigma"},parse:"Ï"},{trigger:{symbol:"\\tau"},parse:"Ï"},{trigger:{symbol:"\\phi"},parse:"Ï"},{trigger:{symbol:"\\varphi"},parse:"Ï"},{trigger:{symbol:"\\upsilon"},parse:"Ï"},{trigger:{symbol:"\\chi"},parse:"Ï"},{trigger:{symbol:"\\psi"},parse:"Ï"},{trigger:{symbol:"\\omega"},parse:"Ï"},{trigger:{symbol:"\\Gamma"},parse:"Î"},{trigger:{symbol:"\\Delta"},parse:"Î"},{trigger:{symbol:"\\Theta"},parse:"Î"},{trigger:{symbol:"\\Lambda"},parse:"Î"},{trigger:{symbol:"\\Xi"},parse:"Î"},{trigger:{symbol:"\\Pi"},parse:"Î "},{trigger:{symbol:"\\Sigma"},parse:"Î£"},{trigger:{symbol:"\\Upsilon"},parse:"Î¥"},{trigger:{symbol:"\\Phi"},parse:"Î¦"},{trigger:{symbol:"\\Psi"},parse:"Î¨"},{trigger:{symbol:"\\Omega"},parse:"Î©"},{trigger:{symbol:"\\digamma"},parse:"Ï"},{trigger:{symbol:"\\aleph"},parse:"âµ"},{trigger:{symbol:"\\beth"},parse:"â¶"},{trigger:{symbol:"\\daleth"},parse:"â¸"},{trigger:{symbol:"\\gimel"},parse:"â·"},{trigger:{symbol:"\\Finv"},parse:"â²"},{trigger:{symbol:"\\Game"},parse:"â"},{trigger:{symbol:"\\wp"},parse:"â"},{trigger:{symbol:"\\eth"},parse:"Ã°"},{trigger:{symbol:"\\mho"},parse:"â§"},{trigger:{symbol:"\\clubsuit"},parse:"â£"},{trigger:{symbol:"\\heartsuit"},parse:"â¡"},{trigger:{symbol:"\\spadesuit"},parse:"â "},{trigger:{symbol:"\\diamondsuit"},parse:"â¢"},{trigger:{symbol:"\\sharp"},parse:"â¯"},{trigger:{symbol:"\\flat"},parse:"â­"},{trigger:{symbol:"\\natural"},parse:"â®"}],trigonometry:[{name:"Arcsin",trigger:"\\arcsin",arguments:"implicit",parse:Uo},{name:"Arccos",trigger:"\\arccos",arguments:"implicit",parse:Uo},{name:"Arctan",trigger:"\\arctan",arguments:"implicit",parse:Uo},{name:"Arctan",trigger:"\\arctg",arguments:"implicit",parse:Uo},{name:"Arccot",trigger:"\\arcctg",arguments:"implicit",parse:Uo},{name:"Arcsec",trigger:"\\arcsec",arguments:"implicit",parse:Uo},{name:"Arccsc",trigger:"\\arccsc",arguments:"implicit",parse:Uo},{name:"Arsinh",trigger:"\\arsinh",arguments:"implicit",parse:Uo},{name:"Arcosh",trigger:"\\arcosh",arguments:"implicit",parse:Uo},{name:"Artanh",trigger:"\\artanh",arguments:"implicit",parse:Uo},{name:"Arsech",trigger:"\\arsech",arguments:"implicit",parse:Uo},{name:"Arcsch",trigger:"\\arcsch",arguments:"implicit",parse:Uo},{name:"Cosh",trigger:"\\ch",arguments:"implicit",parse:Uo},{name:"Cosec",trigger:"\\cosec",arguments:"implicit",parse:Uo},{name:"Cosh",trigger:"\\cosh",arguments:"implicit",parse:Uo},{name:"Cot",trigger:"\\cot",arguments:"implicit",parse:Uo},{name:"Cot",trigger:"\\cotg",arguments:"implicit",parse:Uo},{name:"Coth",trigger:"\\coth",arguments:"implicit",parse:Uo},{name:"Csc",trigger:"\\csc",arguments:"implicit",parse:Uo},{name:"Cot",trigger:"\\ctg",arguments:"implicit",parse:Uo},{name:"Coth",trigger:"\\cth",arguments:"implicit",parse:Uo},{name:"Sec",trigger:"\\sec",arguments:"implicit",parse:Uo},{name:"Sinh",trigger:"\\sinh",arguments:"implicit",parse:Uo},{name:"Sinh",trigger:"\\sh",arguments:"implicit",parse:Uo},{name:"Tan",trigger:"\\tan",arguments:"implicit",parse:Uo},{name:"Tan",trigger:"\\tg",arguments:"implicit",parse:Uo},{name:"Tanh",trigger:"\\tanh",arguments:"implicit",parse:Uo},{name:"Tanh",trigger:"\\th",arguments:"implicit",parse:Uo},{name:"Cos",trigger:"\\cos",arguments:"implicit",parse:Uo},{name:"Sin",trigger:"\\sin",arguments:"implicit",parse:Uo}]},Xo={precision:15,positiveInfinity:"\\infty",negativeInfinity:"-\\infty",notANumber:"\\operatorname{NaN}",decimalMarker:".",groupSeparator:",",exponentProduct:"\\cdot",beginExponentMarker:"10^{",endExponentMarker:"}",notation:"auto",truncationMarker:"\\ldots",beginRepeatingDigits:"\\overline{",endRepeatingDigits:"}",imaginaryNumber:"\\imaginaryI"},Zo={invisibleOperator:mo,skipSpace:!0,parseArgumentsOfUnknownLatexCommands:!0,parseNumbers:!0,promoteUnknownSymbols:/^[a-zA-Z]$/,promoteUnknownFunctions:/^[fg]$/,ignoreCommands:["\\displaystyle","\\!","\\:","\\enskip","\\quad","\\,","\\;","\\enspace","\\qquad","\\selectfont","\\tiny","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],idempotentCommands:["\\left","\\right","\\mleft","\\mright","\\middle","\\bigl","\\bigm","\\bigr","\\Bigl","\\Bigm","\\Bigr","\\biggl","\\biggm","\\biggr","\\Biggl","\\Biggm","\\Biggr"],invisiblePlusOperator:po,preserveLatex:!1},Yo={invisibleMultiply:"",invisiblePlus:"",multiply:"\\times"};function Qo(e,t){var n;let i=e;for(let r=0;r<t.length;r++){let e=null!==(n=t[r])&&void 0!==n?n:"";if(/[a-zA-Z*]/.test(e[0])){const t=i.match(new RegExp("(.*)#"+Number(r+1).toString()));t&&/\\[a-zA-Z*]+/.test(t[1])&&(e=" "+e)}i=i.replace("#"+Number(r+1).toString(),e)}return i}class Jo{constructor(e,t,n,i){let r;this.index=0,this.options={...Xo,...Zo,...t},this.tokens=e,this.onError=e=>i({...e,before:this.latexBefore(),after:this.latexAfter()}),this.dictionary=n,this.invisibleOperatorPrecedence=0,this.options.invisibleOperator&&(r=this.dictionary.name.get(this.options.invisibleOperator),void 0===r?i({code:"unknown-operator",arg:"invisible operator "+this.options.invisibleOperator}):void 0===r.precedence?i({code:"expected-operator",arg:"invisible operator "+this.options.invisibleOperator}):this.invisibleOperatorPrecedence=r.precedence)}clone(e,t){return new Jo(this.tokens.slice(e,t),this.options,this.dictionary,this.onError)}balancedClone(e,t,n=!0){if(!this.matchAll(e))return n||this.onError({code:"syntax-error",arg:"Expected "+ro(e)}),null;const i=this.index;let r=i,o=1;for(;!this.atEnd&&0!==o;)this.skipSpace(),r=this.index,this.matchAll(t)?o-=1:this.matchAll(e)?o+=1:this.next();return 0!==o?(n||this.onError({code:"unbalanced-symbols",arg:ro(e)+ro(t)}),this.index=i,null):this.clone(i,r)}get atEnd(){return this.index>=this.tokens.length}get peek(){return this.tokens[this.index]}latex(e,t){return ro(this.tokens.slice(e,t))}latexAhead(e){return ro(this.tokens.slice(this.index,this.index+e))}latexBefore(){return this.latex(0,this.index)}latexAfter(){return this.latex(this.index)}lookAhead(){let e=Math.min(this.dictionary.lookahead,this.tokens.length-this.index);const t=[];for(;e>0;)t[e]=this.latexAhead(e--);return t}peekDefinition(e){let t;t="operator"===e?this.lookAhead().map((e,t)=>{var n,i,r,o,a;return null!==(o=null!==(i=null===(n=this.dictionary.infix[t])||void 0===n?void 0:n.get(e))&&void 0!==i?i:null===(r=this.dictionary.postfix[t])||void 0===r?void 0:r.get(e))&&void 0!==o?o:null===(a=this.dictionary.prefix[t])||void 0===a?void 0:a.get(e)}):this.lookAhead().map((t,n)=>{var i;return null===(i=this.dictionary[e][n])||void 0===i?void 0:i.get(t)});for(let n=t.length;n>0;n--)if(void 0!==t[n])return[t[n],n];return[null,0]}next(){return this.tokens[this.index++]}skipSpace(){if(!this.atEnd&&"<{>"===this.peek&&"<}>"===this.tokens[this.index+1])return this.index+=2,this.skipSpace(),!0;let e=!1;for(;!this.atEnd&&(this.options.ignoreCommands.includes(this.peek)||this.options.idempotentCommands.includes(this.peek));)this.index+=1,this.skipSpace(),e=!0;if(!this.options.skipSpace)return!1;for(;this.match("<space>");)e=!0;return e&&this.skipSpace(),e}match(e){return this.tokens[this.index]===e&&(this.index++,!0)}matchAll(e){let t=!0;"string"==typeof e&&(e=[e]);let n=0;do{t=this.tokens[this.index+n]===e[n++]}while(t&&n<e.length);return t&&(this.index+=n),t}matchAny(e){return e.includes(this.tokens[this.index])?this.tokens[this.index++]:""}matchWhile(e){const t=[];for(;e.includes(this.tokens[this.index]);)t.push(this.tokens[this.index++]);return t}matchSign(){let e=!1,t=!1;for(;!t;)this.skipSpace()?t=!1:this.match("-")?(e=!e,t=!1):t=!this.match("+");return e?"-":"+"}matchDecimalDigits(){let e="",t=!1;for(;!t;)if(e+=this.matchWhile(["0","1","2","3","4","5","6","7","8","9"]).join(""),t=!0,this.options.groupSeparator){const e=this.index;this.match(this.options.groupSeparator)&&(/[0-9]/.test(this.peek)?t=!1:this.index=e)}return e}matchSignedInteger(){const e=this.index,t=this.matchSign(),n=this.matchDecimalDigits();return n?("-"===t?"-":"")+n:(this.index=e,"")}matchExponent(){const e=this.index;let t="";if(this.matchAny(["e","E","d","D"])){const e=this.matchSignedInteger();e&&(t="e"+e)}if(t)return t;if(this.match("\\times")&&(this.skipSpace(),this.match("1")&&this.match("0")&&this.match("^"))){if(/[0-9]/.test(this.peek))return"e"+this.next();if(this.match("<{>")){this.skipSpace();const e=this.matchSignedInteger();if(this.skipSpace(),this.match("<}>")&&e)return"e"+e}}return this.index=e,""}matchNumber(){var e,t;if(!this.options.parseNumbers)return"";const n=this.index,i=this.matchSign();let r=this.matchDecimalDigits();if(!r)return this.index=n,"";r=("-"===i?"-":"")+r;let o=!1,a=!1;this.match(null!==(e=this.options.decimalMarker)&&void 0!==e?e:"")&&(o=!0,r+="."+(null!==(t=this.matchDecimalDigits())&&void 0!==t?t:"0"));const s=this.matchExponent();return s&&(a=!0),r?r.length+s.length>12?o||a?r+s+"d":r+"n":r+s:(this.index=n,"")}matchOperator(e,t=null,n=0){const[i,r]=this.peekDefinition(e);if(null===i)return null;if("function"==typeof i.parse){let e=null;return[t,e]=i.parse(t,this,n),null===e?null:this.applyInvisibleOperator(t,e)}let o=i.precedence;if(void 0===o||o<n)return null;o+="left"===i.associativity?1:0,this.index+=r;const a=this.matchExpression(o);return this.applyInvisibleOperator(...this.applyOperator(i.parse,t,a))}matchArguments(e){if(!e)return null;const t=this.index;let n=null;const i=this.matchMatchfixOperator();if("group"===e&&"Parentheses"===Mo(i))n=Lo(i);else if("implicit"===e)if("Parentheses"===Mo(i))n=Lo(i);else if(null!==i)n=[i];else{const e=this.matchPrimary();null!==e&&(n=[e])}else this.index=t;return n}matchMatchfixOperator(){const[e]=this.peekDefinition("matchfix");if(null===e)return null;if("function"==typeof e.parse)return this.applyInvisibleOperator(...e.parse(null,this,0));const t="object"==typeof e.trigger?e.trigger.matchfix:e.trigger;if(!t||!e.closeFence||!e.parse)return null;const n=this.matchBalancedExpression(t,e.closeFence,this.onError);return n?[e.parse,n]:[e.parse]}matchDefinition(e){const[t,n]=this.peekDefinition(e);if("function"==typeof(null==t?void 0:t.parse)){const[,e]=t.parse(null,this,0);return[t,e]}return this.index+=n,[t,null]}matchSymbol(){var e,t,n,i;const[r,o]=this.matchDefinition("symbol");if(null!==o)return o;if(null===r){if(null===(e=this.options.promoteUnknownFunctions)||void 0===e?void 0:e.test(this.peek)){const e=this.next(),t=this.matchMatchfixOperator();return null===t?e:"Parentheses"!==Mo(t)?null:[e,...Lo(t)]}return(null===(t=this.options.promoteUnknownSymbols)||void 0===t?void 0:t.test(this.peek))?this.next():this.matchUnknownLatexCommand()}const a=[],s=[];let l,c=null!==(n=r.optionalLatexArg)&&void 0!==n?n:0;for(;c>0;)l=this.matchOptionalLatexArgument(),null!==l&&s.push(l),c--;for(c=null!==(i=r.requiredLatexArg)&&void 0!==i?i:0;c>0;)l=this.matchRequiredLatexArgument(),null===l&&this.onError({code:"expected-argument"}),null!==l&&a.push(l),c--;const u=this.matchArguments(r.arguments);return null===u?0===a.length&&0===s.length?r.parse:[r.parse,...a,...s]:[r.parse,...a,...u,...s]}matchOptionalLatexArgument(){return this.skipSpace(),this.matchBalancedExpression("[","]")}matchRequiredLatexArgument(){return this.skipSpace(),this.matchBalancedExpression("<{>","<}>")||(/^[0-9]$/.test(this.peek)?parseFloat(this.next()):/^[^\\#]$/.test(this.peek)?this.next():this.matchSymbol())}matchSupsub(e){if(null===e)return null;let t=null;return this.skipSpace(),[["^","superfix"],["_","subfix"]].forEach(n=>{var i,r,o;if(null!==t)return;const[a,s]=n,l=this.index;if(!this.match(a))return;const c=this.index;let u,d=0;if(this.match("<{>")?([u,d]=this.peekDefinition(s),u?"function"==typeof u.parse?t=u.parse(e,this,0)[1]:(this.index+=d,this.match("<}>")?t=[null!==(i=u.parse)&&void 0!==i?i:u.name,e]:this.index=c):this.index=c):([u,d]=this.peekDefinition(s),u?"function"==typeof u.parse?t=u.parse(e,this,0)[1]:(this.index+=d,t=[null!==(r=u.parse)&&void 0!==r?r:u.name,e]):this.index=c),null===t&&(u=null===(o=this.dictionary.infix[1])||void 0===o?void 0:o.get(a),"function"==typeof(null==u?void 0:u.parse)?(this.index=l,t=u.parse(e,this,0)[1]):"string"==typeof(null==u?void 0:u.parse)?([e,t]=this.applyOperator(u.parse,e,this.matchRequiredLatexArgument()),t=this.applyInvisibleOperator(e,t)):t=this.applyInvisibleOperator(e,a)),null!==t){const e=this.matchArguments(null==u?void 0:u.arguments);null!==e&&(t=[t,...e])}}),t}matchPostfix(e){if(null===e)return null;const[t,n]=this.peekDefinition("postfix");return null==t?null:"function"==typeof t.parse?([,e]=t.parse(e,this,0),null===e?null:e):(this.index+=n,[t.parse,e])}matchString(){let e="",t=this.atEnd;for(;!t;){if(this.match("<space>"))e+=" ";else{const n=this.peek;"]"===n?t=!0:/^<({|}|\$|\$\$|space)>$/.test(n)?"\\"===n[0]?(this.onError({code:"unexpected-command"}),e+=this.next()):t=!0:e+=this.next()}t=t||this.atEnd}return e}matchEnvironmentName(e,t){if(this.match(e)){const e=this.index;if(this.match("<{>")){const e=this.matchString();if(this.match("<}>")&&e===t)return!0}this.index=e}return!1}matchTabular(){const e=["list"];let t=["list"],n=null,i=!1;for(;!this.atEnd&&!i;)if(this.match("&"))t.push(null!=n?n:ho),n=null;else if(this.match("\\\\")||this.match("\\cr"))this.skipSpace(),this.matchOptionalLatexArgument(),null!==n&&t.push(n),e.push(t),t=["list"],n=null;else{const e=this.matchExpression();null===e&&(i=!0),n=null!==n?this.applyInvisibleOperator(n,e):e}return t.length>1&&e.push(t),e}matchEnvironment(){var e;if(this.match("\\begin")&&this.match("<{>")){const t=this.matchString();if(this.match("<}>")){const n=this.index;let i=this.index,r=1;for(;!this.atEnd&&0!==r;)i=this.index,this.matchEnvironmentName("\\begin",t)?r+=1:this.matchEnvironmentName("\\end",t)?r-=1:this.next();const o=this.dictionary.environment.get(t);return"function"==typeof(null==o?void 0:o.parse)?o.parse(null,this.clone(n,i),0)[1]:null!==(e=null==o?void 0:o.parse)&&void 0!==e?e:null}}return null}applyOperator(e,t,n){var i,r,o,a;const s=this.dictionary.name.get(e);if(void 0===s)return this.onError({code:"unknown-operator"}),[t,n];if(void 0!==(null===(i=s.trigger)||void 0===i?void 0:i.prefix)&&null===t&&null!==n)return[null,[s.name,n]];if(void 0!==(null===(r=s.trigger)||void 0===r?void 0:r.postfix)&&null!==t)return[null,[s.name,t]];if(void 0!==(null===(o=s.trigger)||void 0===o?void 0:o.matchfix)||void 0!==(null===(a=s.trigger)||void 0===a?void 0:a.infix)){if("non"===s.associativity)return[null,[e,null!=t?t:"Missing",null!=n?n:"Missing"]];if(Mo(t)===e){if("both"===s.associativity){if(Mo(n)===e){if(Array.isArray(t))return[null,t.concat(Lo(n))];if(bo(t))return[null,t.fn.concat(Lo(n))]}else n&&(Array.isArray(t)&&t.push(n),bo(t)&&t.fn.push(n));return[null,t]}return"left"===s.associativity?[null,[e,null!=t?t:uo,null!=n?n:uo]]:Array.isArray(t)?[null,[e,t[1],[e,t[2],null!=n?n:uo]]]:(bo(t)&&(t.fn[2]=[e,t.fn[2],null!=n?n:uo]),[null,t])}return Mo(n)===e?"both"===s.associativity?(Array.isArray(n)&&t&&n.splice(1,0,t),bo(n)&&t&&n.fn.splice(1,0,t),[null,n]):"right"===s.associativity?[null,[e,null!=t?t:uo,null!=n?n:uo]]:Array.isArray(n)?[null,[e,n[1],[e,n[2],null!=t?t:uo]]]:(bo(n)&&(n.fn[2]=[e,n.fn[2],null!=t?t:uo]),[null,n]):[null,[e,null!=t?t:"Missing",null!=n?n:"Missing"]]}return[t,null]}applyInvisibleOperator(e,t){if(null===e)return t;if(null===t)return e;if(this.options.invisiblePlusOperator&&("number"==typeof e||yo(e))&&function(e){var t,n;const i=Co(e);if(null!==i&&["ThreeQuarter","TwoThird","Half","Third","Quarter"].includes(i))return!0;if(Mo(e)!==fo)return!1;const r=null!==(t=_o(Ao(e,1)))&&void 0!==t?t:NaN,o=null!==(n=_o(Ao(e,2)))&&void 0!==n?n:NaN;return Number.isInteger(r)&&Number.isInteger(o)}(t))return[e,t]=this.applyOperator(this.options.invisiblePlusOperator,e,t),null===e?t:null;if(this.options.invisibleOperator)return[e,t]=this.applyOperator(this.options.invisibleOperator,e,t),null===e?t:null;let n=["LatexTokens"];return"LatexTokens"===Mo(e)?n=n.concat(Lo(e)):n.push(e),null!==t&&("LatexTokens"===Mo(t)?n=n.concat(Lo(t)):n.push(t)),this.options.invisibleOperator&&this.onError({code:"unexpected-sequence"}),n}matchUnknownLatexCommand(){var e;const t=this.peek;if(!t||"\\"!==t[0])return null;if(this.next(),"\\operatorname"===t){if(this.skipSpace(),"<{>"===this.peek){let e="";for(this.next();!this.atEnd&&"<}>"!==this.tokens[this.index];)e+=this.next();return e}return null!==(e=this.next())&&void 0!==e?e:uo}const n=[],i=[];let r=!1;do{r=!0;let e=this.matchOptionalLatexArgument();null!==e&&(n.push(e),r=!1),this.skipSpace(),"<{>"===this.peek&&(e=this.matchRequiredLatexArgument(),null!==e&&(i.push(e),r=!1))}while(!r);return n.length>0||i.length>0?[t,...i,...n]:t}matchPrimary(e){let t=null;const n=this.index,i=this.matchNumber();i&&(t={num:i}),null===t&&(t=this.matchMatchfixOperator()),null===t&&(t=this.matchEnvironment()),null===t&&(t=this.matchSymbol());let r=null;do{r=this.matchSupsub(t),t=null!=r?r:t}while(null!==r);let o=null;do{o=this.matchPostfix(t),t=null!=o?o:t}while(null!==o);return this.decorate(t,n)}matchBalancedExpression(e,t,n){const i=this.balancedClone(e,t);if(!i)return null==n||n({code:"unbalanced-symbols",arg:ro(e)+ro(t)}),null;const r=i.matchExpression();return i.atEnd||null==n||n({code:"unbalanced-symbols",arg:ro(e)+ro(t)}),r}matchExpression(e=0){let t=null;const n=this.index;this.skipSpace(),t=this.matchPrimary(e),null===t&&(t=this.matchOperator("prefix"));let i=!1;for(;!this.atEnd&&!i;){this.skipSpace();let n=this.matchOperator("infix",t,e);if(null===n&&null!==t){const[e]=this.peekDefinition("operator");if(null===e){const e=this.matchExpression(this.invisibleOperatorPrecedence);null!==e&&(n=this.applyInvisibleOperator(t,e))}}null!==n?t=n:i=!0}return this.decorate(t,n)}decorate(e,t){if(null===e)return null;if(this.options.preserveLatex){const n=this.latex(t,this.index);Array.isArray(e)?e={latex:n,fn:e}:"number"==typeof e?e={latex:n,num:Number(e).toString()}:"string"==typeof e?e={latex:n,sym:e}:"object"==typeof e&&null!==e&&(e.latex=n)}return e}}function ea(e,t){const n=e.length,i=e;e=e.slice(0,-1);for(let o=0;o<e.length-16;o++){const n=e.substr(0,o);for(let i=0;i<17;i++){const r=e.substr(o,i+1),a=Math.floor((e.length-n.length)/r.length);if(a>1&&(n+r.repeat(a+1)).startsWith(e))return"0"===r?n.replace(/(\d{3})/g,"$1"+t.groupSeparator):n.replace(/(\d{3})/g,"$1"+t.groupSeparator)+t.beginRepeatingDigits+r+t.endRepeatingDigits}}const r=n>t.precision-1;return e=i,r&&(e=e.substr(0,t.precision-1)),t.groupSeparator&&(e=e.replace(/(\d{3})/g,"$1"+t.groupSeparator)).endsWith(t.groupSeparator)&&(e=e.slice(0,-t.groupSeparator.length)),r?e+t.truncationMarker:e}function ta(e,t){var n;return e?t.beginExponentMarker?t.beginExponentMarker+e+(null!==(n=t.endExponentMarker)&&void 0!==n?n:""):"10^{"+e+"}":""}class na{constructor(e,t,n){this.level=-1,this.options=e,e.invisibleMultiply&&(/#1/.test(e.invisibleMultiply)&&/#2/.test(e.invisibleMultiply)||n({code:"expected-argument",arg:"invisibleMultiply"})),this.onError=n,this.dictionary=t}wrap(e,t){if(null===e)return"";if(void 0===t)return"("+this.serialize(e)+")";if("number"==typeof e||yo(e)||"string"==typeof e||vo(e))return this.serialize(e);const n=Mo(e);if(n&&"Parentheses"!==n){const i=this.dictionary.name.get(n);if(i&&void 0!==i.precedence&&i.precedence<t)return this.wrapString(this.serialize(e),(this.level,"paren"))}return this.serialize(e)}wrapShort(e){if(null===e)return"";const t=this.serialize(e);return"Parentheses"===Mo(e)||"number"==typeof e||yo(e)||/(^(.|\\[a-zA-Z*]+))$/.test(t)?t:this.wrapString(t,(this.level,"paren"))}wrapString(e,t){return"none"===t?e:"("+e+")"}serializeSymbol(e,t){const n=wo(e);if(!n){if("string"==typeof(null==t?void 0:t.serialize))return t.serialize;const n=Co(e);if(null===n)return"";switch(function(e,t){const n=Co(e);return null===n?"asis":n.length>1?"upright":"asis"}(e,this.level)){case"upright":return"\\operatorname{"+n+"}";default:return n}}const i=Lo(e);if(!t){if("string"==typeof n&&n.length>0&&"\\"===n[0]){let e=n;for(const t of i)e+="{"+this.serialize(t)+"}";return e}return`${this.serialize(n)}(${i.map(e=>this.serialize(e)).join(", ")})`}if(t.requiredLatexArg>0){let e="",n="",r=0;for(;r<t.requiredLatexArg;)n+="{"+this.serialize(i[r++])+"}";for(;r<Math.min(i.length,t.optionalLatexArg+t.requiredLatexArg);){const t=this.serialize(i[1+r++]);t&&(e+="["+t+"]")}return t.serialize+(e+n)}return this.level,t.serialize+this.serialize(["Parentheses",...i])}serializeDictionary(e){return`\\left[\\begin{array}{lll}${Object.keys(e).map(t=>`\\textbf{${t}} & \\rightarrow & ${this.serialize(e[t])}`).join("\\\\")}\\end{array}\\right]`}serialize(e){if(null===e)return"";this.level+=1;const t=(()=>{var t,n,i,r;const o=function(e,t){var n,i;let r;if("number"==typeof e)r=e;else{if(!yo(e))return"";r=e.num}if(r===1/0||"Infinity"===r||"+Infinity"===r)return t.positiveInfinity;if(r===-1/0||"-Infinity"===r)return t.negativeInfinity;if("NaN"===r||"number"==typeof r&&Number.isNaN(r))return t.notANumber;if("number"==typeof r)return"engineering"===t.notation?function(e,t){if(0===e)return"0";const n=Math.abs(e);let i=Math.round(Math.log10(n));i-=i%3,n<1e3&&(i=0);const r=n/Math.pow(10,i);let o="";const a=r.toString().match(/^(.*)\.(.*)$/);(null==a?void 0:a[1])&&a[2]&&(o=a[1]+t.decimalMarker+a[2]),t.groupSeparator&&(o=ea(r.toExponential(),t));let s="";return 0!==i&&(s=ta(i.toString(),t)),(e<0?"-":"")+o+s}(r,t):function(e,t){let n,i=e.match(/^(.*)[e|E]([-+]?[0-9]+)$/i);(null==i?void 0:i[1])&&i[2]&&(n=ta(i[2],t),n&&(n=t.exponentProduct+n));let r=e,o="";return i=(n?i[1]:e).match(/^(.*)\.(.*)$/),(null==i?void 0:i[1])&&i[2]&&(r=i[1],o=i[2]),t.groupSeparator&&(r=r.replace(/\B(?=(\d{3})+(?!\d))/g,t.groupSeparator),o=ea(o,t)),o&&(o=t.decimalMarker+o),r+o+(null!=n?n:"")}(r.toString(),t);/[a-zA-Z]$/.test(r)&&(r=r.slice(0,-1));let o="";for("-"===r[0]?(o="-",r=r.substr(1)):"+"===r[0]&&(r=r.substr(1));"0"===r[0];)r=r.substr(1);if(0===r.length)return o+"0";"."===r[0]&&(r="0"+r);let a="";if(r.indexOf(".")>=0){const e=r.match(/(\d*)\.(\d*)([e|E]([-+]?[0-9]*))?/);if(!e)return"";const i=e[1],s=e[2];if(a=null!==(n=e[4])&&void 0!==n?n:"","0"===i){let e=0;for(;"0"===s[e]&&e<s.length;)e+=1;let n="";if(e<=4)n="0"+t.decimalMarker,n+=s.substr(0,e),n+=ea(r.substr(n.length),t);else if(e+1>=t.precision)n="0",o="";else{n=r[e];const i=ea(r.substr(e+1),t);i&&(n+=t.decimalMarker+i)}"0"!==n&&(!(r.length-1>t.precision)||t.endRepeatingDigits&&n.endsWith(t.endRepeatingDigits)||!t.truncationMarker||n.endsWith(t.truncationMarker)||(n+=t.truncationMarker),e>4&&(n+=t.exponentProduct+ta((1-e).toString(),t))),r=n}else{r=i.replace(/\B(?=(\d{3})+(?!\d))/g,t.groupSeparator);const e=ea(s,t);e&&(r+=t.decimalMarker+e)}}else if(r.length>t.precision){const e=r.length;let n=r[0];const i=ea(r.substr(1),t);i&&(n+=t.decimalMarker+i,t.truncationMarker&&!n.endsWith(t.truncationMarker)&&t.endRepeatingDigits&&!n.endsWith(t.endRepeatingDigits)&&(n+=t.truncationMarker)),"1"!==n?n+=t.exponentProduct:n="",r=n+ta((e-1).toString(),t)}else{const e=r.match(/([0-9]*)\.?([0-9]*)([e|E]([-+]?[0-9]+))?/);e&&(r=e[1],e[2]&&(r+=t.decimalMarker+e[2]),a=null!==(i=e[4])&&void 0!==i?i:""),r=r.replace(/\B(?=(\d{3})+(?!\d))/g,t.groupSeparator)}const s=ta(a,t);return o+r+(s?t.exponentProduct+s:"")}(e,this.options);if(o)return o;const a=xo(e);if(null!==a)return`\\text{${a}}`;const s=Co(e);if(null!==s)return this.serializeSymbol(e,this.dictionary.name.get(s));const l=To(e);if(null!==l)return this.serializeDictionary(l);const c=Mo(e);if(c){if("\\"===c[0]){const t=Lo(e);return 0===t.length?c:c+"{"+t.map(e=>this.serialize(e)).filter(e=>Boolean(e)).join("}{")+"}"}const o=this.dictionary.name.get(c);if(o){let a="";return"function"==typeof o.serialize&&(a=o.serialize(this,e)),a||void 0===o.precedence&&!(null===(t=o.trigger)||void 0===t?void 0:t.superfix)&&!(null===(n=o.trigger)||void 0===n?void 0:n.subfix)||(a=function(e,t,n){var i,r,o,a,s;let l="";const c=Eo(t),u=Mo(t);if((null===(i=n.trigger)||void 0===i?void 0:i.superfix)||(null===(r=n.trigger)||void 0===r?void 0:r.subfix))return 1!==c&&e.onError({code:"operator-requires-one-operand",arg:e.serializeSymbol(u)}),Qo(n.serialize,[e.serialize(Ao(t,1))]);if(null===(o=n.trigger)||void 0===o?void 0:o.postfix)return 1!==c&&e.onError({code:"postfix-operator-requires-one-operand",arg:e.serializeSymbol(u)}),Qo(n.serialize,[e.wrap(Ao(t,1),n.precedence)]);if(null===(a=n.trigger)||void 0===a?void 0:a.prefix)return 1!==c&&e.onError({code:"prefix-operator-requires-one-operand",arg:e.serializeSymbol(u)}),Qo(n.serialize,[e.wrap(Ao(t,1),n.precedence+1)]);if(null===(s=n.trigger)||void 0===s?void 0:s.infix){l=e.wrap(Ao(t,1),n.precedence);for(let i=2;i<c+1;i++){const r=Ao(t,i);null!==r&&(l=Qo(n.serialize,[l,e.wrap(r,n.precedence)]))}}return l}(this,e,o)),!a&&(null===(i=o.trigger)||void 0===i?void 0:i.matchfix)&&(a=function(e,t,n){var i,r;let o=[];if("string"==typeof(null===(i=n.trigger)||void 0===i?void 0:i.matchfix)?o.push(null===(r=n.trigger)||void 0===r?void 0:r.matchfix):n.trigger&&Array.isArray(n.trigger.matchfix)&&(o=[...n.trigger.matchfix]),Eo(t)>=1){let i="";for(const r of Lo(t))r&&(o.push(i),o.push(e.serialize(r)),i=n.separator)}return o.push(ro(n.closeFence)),io(o)}(this,e,o)),!a&&(null===(r=o.trigger)||void 0===r?void 0:r.symbol)&&(a=this.serializeSymbol(e,o)),a}}if(Array.isArray(e)||bo(e))return this.serializeSymbol(e);this.onError({code:"syntax-error",arg:JSON.stringify(e)})})();return this.level-=1,null!=t?t:""}}class ia{constructor(e){var t,n;this.onError=null!==(t=null==e?void 0:e.onError)&&void 0!==t?t:e=>{"undefined"!=typeof window&&(!e.before||e.after)};const i={...null!=e?e:{}};delete i.dictionary,delete i.onError,this.options={...Xo,...Yo,...Zo,...i},this.dictionary=function(e,t){var n,i,r,o,a,s,l,c,u,d,h,p,f,m,g;const y={lookahead:1,name:new Map,prefix:[],infix:[],postfix:[],matchfix:[],superfix:[],subfix:[],symbol:[],environment:new Map};for(const v of e)void 0===v.parse&&(v.parse=v.name),"string"==typeof v.trigger&&(v.trigger={symbol:v.trigger}),"string"==typeof v.serialize&&void 0!==(null===(n=v.trigger)||void 0===n?void 0:n.symbol)&&/#[0-9]/.test(v.serialize)&&t({code:"unexpected-argument",arg:v.name}),void 0===v.serialize&&(void 0!==(null===(i=v.trigger)||void 0===i?void 0:i.postfix)?v.serialize="#1"+Ho(v.trigger.postfix):void 0!==(null===(r=v.trigger)||void 0===r?void 0:r.prefix)?v.serialize=Ho(v.trigger.prefix)+"#1":void 0!==(null===(o=v.trigger)||void 0===o?void 0:o.infix)?v.serialize="#1"+Ho(v.trigger.infix)+"#2":void 0!==(null===(a=v.trigger)||void 0===a?void 0:a.symbol)?v.serialize=Ho(v.trigger.symbol):void 0!==(null===(s=v.trigger)||void 0===s?void 0:s.superfix)?v.serialize="#1^{"+Ho(null===(l=v.trigger)||void 0===l?void 0:l.superfix)+"}":void 0!==(null===(c=v.trigger)||void 0===c?void 0:c.subfix)?v.serialize="#1_{"+Ho(null===(u=v.trigger)||void 0===u?void 0:u.subfix)+"}":v.serialize=""),void 0!==(null===(d=v.trigger)||void 0===d?void 0:d.infix)&&(void 0===v.precedence&&t({code:"syntax-error",arg:"Infix operators require a precedence"}),v.associativity||(v.associativity="non")),void 0!==(null===(h=v.trigger)||void 0===h?void 0:h.symbol)&&(v.arguments=null!==(p=v.arguments)&&void 0!==p?p:"",v.optionalLatexArg=null!==(f=v.optionalLatexArg)&&void 0!==f?f:0,v.requiredLatexArg=null!==(m=v.requiredLatexArg)&&void 0!==m?m:0),void 0!==(null===(g=v.trigger)||void 0===g?void 0:g.matchfix)&&("function"===v.parse||v.closeFence||t({code:"syntax-error",arg:"Matchfix operators require a close fence or a custom parse function"})),void 0!==v.trigger&&(["infix","prefix","postfix","symbol","matchfix","superfix","subfix"].forEach(e=>{if(v.trigger[e]){const n=(t=v.trigger[e],Array.isArray(t)?t.length:1);y.lookahead=Math.max(y.lookahead,n),void 0===y[e][n]&&(y[e][n]=new Map),y[e][n].set(Ho(v.trigger[e]),v)}var t}),void 0!==v.trigger.environment&&y.environment.set(v.trigger.environment,v)),void 0!==v.name?y.name.set(Ho(v.name),v):"string"==typeof v.parse&&y.name.set(v.parse,v),void 0!==v.trigger||v.name||t({code:"syntax-error",arg:"Need at least a trigger or a name"});return y}(null!==(n=null==e?void 0:e.dictionary)&&void 0!==n?n:ia.getDictionary(),this.onError)}static getDictionary(e="all"){if("all"===e){let e=[];for(const t of Object.keys(Go))e=[...e,...Go[t]];return e}return Go[e]?[...Go[e]]:[]}parse(e){var t;const n=new Jo(no(e,[]),this.options,this.dictionary,this.onError),i=n.matchExpression();return n.atEnd||null===(t=this.onError)||void 0===t||t.call(this,{code:"syntax-error"}),null!=i?i:""}serialize(e){return new na(this.options,this.dictionary,this.onError).serialize(e)}}function ra(e,t){return new ia(t).parse(e)}function oa(e,t){return new ia(t).serialize(e)}class aa{constructor(e,t,n,i){this.options=e,this.root=new ot("root",{mode:this.options.mode}),this.root.body=[],this._selection={ranges:[[0,0]],direction:"none"},this._anchor=0,this._position=0,this.setListeners(t),this.setHooks(n),this.mathfield=i,this.suppressChangeNotifications=!1}get atoms(){return this.root.children}get selection(){return this._selection}set selection(e){this.setSelection(e)}setSelection(e,t){return this.deferNotifications({selection:!0},()=>{const n=this.normalizeSelection(e,t);if(void 0===n)throw new TypeError("Invalid selection");if(1===n.ranges.length&&n.ranges[0][0]===n.ranges[0][1]){const e=n.ranges[0][0];this._position=e,this._anchor=e,this._selection=n}else{const e=tr(n);"backward"===n.direction?[this._position,this._anchor]=e:[this._anchor,this._position]=e;const t=this.at(e[0]),i=this.at(e[1]),r=ot.commonAncestor(t,i);"array"===(null==r?void 0:r.type)&&t.parent===r&&i.parent===r||(this._selection={ranges:[[this.offsetOf(t),this.offsetOf(i)]],direction:n.direction},"backward"===n.direction?this._position=this._selection.ranges[0][0]:this._position=this._selection.ranges[0][1])}})}get position(){return this._position}set position(e){this.setSelection(e,e)}get anchor(){return this._anchor}get selectionIsCollapsed(){return this._anchor===this._position}get selectionIsPlaceholder(){return 1===Math.abs(this._anchor-this._position)&&"placeholder"===this.at(Math.max(this._anchor,this._position)).type}collapseSelection(e="forward"){return this._anchor!==this._position&&(this.position="backward"===e?Math.min(this._anchor,this._position):Math.max(this._anchor,this._position),!0)}get lastOffset(){return this.atoms.length-1}at(e){return this.atoms[e]}offsetOf(e){return this.atoms.indexOf(e)}getSiblingsRange(e){const t=this.at(e),{parent:n}=t;if(!n)return[0,this.lastOffset];const i=t.parent.branch(t.treeBranch);return[this.offsetOf(i[0]),this.offsetOf(i[i.length-1])]}getBranchRange(e,t){const n=this.at(e).branch(t);return[this.offsetOf(n[0]),this.offsetOf(n[n.length-1])]}getAtoms(e,t,n){var i,r;let o,a,s=null!=n?n:{};if(Zr(e)){if(s=null!==(i=t)&&void 0!==i?i:{},e.ranges.length>1)return e.ranges.reduce((e,t)=>[...e,...this.getAtoms(t,s)],[]);e=e.ranges[0]}if(Gr(e)){if(o=e,!Gr(t))return[];a=t}else[o,a]=e,s=null!==(r=t)&&void 0!==r?r:{};if(!Number.isFinite(o))return[];void 0===s.includeChildren&&(s.includeChildren=!1),o<0&&(o=this.lastOffset-o+1),a<0&&(a=this.lastOffset-a+1);const l=Math.min(o,a)+1,c=Math.max(o,a);if(1===l&&c===this.lastOffset)return[this.root];let u=[];for(let d=l;d<=c;d++){const e=this.atoms[d];sa(this,e,l,c)&&u.push(e)}return s.includeChildren||(u=u.filter(e=>{let t=!1,{parent:n}=e;for(;n&&!t;)t=sa(this,n,l,c),n=n.parent;return!t})),u}getAllAtoms(e){const t=[],n=this.lastOffset;for(let i=e;i<=n;i++)t.push(this.atoms[i]);for(let i=0;i<e;i++)t.push(this.atoms[i]);return t}extractAtoms(e){let t=this.getAtoms(e);1===t.length&&"root"===t[0].type&&(t=t[0].children);for(const n of t)n.parent.removeChild(n);return t}deleteAtoms(e){return this.extractAtoms(e),e[0]}atomToString(e,t){const n=null!=t?t:"latex";let i="";if("latex"===n||"latex-expanded"===n)i=ot.serialize(e,{expandMacro:"latex-expanded"===n,defaultMode:this.mathfield.options.defaultMode});else if("math-ml"===n)i=ii(e,this.mathfield.options);else if("spoken"===n)i=li(e,this.mathfield.options);else if("spoken-text"===n){const t=this.mathfield.options.textToSpeechMarkup;this.mathfield.options.textToSpeechMarkup="",i=li(e,this.mathfield.options),this.mathfield.options.textToSpeechMarkup=t}else if("spoken-ssml"===n||"spoken-ssml-with-highlighting"===n){const t=this.mathfield.options.textToSpeechMarkup;this.mathfield.options.textToSpeechMarkup="ssml",i=li(e,this.mathfield.options),this.mathfield.options.textToSpeechMarkup=t}else if("math-json"===n)try{const t=ra(ot.serialize(e,{expandMacro:!1,defaultMode:"math"}),{onError:this.mathfield.options.onError});i=JSON.stringify(t)}catch(e){return""}else"ascii-math"===n&&(i=Rn(e));return i}getValue(e,t,n){if(void 0===e)return this.atomToString(this.root,"latex");if("string"==typeof e)return this.atomToString(this.root,e);let i,r;if(Gr(e)&&Gr(t)?(i=[this.normalizeRange([e,t])],r=null!=n?n:"latex"):Xr(e)?(i=[this.normalizeRange(e)],r=t):Zr(e)?(i=e.ranges,r=t):(i=[],r="latex"),"latex"===r||"latex-expanded"===r){const e={expandMacro:"latex-expanded"===r,defaultMode:this.mathfield.options.defaultMode};return ke(i.map(t=>ot.serialize(this.getAtoms(t),e)))}return i.map(e=>this.getAtoms(e).map(e=>this.atomToString(e,r)).join("")).join("")}extendSelection(e){let t=this._anchor;if("forward"===e){let e=this._position;do{let t=this.at(e+1);if(null==t?void 0:t.inCaptureSelection){for(;!t.captureSelection;)t=t.parent;e=this.offsetOf(null==t?void 0:t.parent.lastChild)+1}else e+=1}while(e<=this.lastOffset&&this.at(e).isFirstSibling);return e===t-1&&"first"===this.at(t).type&&(e=t),this.extendSelectionTo(t,e)}let n=this._position-1;if(n<0)return!1;for(;n>=0&&this.at(n).isLastSibling;){let e=this.at(n);if(null==e?void 0:e.inCaptureSelection){for(;!e.captureSelection;)e=e.parent;n=this.offsetOf(null==e?void 0:e.parent.firstChild)-1}else n-=1}return n<0&&(n=0),n===t+1&&"first"===this.at(n).type&&(t=n),this.extendSelectionTo(t,n)}extendSelectionTo(e,t){return this.deferNotifications({selection:!0},()=>{const n=this.normalizeRange([e,t]);let[i,r]=n,{parent:o}=this.at(r);for(;o!==this.root&&la(this,o,[i,r]);)r=this.offsetOf(o),o=o.parent;for(o=this.at(i).parent;o!==this.root&&la(this,o,[i,r]);)i=this.offsetOf(o.leftSibling),o=o.parent;for(o=this.at(r).parent;o!==this.root&&la(this,o,[i,r]);)r=this.offsetOf(o),o=o.parent;this._position=this.normalizeOffset(t),this._selection={ranges:[[i,r]],direction:"none"}})}setListeners(e){this.listeners=e}setHooks(e){this.hooks={announce:(null==e?void 0:e.announce)?e.announce:(e,t,n,i)=>{},moveOut:(null==e?void 0:e.moveOut)?e.moveOut:()=>!0,tabOut:(null==e?void 0:e.tabOut)?e.tabOut:()=>!0}}announce(e,t,n=[]){this.hooks.announce(this.mathfield,e,t,n)}deferNotifications(e,t){const n=this._selection,i=this._anchor,r=this._position;let o=!1;const a=this.suppressChangeNotifications;this.suppressChangeNotifications=!0;const s=this.root.changeCounter;t();const l=this.root.changeCounter!==s;return i===this._anchor&&r===this._position&&"different"!==function(e,t){if(e.direction===t.direction){const n=e.ranges.length;if(t.ranges.length===n){let i=0;for(;i<n&&"equal"===er(e.ranges[i],t.ranges[i]);)i++;return i===n?"equal":"different"}}return"different"}(this._selection,n)||(o=!0),this.suppressChangeNotifications=a,this.suppressChangeNotifications||(e.content&&l&&or(this),e.selection&&o&&rr(this)),l||o}normalizeOffset(e){return e>0?e=Math.min(e,this.lastOffset):e<0&&(e=this.lastOffset+e+1),e}normalizeRange(e){let[t,n]=e;return t=this.normalizeOffset(t),n=this.normalizeOffset(n),t<n?[t,n]:[n,t]}normalizeSelection(e,t){var n;let i;if(Gr(e)){const n=this.normalizeOffset(e);if(Gr(t)){const e=this.normalizeOffset(t);i=n<=e?{ranges:[[n,e]],direction:"none"}:{ranges:[[e,n]],direction:"backward"}}else i={ranges:[[n,n]],direction:"none"}}else if(Xr(e)){const t=this.normalizeOffset(e[0]),n=this.normalizeOffset(e[1]);i=t<=n?{ranges:[[t,n]],direction:"none"}:{ranges:[[n,t]],direction:"backward"}}else Zr(e)&&(i={ranges:e.ranges.map(e=>this.normalizeRange(e)),direction:null!==(n=e.direction)&&void 0!==n?n:"none"});return i}}function sa(e,t,n,i){const r=e.offsetOf(t);if(r<n||r>i)return!1;if(!t.hasChildren)return!0;const o=e.offsetOf(t.firstChild);if(o>=n&&o<=i){const r=e.offsetOf(t.lastChild);if(r>=n&&r<=i)return!0}return!1}function la(e,t,n){if(!(null==t?void 0:t.hasChildren))return!1;const[i,r]=n,o=e.offsetOf(t.firstChild),a=e.offsetOf(t.lastChild);return o>=i&&o<=r&&a>=o&&a<=r}function ca(e){return or(e),!0}function ua(e){return or(e),!0}function da(e,t,n,i){var r,o,a,s,l,c;const u=n.parent;if(n instanceof St){const r=!i&&"forward"===t||"body"===i&&"backward"===t,o=r?e.offsetOf(n)-1:e.offsetOf(n.lastChild);return r||"?"===n.leftDelim||"."===n.leftDelim?r&&"?"!==n.rightDelim&&"."!==n.rightDelim&&u.addChildAfter(new ot("mclose",{value:n.rightDelim}),n):u.addChildBefore(new ot("mopen",{value:n.leftDelim}),n),u.addChildrenAfter(n.removeBranch("body"),n),u.removeChild(n),e.position=o,!0}if("surd"===n.type){if("forward"===t&&!i||"backward"===t&&"body"===i){const t=n.leftSibling;n.hasChildren&&u.addChildrenAfter(n.removeBranch("body"),n),u.removeChild(n),e.position=e.offsetOf(t)}else"forward"===t&&"body"===i?e.position=e.offsetOf(n):i||"backward"!==t?"above"===i&&(n.hasEmptyBranch("above")&&n.removeBranch("above"),e.position="backward"===t?e.offsetOf(n.leftSibling):e.offsetOf(n.body[0])):n.hasChildren?e.position=e.offsetOf(n.lastChild):(e.position=Math.max(e.offsetOf(n)-1),u.removeChild(n));return!0}if("box"===n.type||"enclose"===n.type){const r=i&&"backward"===t||!i&&"forward"===t?n.leftSibling:n.lastChild;return u.addChildrenAfter(n.removeBranch("body"),n),u.removeChild(n),e.position=e.offsetOf(r),!0}if("genfrac"===n.type||"overunder"===n.type){if(!i)return!!n.hasChildren&&(e.position=e.offsetOf("forward"===t?n.firstChild:n.lastChild),!0);if("forward"===t&&"above"===i||"backward"===t&&"below"===i){const t=n.removeBranch("above"),i=n.removeBranch("below");return u.addChildrenAfter([...t,...i],n),u.removeChild(n),e.position=e.offsetOf(t.length>0?t[t.length-1]:i[0]),!0}return"backward"===t?(e.position=e.offsetOf(n.leftSibling),!0):(e.position=e.offsetOf(n),!0)}if(n.isExtensibleSymbol||"msubsup"===n.type){if(!i&&"forward"===t)return!1;if(!i){if(n.subscript||n.superscript){const i="forward"===t?null!==(o=null===(r=n.superscript)||void 0===r?void 0:r[0])&&void 0!==o?o:null===(a=n.subscript)||void 0===a?void 0:a[0]:null!==(l=null===(s=n.subscript)||void 0===s?void 0:s[0].lastSibling)&&void 0!==l?l:null===(c=n.superscript)||void 0===c?void 0:c[0].lastSibling;return i&&(e.position=e.offsetOf(i)),!0}return!1}if(i&&n.hasEmptyBranch(i)&&n.removeBranch(i),!n.hasChildren){const i="forward"===t?e.offsetOf(n):Math.max(0,e.offsetOf(n)-1);return n.parent.removeChild(n),e.position=i,!0}if("superscript"===i)if("backward"===t){const t=e.offsetOf(n.firstChild)-1;e.position=t}else n.subscript?e.position=e.offsetOf(n.subscript[0]):e.position=e.offsetOf(n);else"subscript"===i&&("backward"===t&&n.superscript?e.position=e.offsetOf(n.superscript[0].lastSibling):e.position="backward"===t?e.offsetOf(n.firstChild)-1:e.offsetOf(n));return!0}return!1}function ha(e,t){return e.deferNotifications({content:!0,selection:!0},()=>{e.deleteAtoms(t),e.position=t[0]})}hr({addRowAfter:ca,addColumnAfter:ua,addRowBefore:function(e){return or(e),!0},addColumnBefore:function(e){return or(e),!0}},{target:"model",category:"array-edit"});class pa extends ot{constructor(e,t){var n;super("composition",{mode:null!==(n=null==t?void 0:t.mode)&&void 0!==n?n:"math",value:e})}get computedStyle(){return{}}render(e){const t=new re(this.value,{classes:"ML__composition",type:"composition"});return this.bind(e,t),this.caret&&(t.caret=this.caret),t}serialize(e){return""}}function fa(e,t){const n=e.at(t);let i;if(n){i=n.mode;let e=n.parent;for(;!i&&e;)e&&(i=e.mode),e=e.parent}return i}function ma(e,t){e&&t&&(i(e)?e.forEach(e=>ma(e,t)):"object"==typeof e&&(e.style.color||e.style.backgroundColor||e.style.fontFamily||e.style.fontShape||e.style.fontSeries||e.style.fontSize||e.style.variant||e.style.variantStyle||(e.applyStyle(t),ma(e.body,t),ma(e.above,t),ma(e.below,t),ma(e.subscript,t),ma(e.superscript,t))))}function ga(e,t,n,i){function r(e,t){for(const n of o)if(n.style[e]!==t)return!1;return!0}if((t=e.normalizeRange(t))[0]===t[1])return!1;const o=e.getAtoms(t,{includeChildren:!0});"toggle"===i.operation&&(n.color&&r("color",n.color)&&(n.color="none",n.verbatimColor=void 0),n.backgroundColor&&r("backgroundColor",n.backgroundColor)&&(n.backgroundColor="none",n.verbatimBackgroundColor=void 0),n.fontFamily&&r("fontFamily",n.fontFamily)&&(n.fontFamily="none"),n.fontSeries&&r("fontSeries",n.fontSeries)&&(n.fontSeries="auto"),n.fontShape&&r("fontShape",n.fontShape)&&(n.fontShape="auto"),n.fontSize&&r("fontSize",n.fontSize)&&(n.fontSize=5));for(const a of o)a.applyStyle(n);return!0}function ya(e,t,n){if("text"!==e.at(t).mode)return t;const i="backward"===n?-1:1;let r;if(ze.test(e.at(t).value)){let n,o=t;do{n="text"===e.at(o).mode&&ze.test(e.at(o).value),o+=i}while(e.at(o)&&n);r=e.at(o)?o-2*i:o-i}else if(/\s/.test(e.at(t).value)){let n=t;for(;e.at(n)&&"text"===e.at(n).mode&&/\s/.test(e.at(n).value);)n+=i;if(e.at(n)){let t=!0;do{t="text"===e.at(n).mode&&!/\s/.test(e.at(n).value),n+=i}while(e.at(n)&&t);r=e.at(n)?n-2*i:n-i}else r=n-i}else{let n=t;for(;e.at(n)&&"text"===e.at(n).mode&&!/\s/.test(e.at(n).value);)n+=i;r=e.at(n)?n:n-i;let o=!0;for(;e.at(n)&&o;)o="text"===e.at(n).mode&&/\s/.test(e.at(n).value),o&&(r=n),n+=i;r=e.at(n)?n-2*i:n-i}return r-(i>0?0:1)}function va(e,t,n){var i,r,o,a,s,l,c;const u=e.position;null!==(i=null==n?void 0:n.extend)&&void 0!==i&&i||e.collapseSelection(t);let d=e.at(e.position);if("forward"===t&&("msubsup"===d.type?(d=d.rightSibling,d||(d=e.at(e.position+1))):d=e.at(e.position+1)),!d)return e.announce("plonk"),!1;let h=e.offsetOf(d);if(d instanceof At)h=ya(e,h,t);else if(d instanceof Pi)if(d.isSuggestion)for(;d&&d instanceof Pi;)d.isSuggestion=!1,h=e.offsetOf(d),d=d.rightSibling;else if("forward"===t){if(d=d.rightSibling,!(d&&d instanceof Pi))return e.announce("plonk"),!1;for(;d&&d instanceof Pi&&/[a-zA-Z*]/.test(d.value);)h=e.offsetOf(d),d=d.rightSibling}else{if(d=d.leftSibling,!(d&&d instanceof Pi))return e.announce("plonk"),!1;for(;d&&d instanceof Pi&&/[a-zA-Z*]/.test(d.value);)h=e.offsetOf(d),d=d.leftSibling}else if("forward"===t&&"mopen"===d.type){let t=0;do{"mopen"===d.type?t+=1:"mclose"===d.type&&(t-=1),d=d.rightSibling}while(!d.isLastSibling&&0!==t);h=e.offsetOf(d.leftSibling)}else if("backward"===t&&"mclose"===d.type){let t=0;do{"mopen"===d.type?t+=1:"mclose"===d.type&&(t-=1),d=d.leftSibling}while(!d.isFirstSibling&&0!==t);h=e.offsetOf(d)}else if("backward"===t)if("first"===d.type)for(;h>0&&"first"===d.type;)h-=1,d=e.at(h);else{const t=d.type;"msubsup"===d.type&&(h=e.offsetOf(e.at(h).leftSibling)),h-=1;let n=null===(r=e.at(h))||void 0===r?void 0:r.type;for(;h>=0&&n===t;)"msubsup"===(null===(o=e.at(h))||void 0===o?void 0:o.type)?h=e.offsetOf(e.at(h).leftSibling):h-=1,n=e.at(h).type}else{const{type:t}=d;let n=null===(a=e.at(h))||void 0===a?void 0:a.type;const{lastOffset:i}=e;for(;h<=i&&(n===t||"msubsup"===n);){for(;"msubsup"===(null===(s=e.at(h).rightSibling)||void 0===s?void 0:s.type);)h=e.offsetOf(e.at(h).rightSibling);h+=1,n=null===(l=e.at(h))||void 0===l?void 0:l.type}h-=1}if(null!==(c=null==n?void 0:n.extend)&&void 0!==c&&c){if(!e.setSelection(e.anchor,h))return e.announce("plonk"),!1}else{if(h===e.position)return e.announce("plonk"),!1;e.position=h}return e.announce("move",u),!0}function ba(e,t,n){var i,r,o;if(n=null!=n?n:{extend:!1},"forward"!==t){const[t,n]=sr(e);void 0!==t&&void 0!==n&&e.deleteAtoms([t,n])}if("upward"===t)return function(e,t){var n,i,r;const o=null!==(n=null==t?void 0:t.extend)&&void 0!==n&&n;e.collapseSelection("backward");let a=e.at(e.position);for(;a&&"below"!==a.treeBranch;)a=a.parent;if(!a){let t=!0;return e.suppressChangeNotifications||(t=null===(r=e.hooks)||void 0===r?void 0:r.moveOut(e,"upward")),e.announce(t?"plonk":"line"),t}if(o)e.setSelection(e.offsetOf(a.parent.leftSibling),e.offsetOf(a.parent));else{const t=null!==(i=a.parent.branch("above"))&&void 0!==i?i:a.parent.createBranch("above");_a(e,e.offsetOf(t[t.length-1]))}return e.announce("move up"),!0}(e,n);if("downward"===t)return function(e,t){var n,i,r;const o=null!==(n=null==t?void 0:t.extend)&&void 0!==n&&n;e.collapseSelection("forward");let a=e.at(e.position);for(;a&&"above"!==a.treeBranch;)a=a.parent;if(!a){let t=!0;return e.suppressChangeNotifications||(t=null===(r=e.hooks)||void 0===r?void 0:r.moveOut(e,"downward")),e.announce(t?"plonk":"line"),t}if(o)e.setSelection(e.offsetOf(a.parent.leftSibling),e.offsetOf(a.parent));else{const t=null!==(i=a.parent.branch("below"))&&void 0!==i?i:a.parent.createBranch("below");_a(e,e.offsetOf(t[t.length-1]))}return e.announce("move down"),!0}(e,n);const a=e.position;if(n.extend)return e.extendSelection(t);if(e.selectionIsPlaceholder)return e.collapseSelection(t),ba(e,t);if(!e.collapseSelection(t)){let a=e.position+("forward"===t?1:-1);if("forward"===t){let t=e.at(a);if(null==t?void 0:t.inCaptureSelection){for(;!t.captureSelection;)t=t.parent;a=e.offsetOf(t)}else if(!(null==t?void 0:t.isFirstSibling)&&(null==t?void 0:t.isLastSibling)&&(null===(i=t.parent)||void 0===i?void 0:i.skipBoundary)){if(a+1!==e.lastOffset)return e.position=a+1,ba(e,"forward",n);a+=1}else t instanceof Pi&&t.isSuggestion&&(t.isSuggestion=!1)}else if("backward"===t){let t=e.at(a);if(null==t?void 0:t.inCaptureSelection){for(;!t.captureSelection;)t=t.parent;a=Math.max(0,e.offsetOf(t.leftSibling))}else!(null==t?void 0:t.isLastSibling)&&(null==t?void 0:t.isFirstSibling)&&(null===(r=t.parent)||void 0===r?void 0:r.skipBoundary)&&(a=Math.max(0,a-1))}if(a<0||a>e.lastOffset){let n=!0;return e.suppressChangeNotifications||(n=null===(o=e.hooks)||void 0===o?void 0:o.moveOut(e,t)),n&&e.announce("plonk"),n}_a(e,a)}return e.announce("move",a),!0}function _a(e,t){var n,i,r;"placeholder"===(null===(n=e.at(t))||void 0===n?void 0:n.type)?e.setSelection(t-1,t):"placeholder"===(null===(r=null===(i=e.at(t))||void 0===i?void 0:i.rightSibling)||void 0===r?void 0:r.type)?e.setSelection(t,t+1):e.position=t}function xa(e){const t=e.position;return e.at(t).parent?(e.position=e.offsetOf(e.at(e.position).parent),e.announce("move",t),!0):(e.announce("plonk"),!1)}function ka(e){var t;if(e.collapseSelection(),function(e){let t=0,n=e.at(e.position),i=!1;for(;n;)n.hasEmptyBranch("superscript")&&n.hasEmptyBranch("subscript")||(t+=1),n.hasEmptyBranch("superscript")?n.hasEmptyBranch("subscript")||(i=!1):i=!0,n=n.parent;return i?t:0}(e)>=e.mathfield.options.scriptDepth[1])return e.announce("plonk"),!1;let n=e.at(e.position);return void 0===n.subsupPlacement&&("msubsup"!==(null===(t=n.rightSibling)||void 0===t?void 0:t.type)&&n.parent.addChildAfter(new Mt({style:n.computedStyle}),n),n=n.rightSibling),n.createBranch("superscript"),e.setSelection(e.getSiblingsRange(e.offsetOf(n.superscript[0]))),!0}function wa(e){var t;if(e.collapseSelection(),function(e){let t=0,n=e.at(e.position),i=!1;for(;n;)n.hasEmptyBranch("superscript")&&n.hasEmptyBranch("subscript")||(t+=1),n.hasEmptyBranch("superscript")?n.hasEmptyBranch("subscript")||(i=!0):i=!1,n=n.parent;return i?t:0}(e)>=e.mathfield.options.scriptDepth[0])return e.announce("plonk"),!1;let n=e.at(e.position);return void 0===n.subsupPlacement&&("msubsup"!==(null===(t=e.at(e.position+1))||void 0===t?void 0:t.type)&&n.parent.addChildAfter(new Mt({style:e.at(e.position).computedStyle}),n),n=e.at(e.position+1)),n.createBranch("subscript"),e.setSelection(e.getSiblingsRange(e.offsetOf(n.subscript[0]))),!0}function Sa(e,t,n=!0){var i,r;const o="forward"===t?1:-1;"placeholder"===e.at(e.anchor).type&&ba(e,t);const a=e.getAllAtoms(e.position+o);"backward"===t&&a.reverse();const s=a.filter(e=>"placeholder"===e.type||e.treeDepth>0&&e.isFirstSibling&&e.isLastSibling);if(0===s.length){if(!n||!(null===(r=(i=e.hooks).tabOut)||void 0===r?void 0:r.call(i,e,t)))return e.announce("plonk"),!1;const a=function(){function e(e){return!(!function(e){return!(e.disabled||"hidden"===e.type&&"INPUT"===e.tagName.toUpperCase()||function(e){if(!Se()||e===document.activeElement||e.contains(document.activeElement))return!1;if("hidden"===getComputedStyle(e).visibility)return!0;const t=e.getBoundingClientRect();if(0===t.width||0===t.height)return!0;for(;e;){if("none"===getComputedStyle(e).display)return!0;e=e.parentElement}return!1}(e))}(e)||(n=e,"INPUT"===n.tagName.toUpperCase()&&"radio"===n.type&&!function(e){var t;if(!e.name)return!0;const n=function(e,t){for(const n of e)if(n.checked&&n.form===t)return n;return null}((null!==(t=e.form)&&void 0!==t?t:e.ownerDocument).querySelectorAll('input[type="radio"][name="'+e.name+'"]'),e.form);return!n||n===e}(n))||t(e)<0);var n}function t(e){var t;const n=Number.parseInt(null!==(t=e.getAttribute("tabindex"))&&void 0!==t?t:"NaN",10);return Number.isNaN(n)?"true"===e.contentEditable?0:"AUDIO"!==e.nodeName&&"VIDEO"!==e.nodeName||null!==e.getAttribute("tabindex")?e.tabIndex:0:n}return Se()?function(n){const i=[],r=[];return[...n.querySelectorAll('input, select, textarea, a[href], button, \n        [tabindex], audio[controls], video[controls],\n        [contenteditable]:not([contenteditable="false"]), details>summary')].filter(e).forEach((e,n)=>{const o=t(e);0===o?i.push(e):r.push({documentOrder:n,tabIndex:o,node:e})}),r.sort((e,t)=>e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex).map(e=>e.node).concat(i)}(document.body):[]}();if(!document.activeElement||1===a.length)return e.announce("plonk"),!1;let s=a.indexOf(document.activeElement)+o;return s<0&&(s=a.length-1),s>=a.length&&(s=0),a[s].focus(),0!==s||(e.announce("plonk"),!1)}const l=e.position,c=e.offsetOf(s[0]);return"placeholder"===s[0].type?e.setSelection(c-1,c):e.position=c,e.announce("move",l),!0}function Ma(e){return!!e&&("mord"===e.type&&/[\d.]/.test(e.value)||"mpunct"===e.type&&","===e.value)}function Ca(e){if("text"===fa(e,e.position)){let t=Math.min(e.anchor,e.position),n=Math.max(e.anchor,e.position),i=!1;for(;!i&&t>0;){const n=e.at(t);"text"===n.mode&&ze.test(n.value)?t-=1:i=!0}for(i=!1;!i&&n<=e.lastOffset;){const t=e.at(n);"text"===t.mode&&ze.test(t.value)?n+=1:i=!0}if(i&&(n-=1),t>=n)return e.setSelection(n-1,n),!0;e.setSelection(t,n)}else{const t=e.at(e.position);if(Ma(t)){let t=Math.min(e.anchor,e.position),n=Math.max(e.anchor,e.position);for(;Ma(e.at(t));)t-=1;for(;Ma(e.at(n));)n+=1;e.setSelection(t,n-1)}else e.setSelection(e.offsetOf(t.firstSibling),e.offsetOf(t.lastSibling))}return!0}hr({deleteAll:e=>ha(e,[0,-1]),deleteForward:e=>function(e){return e.selectionIsCollapsed?e.deferNotifications({content:!0,selection:!0},()=>{var t,n;let i=e.at(e.position).rightSibling;if(i&&da(e,"forward",i))return;if(i){if(e.at(e.position).isLastSibling&&da(e,"forward",i.parent,i.treeBranch))return}else{if(i=e.at(e.position),i.isLastSibling&&da(e,"forward",i.parent,i.treeBranch))return;i=null}if(e.position===e.lastOffset||!i)return void e.announce("plonk");i.parent.removeChild(i);let r=null===(t=e.at(e.position))||void 0===t?void 0:t.rightSibling;for(;"msubsup"===(null==r?void 0:r.type);)r.parent.removeChild(r),r=null===(n=e.at(e.position))||void 0===n?void 0:n.rightSibling;e.announce("delete",void 0,[i])}):ha(e,tr(e.selection))}(e),deleteBackward:e=>function(e){return e.selectionIsCollapsed?e.deferNotifications({content:!0,selection:!0},()=>{let t=e.at(e.position);if(t&&da(e,"backward",t))return;if(null==t?void 0:t.isFirstSibling){if(da(e,"backward",t.parent,t.treeBranch))return;t=null}if(!t)return void e.announce("plonk");const n=e.offsetOf(t.leftSibling);t.parent.removeChild(t),e.announce("delete",void 0,[t]),e.position=n}):ha(e,tr(e.selection))}(e),deleteNextWord:e=>ha(e,[e.anchor,ya(e,e.position,"forward")]),deletePreviousWord:e=>ha(e,[e.anchor,ya(e,e.position,"backward")]),deleteToGroupStart:e=>ha(e,[e.anchor,e.offsetOf(e.at(e.position).firstSibling)]),deleteToGroupEnd:e=>ha(e,[e.anchor,e.offsetOf(e.at(e.position).lastSibling)]),deleteToMathFieldStart:e=>ha(e,[e.anchor,0]),deleteToMathFieldEnd:e=>ha(e,[e.anchor,-1])},{target:"model",category:"delete"}),hr({moveToOpposite:e=>{const t=e.at(e.position),{parent:n}=t;if(!n)return e.announce("plonk"),!1;const i=t.treeBranch;let r;return"string"==typeof i&&(r={superscript:"subscript",subscript:"superscript",above:"below",below:"above"}[i]),r?(n.branch(r)||n.createBranch(r),e.setSelection(e.getBranchRange(e.offsetOf(n),r))):t.subsupPlacement?wa(e):ka(e)},moveBeforeParent:e=>{const{parent:t}=e.at(e.position);return t?(e.position=e.offsetOf(t),!0):(e.announce("plonk"),!1)},moveAfterParent:e=>xa(e),moveToNextPlaceholder:e=>Sa(e,"forward"),moveToPreviousPlaceholder:e=>Sa(e,"backward"),moveToNextChar:e=>ba(e,"forward"),moveToPreviousChar:e=>ba(e,"backward"),moveUp:e=>ba(e,"upward"),moveDown:e=>ba(e,"downward"),moveToNextWord:e=>va(e,"forward"),moveToPreviousWord:e=>va(e,"backward"),moveToGroupStart:e=>{const t=e.offsetOf(e.at(e.position).firstSibling);return t===e.position?(e.announce("plonk"),!1):(e.position=t,!0)},moveToGroupEnd:e=>{const t=e.offsetOf(e.at(e.position).lastSibling);return t===e.position?(e.announce("plonk"),!1):(e.position=t,!0)},moveToMathFieldStart:e=>0===e.position?(e.announce("plonk"),!1):(e.position=0,!0),moveToMathFieldEnd:e=>e.position===e.lastOffset?(e.announce("plonk"),!1):(e.position=e.lastOffset,!0),moveToSuperscript:e=>ka(e),moveToSubscript:e=>wa(e)},{target:"model",category:"selection-anchor"}),hr({selectGroup:e=>{const t=Ca(e);return t||e.announce("plonk"),t},selectAll:e=>e.setSelection(0,e.lastOffset),extendSelectionForward:e=>{const t=e.extendSelection("forward");return t||e.announce("plonk"),t},extendSelectionBackward:e=>{const t=e.extendSelection("backward");return t||e.announce("plonk"),t},extendToNextWord:e=>va(e,"forward",{extend:!0}),extendToPreviousWord:e=>va(e,"backward",{extend:!0}),extendSelectionUpward:e=>ba(e,"upward",{extend:!0}),extendSelectionDownward:e=>ba(e,"downward",{extend:!0}),extendToNextBoundary:e=>va(e,"forward",{extend:!0}),extendToPreviousBoundary:e=>va(e,"backward",{extend:!0}),extendToGroupStart:e=>{const t=e.setSelection(e.anchor,e.offsetOf(e.at(e.position).firstSibling));return t||e.announce("plonk"),t},extendToGroupEnd:e=>{const t=e.setSelection(e.anchor,e.offsetOf(e.at(e.position).lastSibling));return t||e.announce("plonk"),t},extendToMathFieldStart:e=>{const t=e.setSelection(e.anchor,0);return t||e.announce("plonk"),t},extendToMathFieldEnd:e=>{const t=e.setSelection(e.anchor,e.lastOffset);return t||e.announce("plonk"),t}},{target:"model",category:"selection-extend"});const La=new Set(["Backquote","Digit0","Digit1","Digit2","Digit3","Digit4","Digit5","Digit6","Digit7","Digit8","Digit9","Minus","Equal","IntlYen","KeyQ","KeyW","KeyE","KeyR","KeyT","KeyY","KeyU","KeyI","KeyO","KeyP","BracketLeft","BracketRight","Backslash","KeyA","KeyS","KeyD","KeyF","KeyG","KeyH","KeyJ","KeyK","KeyL","Semicolon","Quote","IntlBackslash","KeyZ","KeyX","KeyC","KeyV","KeyB","KeyN","KeyM","Comma","Period","Slash","IntlRo","Space","Numpad0","Numpad1","Numpad2","Numpad3","Numpad4","Numpad5","Numpad6","Numpad7","Numpad8","Numpad9","NumpadAdd","NumpadComma","NumpadDecimal","NumpadDivide","NumpadEqual","NumpadHash","NumpadMultiply","NumpadParenLeft","NumpadParenRight","NumpadStar","NumpadSubstract"]);function Oa(e){return!e.ctrlKey&&!e.metaKey&&"Dead"!==e.key&&(""===e.code||La.has(e.code))}function Aa(e){const t=[];return(e=function(e){if(!e.code){const t=Object.entries(Nn().mapping);let n=!1,i=!1,r="";for(let o=0;o<4;o++){for(const[a,s]of t)if(s[o]===e.key){r=a,3===o?(n=!0,i=!0):2===o?n=!0:1===o&&(i=!0);break}if(r)break}return new KeyboardEvent(e.type,{...e,altKey:n,shiftKey:i,code:r})}return new KeyboardEvent(e.type,e)}(e)).ctrlKey&&t.push("ctrl"),e.metaKey&&t.push("meta"),e.altKey&&t.push("alt"),e.shiftKey&&t.push("shift"),0===t.length?"["+e.code+"]":(t.push("["+e.code+"]"),t.join("+"))}function Ea(){var e;if(!Se())return null;let t=document.activeElement;for(;null===(e=null==t?void 0:t.shadowRoot)||void 0===e?void 0:e.activeElement;)t=t.shadowRoot.activeElement;return t}function Ta(e){var t;if(!e)return"";let n;return"Unidentified"===e.key&&e.target&&(n=e.target.value),n=null!==(t=null!=n?n:e.key)&&void 0!==t?t:e.code,/^(Dead|Return|Enter|Tab|Escape|Delete|PageUp|PageDown|Home|End|Help|ArrowLeft|ArrowRight|ArrowUp|ArrowDown)$/.test(n)&&(n=""),n}class Na{constructor(e){this.record=!1,this.canCoalesce=!1,this.model=e,this.reset()}get maximumDepth(){return 1e3}reset(){this.stack=[],this.index=-1}startRecording(){this.record=!0}canUndo(){return this.index>0}canRedo(){return this.index!==this.stack.length-1}undo(e){this.canUndo()&&("function"==typeof(null==e?void 0:e.onUndoStateWillChange)&&e.onUndoStateWillChange(this.model.mathfield,"undo"),this.restore(this.stack[this.index-1],e),this.index-=1,e&&"function"==typeof e.onUndoStateDidChange&&e.onUndoStateDidChange(this.model.mathfield,"undo"),this.canCoalesce=!1)}redo(e){this.canRedo()&&("function"==typeof(null==e?void 0:e.onUndoStateWillChange)&&e.onUndoStateWillChange(this.model.mathfield,"redo"),this.index+=1,this.restore(this.stack[this.index],e),e&&"function"==typeof e.onUndoStateDidChange&&e.onUndoStateDidChange(this.model.mathfield,"redo"),this.canCoalesce=!1)}pop(){this.canUndo()&&(this.index-=1,this.stack.pop())}snapshot(e){this.record&&("function"==typeof(null==e?void 0:e.onUndoStateWillChange)&&e.onUndoStateWillChange(this.model.mathfield,"snapshot"),this.stack.splice(this.index+1,this.stack.length-this.index-1),this.stack.push({latex:ot.serialize(this.model.root,{expandMacro:!1,defaultMode:this.model.mathfield.options.defaultMode}),selection:this.model.selection}),this.index++,this.stack.length>this.maximumDepth&&this.stack.shift(),e&&"function"==typeof e.onUndoStateDidChange&&e.onUndoStateDidChange(this.model.mathfield,"snapshot"),this.canCoalesce=!1)}snapshotAndCoalesce(e){this.canCoalesce&&this.pop(),this.snapshot(e),this.canCoalesce=!0}save(){return{latex:ot.serialize(this.model.root,{expandMacro:!1,defaultMode:this.model.mathfield.options.defaultMode}),selection:this.model.selection}}restore(e,t){const n=this.model.suppressChangeNotifications;void 0!==t.suppressChangeNotifications&&(this.model.suppressChangeNotifications=t.suppressChangeNotifications),ir.insert("math",this.model,e?e.latex:"",{...t,format:"latex",insertionMode:"replaceAll",selectionMode:"after",smartFence:!1}),this.model.selection=e?e.selection:{ranges:[[0,0]]},this.model.suppressChangeNotifications=n}}function Da(e,t){return"string"==typeof e?e===t:e.test(t)}function Pa(e,t,n,i,r){const o=t.branch(n);if(!o)return[];const a=[];let{length:s}=o;for(;s>0;){for(let t=1;t<o.length-s+1;t++){const n=ot.serialize(o.slice(t,t+s),{expandMacro:!1,defaultMode:e.mathfield.options.defaultMode});Da(i,n)&&(a.push([e.offsetOf(o[t].leftSibling),e.offsetOf(o[t+s-1])]),t+=s)}s--}return o.reduce((t,n)=>[...t,...qa(e,n,i,r)],a)}function qa(e,t,n,i){return"first"===t.type||(null==i?void 0:i.mode)&&i.mode!==t.mode?[]:t.branches.reduce((r,o)=>[...r,...Pa(e,t,o,n,i)],[])}function Ia(e,t,n,i,r,o){const a=t.branch(n);if(!a)return;let s=1;for(;s<a.length;){let n=a.length-s;for(;n>0;){let o=!1;const l=ot.serialize(a.slice(s,s+n),{expandMacro:!1,defaultMode:e.mathfield.options.defaultMode}),c={latex:l};if("string"==typeof i&&l===i)o=!0;else if(i instanceof RegExp){const e=l.match(i);null!==e&&(o=!0,e.length>0&&(c.p=[...e]),c.groups=e.groups)}if(o){for(let r=s+n-1;r>=s;r--)t.removeChild(a[r]);let e;"string"==typeof r?(e=r,c.p&&c.p.forEach((t,n)=>{"string"==typeof t&&(e=e.replace("$"+Number(n).toString(),t))}),c.groups&&Object.keys(c.groups).forEach(t=>{"string"==typeof t&&(e=e.replace("$"+t,c.groups[t]))}),e=e.replace("$$","$")):e=r(c);const i=t.addChildrenAfter(Nt(e,{parseMode:t.mode}),a[s-1]);s=a.indexOf(i)+1,n=a.length-s}else n--}s++}a.forEach(t=>function(e,t,n,i,r){"first"!==t.type&&((null==r?void 0:r.mode)&&r.mode!==t.mode||t.branches.forEach(o=>Ia(e,t,o,n,i,r)))}(e,t,i,r,o))}function ja(e,t,n){"function"==typeof t&&(n=t,t=1/0),void 0===t&&(t=1/0);let i=e.position,r=!1;for(;!r;){const o=e.at(i);r=0===t||void 0===o||"math"!==o.mode||!(/mord|textord|mpunct/.test(o.type)||"mop"===o.type&&/[a-zA-Z]+/.test(o.value))||!o.hasEmptyBranch("superscript")||!o.hasEmptyBranch("subscript")||"function"==typeof n&&!n(o),r||(o.mode="text",o.command=o.value,o.verbatimLatex=void 0),i-=1,t-=1}or(e)}function za(e,t,n){"function"==typeof t&&(n=t,t=1/0),void 0===t&&(t=1/0);let i=e.position,r=!1;for(;!r;){const o=e.at(i);r=0===t||!o||o.isFirstSibling||"text"!==o.mode||" "===o.value||n&&!n(o),r||(o.mode="math"),i-=1,t-=1}Ra(e),or(e)}function Ra(e){var t;let n=e.position-1;for(;n>=0&&"math"===(null===(t=e.at(n))||void 0===t?void 0:t.mode);)n-=1;if(!(n<0)&&"text"===e.at(n).mode&&" "===e.at(n).value&&"math"===e.at(n-1).mode){e.at(n-1).parent.removeChild(e.at(n-1)),or(e);const t=e.suppressChangeNotifications;e.suppressChangeNotifications=!0,e.position-=1,e.suppressChangeNotifications=t}}function Fa(e){if(!e)return null;if(e.length>1)return null;const t=e[0];return t instanceof St&&"("===t.leftDelim&&")"===t.rightDelim?t.removeBranch("body"):null}function $a(e){if(e){for(let t=0;e[t];t++){const n=e[t];if(n instanceof St&&"("===n.leftDelim){let i=0,r=0,o=0;for(let e=0;n.body[e];e++)"genfrac"===n.body[e].type&&(i++,r=e),o++;0===o&&1===i&&(e[t]=n.body[r])}}for(const t of e){for(const e of t.branches)if(!t.hasEmptyBranch(e)){$a(t.branch(e));const n=Fa(t.branch(e));n&&t.setChildren(n,e)}if(t instanceof Zt)for(const e of t.cells)$a(e)}}}function Ba(e){return!!/^(mord|surd|msubsup|leftright|mop)$/.test(e.type)&&!e.isExtensibleSymbol}function Ka(e,t,n){const i=e.at(e.position),{parent:r}=i;let o=r instanceof St?r.leftDelim+r.rightDelim:"";if("\\lbrace\\rbrace"===o&&(o="{}"),"\\{\\}"===o&&(o="{}"),"\\lparen\\rparen"===o&&(o="()"),"{}"===o&&/\||\\vert|\\Vert|\\mvert|\\mid/.test(t))return ir.insert("math",e,"\\,\\middle"+t+"\\, ",{format:"latex",style:n}),!0;"{"!==t&&"\\{"!==t||(t="\\lbrace"),"}"!==t&&"\\}"!==t||(t="\\rbrace"),"["===t&&(t="\\lbrack"),"]"===t&&(t="\\rbrack");const a=ut[t];if(a&&!(r instanceof St&&"|"===r.leftDelim)){let r="";r=i.isFunction?`\\mleft${t}\\mright${a}`:`\\left${t}\\right?`;const o=e.offsetOf(i.lastSibling),s=e.extractAtoms([e.position,o]);return ir.insert("math",e,r,{format:"latex",style:n}),e.at(e.position).body=s,e.position-=1,!0}let s="";if(Object.keys(ut).forEach(e=>{t===ut[e]&&(s=e)}),s){if(r instanceof St&&i.isLastSibling)return r.rightDelim=t,e.position+=1,or(e),!0;const o=e.offsetOf(i.firstSibling);let a;for(a=e.position;a>=o;a--){const t=e.at(a);if(t instanceof St&&"?"===t.rightDelim)break}const s=e.at(a);if(a>=o&&s instanceof St)return s.rightDelim=t,s.addChildren(e.extractAtoms([a,e.position]),i.treeBranch),e.position=a,or(e),!0;if(r instanceof St&&"?"===r.rightDelim)return r.rightDelim=t,r.parent.addChildren(e.extractAtoms([e.position,e.offsetOf(i.lastSibling)]),r.treeBranch),e.position=e.offsetOf(r),or(e),!0;const l=r.parent;return!!(l instanceof St&&"?"===l.rightDelim&&e.at(e.position).isLastSibling)&&(e.position=e.offsetOf(l),Ka(e,t,n))}return!1}new class extends ir{constructor(){super("math")}onPaste(e,t){if(!t.clipboardData)return!1;let n="",i="auto";const r=t.clipboardData.getData("application/json");if(r)try{n=oa(JSON.parse(r),{}),i="latex"}catch{n=""}return n||(n=t.clipboardData.getData("text/plain")),n&&(e.snapshot(),this.insert(e.model,n,{smartFence:e.options.smartFence,colorMap:e.colorMap,backgroundColorMap:e.backgroundColorMap,format:i})&&Yi(e),t.preventDefault(),t.stopPropagation()),!0}insert(e,t,n){var i,r;if(n.insertionMode||(n.insertionMode="replaceSelection"),n.selectionMode||(n.selectionMode="placeholder"),n.format||(n.format="auto"),n.macros=null!==(i=n.macros)&&void 0!==i?i:e.options.macros,null!==(r=n.smartFence)&&void 0!==r&&r){if(e.selectionIsCollapsed&&Ka(e,t,n.style))return!0}else if("replaceAll"!==n.insertionMode){const{parent:n}=e.at(e.position);if(n instanceof St&&"?"===n.rightDelim&&e.at(e.position).isLastSibling&&/^[)}\]|]$/.test(t))return n.rightDelim=t,e.position+=1,rr(e),or(e),!0}const{suppressChangeNotifications:o}=e;n.suppressChangeNotifications&&(e.suppressChangeNotifications=!0);const a=e.suppressChangeNotifications;e.suppressChangeNotifications=!0;const s={};if(s[0]=e.getValue(e.selection),s["?"]="\\placeholder{}",s["@"]=s["?"],"replaceSelection"!==n.insertionMode||e.selectionIsCollapsed?"replaceAll"===n.insertionMode?(e.root.setChildren([],"body"),e.position=0):"insertBefore"===n.insertionMode?e.collapseSelection("backward"):"insertAfter"===n.insertionMode&&e.collapseSelection("forward"):e.position=e.deleteAtoms(tr(e.selection)),e.at(e.position).isLastSibling||"placeholder"!==e.at(e.position+1).type?"placeholder"===e.at(e.position).type&&(e.deleteAtoms([e.position-1,e.position]),e.position-=1):e.deleteAtoms([e.position,e.position+1]),s[0])s["@"]=s[0];else if(/(^|[^\\])#@/.test(t)){const t=function(e){let t=e.at(e.position);if("text"===t.mode){for(;!t.isFirstSibling&&"text"===t.mode;)t=t.leftSibling;return e.offsetOf(t)}if(!Ba(t))return-1;for(;!t.isFirstSibling&&Ba(t);)t=t.leftSibling;return e.offsetOf(t)}(e);t>=0&&(s["@"]=e.getValue(t,e.position),e.deleteAtoms([t,e.position]),e.position=t)}s[0]||(s[0]=s["?"]);let l=!1;const[c,u]=function(e,t,n,i){let r,o=[];return"ascii-math"===i.format?([r,t]=fn(t,{format:"ascii-math",inlineShortcuts:e.mathfield.options.inlineShortcuts}),o=Nt(t,{parseMode:"math",macros:null==i?void 0:i.macros,onError:e.listeners.onError,colorMap:i.colorMap,backgroundColorMap:i.backgroundColorMap}),"latex"!==r&&e.options.removeExtraneousParentheses&&$a(o)):"auto"!==i.format&&"latex"!==i.format||("auto"===i.format&&([r,t]=fn(t,{format:"auto",inlineShortcuts:e.mathfield.options.inlineShortcuts})),"latex"===i.format&&([,t]=bn(t)),o=Nt(t,{parseMode:"math",args:n,macros:i.macros,smartFence:i.smartFence,onError:e.listeners.onError,colorMap:i.colorMap,backgroundColorMap:i.backgroundColorMap}),"latex"!==i.format&&e.options.removeExtraneousParentheses&&$a(o)),ma(o,i.style),[null!=r?r:"latex",o]}(e,t,e=>(l=!0,s[e]),n);if(!u)return!1;const{parent:d}=e.at(e.position);if("latex"!==c&&e.options.removeExtraneousParentheses&&d instanceof St&&"("===d.leftDelim&&d.hasEmptyBranch("body")&&1===u.length&&"genfrac"===u[0].type){const e=d.parent,t=d.treeBranch;e.removeChild(d),e.setChildren(u,t)}const h=d.hasEmptyBranch("body"),p=e.at(e.position);p.parent.addChildrenAfter(u,p),"latex"===c&&"root"===d.type&&h&&!l&&(d.verbatimLatex=t),e.suppressChangeNotifications=a;const f=u[u.length-1];if("placeholder"===n.selectionMode){const t=u.reduce((e,t)=>[...e,...t.children.filter(e=>"placeholder"===e.type)],[]);if(t.length>0){const n=e.offsetOf(t[0]);e.setSelection(n-1,n),e.announce("move")}else f&&(e.position=e.offsetOf(f))}else"before"===n.selectionMode||("after"===n.selectionMode?f&&(e.position=e.offsetOf(f)):"item"===n.selectionMode&&e.setSelection(e.anchor,e.offsetOf(f)));return or(e),e.suppressChangeNotifications=o,!0}};var Wa="#mathlive-keystroke-caption-panel{--keystroke:#fff;--on-keystroke:#555;--keystroke-border:#f7f7f7;background:var(--secondary,hsl(var(--hue,212),19%,26%));border-color:var(--secondary-border,#e8e8e8);border-radius:6px;box-shadow:0 3px 6px rgba(0,0,0,.16),0 3px 6px rgba(0,0,0,.23);display:flex;flex-direction:row-reverse;justify-content:center;padding:16px;position:absolute;text-align:center;visibility:hidden;z-index:1}@media (prefers-color-scheme:dark){body:not([theme=light]) #mathlive-keystroke-caption-panel{--keystroke:hsl(var(--hue,212),50%,30%);--on-keystroke:#fafafa;--keystroke-border:hsl(var(--hue,212),50%,25%)}}body[theme=dark] #mathlive-keystroke-caption-panel{--keystroke:hsl(var(--hue,212),50%,30%);--on-keystroke:#fafafa;--keystroke-border:hsl(var(--hue,212),50%,25%)}#mathlive-keystroke-caption-panel>span{fill:currentColor;background-color:var(--keystroke);border:2px solid var(--keystroke-border);border-radius:6px;color:var(--on-keystroke);font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;font-size:1em;margin:0 8px 0 0;min-width:14px;padding:4px}";let Va,Ua=null,Ha=null;function Ga(e){return e.keystrokeCaption||(e.keystrokeCaption=fi("mathlive-keystroke-caption-panel"),void 0===Va&&(Va=_n(Wa).toString(36)),Ua=un(null,Wa,Va),Ha=un(null,dn,_n(dn).toString(36))),e.keystrokeCaption}function Xa(e,t,n){const{model:i}=e;!function(e){var t,n;if(!e)return;const i=e.shiftKey&&e.altKey?3:e.altKey?2:e.shiftKey?1:0;if("Unidentified"!==e.key&&"Dead"!==e.key){for(const r of Ln)(null===(t=r.mapping[e.code])||void 0===t?void 0:t[i])===e.key?r.score+=1:(null===(n=r.mapping[e.code])||void 0===n?void 0:n[i])&&(r.score=0);Ln.sort((e,t)=>t.score-e.score)}}(n);const r=Nn();if(e.keyboardLayout!==r.id&&(e.keyboardLayout=r.id,e._keybindings=void 0),function(e,t){if(e.options.readOnly||!e.keystrokeCaptionVisible)return;const n=Ga(e),i=e.element.getBoundingClientRect();n.style.left=i.left+"px",n.style.top=i.top-64+"px",n.innerHTML=e.options.createHTML("<span>"+(Pn(t)||t)+"</span>"+n.innerHTML),n.style.visibility="visible",setTimeout(()=>{n.childNodes.length>0&&n.childNodes[n.childNodes.length-1].remove(),0===n.childNodes.length&&(n.style.visibility="hidden")},3e3)}(e,t),clearTimeout(e.keystrokeBufferResetTimer),!e.options.readOnly&&e.options.onKeystroke&&!e.options.onKeystroke(e,t,n))return(null==n?void 0:n.preventDefault)&&(n.preventDefault(),n.stopPropagation()),!1;let o,a,s="",l=!1;if("latex"!==e.mode&&(!n||!n.ctrlKey&&!n.metaKey))if("[Backspace]"===t)e.keystrokeBuffer=e.keystrokeBuffer.slice(0,-1),e.keystrokeBufferStates.pop(),e.resetKeystrokeBuffer({defer:!0});else if(n&&!Oa(n))e.resetKeystrokeBuffer();else{const t=Ta(n),r=e.keystrokeBuffer+t;let s=0;for(;!o&&s<r.length;){const t=e.keystrokeBufferStates[s]?Nt(e.keystrokeBufferStates[s].latex,{parseMode:Ur(e.options),macros:e.options.macros}):i.getAtoms(i.offsetOf(i.at(i.position).firstSibling),i.position);o=pn(t,r.slice(s),e.options.inlineShortcuts),s+=1}a=e.keystrokeBufferStates.length-(r.length-s),e.keystrokeBuffer+=t,e.keystrokeBufferStates.push(e.getUndoRecord()),function(e,t){const n=[];for(let i=0;i<=e.length-1;i++){const r=e.slice(Math.max(0,i));for(const e of Object.keys(hn))e.startsWith(r)&&!n.includes(e)&&n.push(e);const o=(null==t?void 0:t.inlineShortcuts)?t.inlineShortcuts:null;if(o)for(const e of Object.keys(o))e.startsWith(r)&&n.push(e)}return n}(r,e.options).length<=1?l=!0:e.resetKeystrokeBuffer({defer:!0})}if(e.options.smartMode){const i=e.mode;o?e.mode="math":function(e,t,n){if(e.smartModeSuppressed)return!1;const{model:i}=e;if(!i.at(i.position).isLastSibling)return!1;if(!n||!Oa(n))return!1;const r=Ta(n);if(!i.selectionIsCollapsed)return!("text"!==e.mode||!/[/_^]/.test(r));const o=function(e){let t="",n=e.position,i=!1;for(;!i;){const r=e.at(n);i=!(r&&("text"===r.mode||"math"===r.mode&&/mord|textord|mpunct/.test(r.type))),i||(t=r.value+t),n-=1}return t}(i)+r;if("text"===e.mode){if("Esc"===t||/[/\\]/.test(r))return!0;if(/[\^_]/.test(r))return/(^|\s)[a-zA-Z][^_]$/.test(o)&&za(i,1),!0;const e={")":"(","}":"{","]":"["}[r],{parent:n}=i.at(i.position);if(e&&n instanceof St&&n.leftDelim===e)return!0;if(/(^|[^a-zA-Z])(a|I) $/.test(o))return!1;if(/[$\u20ac\xa3\u20a4\u20ba\xa5\xa4\u0e3f\xa2\u20a1\u20a7\u20a8\u20b9\u20a9\u20b1]/u.test(r))return!0;if(/(^|[^a-zA-Z'\u2019])[a-zA-Z] $/.test(o))return za(i,1),!1;if(/\D\.[^\d\s]$/.test(o)){za(i,1);const e=i.at(i.position);return e.value="â",e.style.variant="normal",e.command="\\cdot",e.verbatimLatex=void 0,or(i),!0}if(/(^|\s)[a-zA-Z][^a-zA-Z]$/.test(o))return za(i,1),!0;if(/\.\d$/.test(o))return za(i,1),!0;if(/\([\d+\-.]$/.test(o))return za(i,1),!0;if(/\([a-z][,;]$/.test(o))return za(i,2),!0;if(/[\d+\-=><*|]$/.test(r))return Ra(i),!0}else{if("[Space]"===t)return ja(i,void 0,e=>/[a-z][:,;.]$/.test(e.value)),!0;if(/[a-zA-Z]{3,}$/.test(o)&&!/(dxd|abc|xyz|uvw)$/.test(o))return ja(i,void 0,e=>/[a-zA-Z]/.test(e.value)),!0;if(/(^|\W)(if)$/i.test(o))return ja(i,1),!0;if(/(\u0393|\u0394|\u0398|\u039B|\u039E|\u03A0|\u03A3|\u03A5|\u03A6|\u03A8|\u03A9|[\u03B1-\u03C9]|\u03D1|\u03D5|\u03D6|\u03F1|\u03F5){3,}$/u.test(o)&&!/(\u03b1\u03b2\u03b3)$/.test(o))return ja(i,void 0,e=>/(:|,|;|.|\u0393|\u0394|\u0398|\u039B|\u039E|\u03A0|\u03A3|\u03A5|\u03A6|\u03A8|\u03A9|[\u03B1-\u03C9]|\u03D1|\u03D5|\u03D6|\u03F1|\u03F5)/u.test(e.value)),!0;if("?"===r)return!0;if("."===r&&!/[\d-+]\.$/.test(o))return!0}return!1}(e,t,n)&&(e.mode={math:"text",text:"math"}[e.mode],s=""),e.mode!==i&&"function"==typeof e.options.onModeChange&&e.options.onModeChange(e,e.mode)}if(o||s||(s=function(e,t,n){if(0===e.length)return"";const i=Sn(wn(n));for(let r=e.length-1;r>=0;r--)if(e[r].key===i&&(!e[r].ifMode||e[r].ifMode===t))return e[r].command;return""}(e.keybindings,e.mode,t)),!(o||s||"[Enter]"!==t&&"[Return]"!==t)&&"function"==typeof e.options.onCommit)return e.options.onCommit(e),(null==n?void 0:n.preventDefault)&&(n.preventDefault(),n.stopPropagation()),!1;if(!o&&!s)return!0;const c=i.at(Math.max(i.position,i.anchor)),{parent:u}=c;if("moveAfterParent"===s&&u&&"leftright"===u.type&&c.isLastSibling&&e.options.smartFence&&Ka(i,".",e.style)&&(s="",Yi(e)),"math"===e.mode&&"[Space]"===t&&!o)if(e.options.mathModeSpace)e.snapshot(),ir.insert("math",i,e.options.mathModeSpace),s="",e.dirty=!0;else{const t=i.at(i.position+1),n=i.at(i.position-1);(t&&"text"===t.mode||n&&"text"===n.mode)&&(e.snapshot(),ir.insert("text",i," "),e.dirty=!0)}if(s)e.executeCommand(s);else if(o){e.keyboardDelegate.cancelComposition();const t={...i.at(i.position).computedStyle,...e.style};if(!/^(\\{|\\}|\\[|\\]|\\@|\\#|\\$|\\%|\\^|\\_|\\backslash)$/.test(o)){const r=e.mode;ir.insert(e.mode,i,Ta(n),{suppressChangeNotifications:!0,style:t}),e.snapshot(),e.restoreToUndoRecord(e.keystrokeBufferStates[a]),e.mode=r}i.deferNotifications({content:!0,selection:!0},()=>(ir.insert(e.mode,i,o,{format:"latex",style:t,smartFence:!0}),Ra(e.model),o.endsWith(" ")&&(e.mode="text",ir.insert("text",i," ",{style:t})),!0)),e.snapshot(),e.dirty=!0,i.announce("replacement"),l&&e.resetKeystrokeBuffer()}return e.scrollIntoView(),(null==n?void 0:n.preventDefault)&&(n.preventDefault(),n.stopPropagation()),!1}function Za(e,t,n){var i;const{model:r}=e;if(e.options.readOnly)return void r.announce("plonk");if((n=null!=n?n:{}).focus&&e.focus(),n.feedback&&(e.options.keypressVibration&&Le()&&navigator.vibrate(3),null===(i=e.keypressSound)||void 0===i||i.play().catch(console.warn)),"string"==typeof n.mode&&e.mode!==n.mode&&e.switchMode(n.mode),n.simulateKeystroke){const n=t.charAt(0),i=new KeyboardEvent("keypress",{key:n});if(!Xa(e,n,i))return}const o={...r.at(r.position).computedStyle,...e.style};r.selectionIsCollapsed||(r.position=r.deleteAtoms(tr(r.selection)),e.snapshot());const a=ve(t);if("latex"===e.mode)r.deferNotifications({content:!0,selection:!0},()=>{for(const e of a)ir.insert("latex",r,e);lr(e)});else if("text"===e.mode)for(const s of a)ir.insert("text",r,s,{style:o});else if("math"===e.mode)for(const s of a){let t={"^":"moveToSuperscript",_:"moveToSubscript"," ":"moveAfterParent"}[s];" "===s&&e.options.mathModeSpace&&(t=["insert",e.options.mathModeSpace]),t?e.executeCommand(t):/\d/.test(s)&&e.options.smartSuperscript&&"superscript"===r.at(r.position).treeBranch&&r.at(r.position).hasNoSiblings?(ir.insert("math",r,s,{style:o}),xa(r)):ir.insert("math",r,s,{style:o,smartFence:e.options.smartFence})}e.snapshotAndCoalesce(),e.dirty=!0,e.scrollIntoView()}function Ya(e,t){var n,i;const r={};"string"==typeof t.color&&(r.verbatimColor||(r.verbatimColor=t.color),r.color=e.colorMap(t.color)),"string"==typeof t.backgroundColor&&(r.verbatimBackgroundColor||(r.verbatimBackgroundColor=t.backgroundColor),r.backgroundColor=e.backgroundColorMap(t.backgroundColor)),"string"==typeof t.fontFamily&&(r.fontFamily=t.fontFamily),"string"==typeof t.series&&(r.fontSeries=t.series),"string"==typeof t.fontSeries&&(r.fontSeries=t.fontSeries.toLowerCase()),r.fontSeries&&(r.fontSeries={bold:"b",medium:"m",normal:"m"}[r.fontSeries]||r.fontSeries),"string"==typeof t.shape&&(r.fontShape=t.shape),"string"==typeof t.fontShape&&(r.fontShape=t.fontShape.toLowerCase()),r.fontShape&&(r.fontShape={italic:"it",up:"n",upright:"n",normal:"n"}[r.fontShape]||r.fontShape);const o=null!==(n=t.size)&&void 0!==n?n:t.fontSize;return"number"==typeof o?r.fontSize=Math.max(1,Math.min(10,o)):"string"==typeof o&&(r.fontSize=null!==(i={size1:1,size2:2,size3:3,size4:4,size5:5,size6:6,size7:7,size8:8,size9:9,size10:10}[o.toLowerCase()])&&void 0!==i?i:{tiny:1,scriptsize:2,footnotesize:3,small:4,normal:5,normalsize:5,large:6,Large:7,LARGE:8,huge:9,Huge:10}[o]),r}hr({undo:e=>(ur(e,"accept"),e.undo(),!0),redo:e=>(ur(e,"accept"),e.redo(),!0),scrollIntoView:e=>(e.scrollIntoView(),!0),scrollToStart:e=>(e.field.scroll(0,0),!0),scrollToEnd:e=>{const t=e.field.getBoundingClientRect();return e.field.scroll(t.left-window.scrollX,0),!0},enterLatexMode:e=>(e.switchMode("latex"),!0),toggleKeystrokeCaption:function(e){return e.keystrokeCaptionVisible=!e.keystrokeCaptionVisible,e.keystrokeCaptionVisible?(e.keystrokeCaption=Ga(e),e.keystrokeCaption.innerHTML=""):e.keystrokeCaption&&(e.keystrokeCaption.style.visibility="hidden"),!1},switchMode:(e,t,n,i)=>(e.switchMode(t,n,i),!0),insert:(e,t,n)=>e.insert(t,n),typedText:(e,t,n)=>(Za(e,t,n),!0),commit:e=>("function"==typeof e.options.onCommit&&e.options.onCommit(e),!0)}),hr({copyToClipboard:e=>(e.focus(),e.model.selectionIsCollapsed&&e.select(),document.execCommand("copy"),!1),cutToClipboard:e=>(e.focus(),document.execCommand("cut"),!0),pasteFromClipboard:e=>(e.focus(),document.execCommand("paste"),!0)},{target:"mathfield",category:"clipboard"}),hr({applyStyle:function(e,t){const n=Ya(e,t);e.resetKeystrokeBuffer();const{model:i}=e;return i.selectionIsCollapsed?(e.style.fontSeries&&n.fontSeries===e.style.fontSeries&&(n.fontSeries="auto"),n.fontShape&&n.fontShape===e.style.fontShape&&(n.fontShape="auto"),n.color&&n.color===e.style.color&&(n.color="none"),n.backgroundColor&&n.backgroundColor===e.style.backgroundColor&&(n.backgroundColor="none"),n.fontSize&&n.fontSize===e.style.fontSize&&(n.fontSize="auto"),e.style={...e.style,...n}):e.model.deferNotifications({content:!0},()=>{i.selection.ranges.forEach(e=>ga(i,e,n,{operation:"toggle"})),e.snapshot()}),!0}},{target:"mathfield"});let Qa=null,Ja=0;function es(e){return void 0!==globalThis.TouchEvent&&e instanceof TouchEvent}function ts(e,t,n){const i=e-(n.left+n.right)/2,r=t-(n.top+n.bottom)/2;return i*i+r*r}function ns(e,t,n,i,r){if(!n.id)return[1/0,null];if(t.has(n.id))return t.get(n.id);const o=xi(e,n);if(!o)return[1/0,null];let a=[ts(i,r,o),n];if(!n.captureSelection&&i>=o.left&&i<=o.right&&n.hasChildren)for(const s of n.children){const n=ns(e,t,s,i,r);n[0]<a[0]&&(a=n)}return a[1]||(a=[ts(i,r,o),n]),t.set(n.id,a),a}function is(e,t,n){const[,i]=ns(e,new Map,e.model.root,t,n);return i}function rs(e,t,n,i){var r;const o=e.fieldContent.getBoundingClientRect();if(t>o.right||n>o.bottom+8)return e.model.lastOffset;if(t<o.left||n<o.top-8)return 0;(i=null!=i?i:{}).bias=null!==(r=i.bias)&&void 0!==r?r:0;let a=is(e,t,n);const s=[];let l=a;for(;l;)s.unshift(l),l=l.parent;for(const u of s)if(u.captureSelection){a=u;break}let c=e.model.offsetOf(a);if(c<0)return-1;if(a.leftSibling)if(0===i.bias&&"placeholder"!==a.type){const n=xi(e,a);n&&t<(n.left+n.right)/2&&(c=e.model.offsetOf(a.leftSibling))}else i.bias<0&&(c=e.model.offsetOf(a.leftSibling));return c}var os='@-webkit-keyframes ML__caret-blink{0%,to{opacity:1}50%{opacity:0}}@keyframes ML__caret-blink{0%,to{opacity:1}50%{opacity:0}}.ML__caret:after{-webkit-animation:ML__caret-blink 1.05s step-end infinite forwards;animation:ML__caret-blink 1.05s step-end infinite forwards;border:none;border-radius:2px;border-right:2px solid var(--caret,hsl(var(--hue,212),40%,49%));content:"";left:-1px;margin-right:-2px;position:relative}.ML__text-caret:after{-webkit-animation:ML__caret-blink 1.05s step-end infinite forwards;animation:ML__caret-blink 1.05s step-end infinite forwards;border:none;border-radius:1px;border-right:1px solid var(--caret,hsl(var(--hue,212),40%,49%));content:"";left:0;margin-right:-1px;position:relative}.ML__latex-caret:after{-webkit-animation:ML__caret-blink 1.05s step-end infinite forwards;animation:ML__caret-blink 1.05s step-end infinite forwards;border:none;color:var(--caret,hsl(var(--hue,212),40%,49%));content:"_";margin-right:calc(-1ex - 2px);position:relative}.ML__fieldcontainer{align-items:flex-end;display:flex;flex-flow:row;justify-content:space-between;min-height:39px;touch-action:none;width:100%}.ML__fieldcontainer__field{align-items:center;align-self:center;display:flex;overflow:hidden;padding:2px 0 2px 1px;position:relative;width:100%}.ML__virtual-keyboard-toggle{display:none}.ML__virtual-keyboard-toggle>span{align-items:center;align-self:center;display:flex}.ML__virtual-keyboard-toggle.is-visible{fill:currentColor;align-items:center;align-self:center;background:transparent;border:1px solid transparent;border-radius:8px;box-sizing:border-box;color:var(--primary,hsl(var(--hue,212),40%,50%));cursor:pointer;display:flex;flex-direction:column;flex-shrink:0;height:34px;justify-content:center;margin-right:4px;padding:0;transition:background .2s cubic-bezier(.64,.09,.08,1);width:34px}.ML__virtual-keyboard-toggle.is-visible:hover{fill:currentColor;background:hsla(0,0%,70%,.5);border-radius:8px;color:#333}.ML__textarea__textarea{clip:rect(0 0 0 0);border:none;display:inline-block;font-family:KaTeX_Main;font-size:1em;height:1px;outline:none;position:absolute;resize:none;transform:scale(0);width:1px}.ML__focused .ML__text{background:hsla(var(--hue,212),40%,50%,.1)}.ML__smart-fence__close{color:var(--smart-fence-color,currentColor);opacity:var(--smart-fence-opacity,.5)}.ML__selection{background:var(--highlight-inactive,#ccc);box-sizing:border-box}.ML__focused .ML__selection{background:var(--highlight,hsl(var(--hue,212),97%,85%))!important;color:var(--on-highlight)}.ML__contains-caret.ML__close,.ML__contains-caret.ML__open,.ML__contains-caret .ML__sqrt-line,.ML__contains-caret .ML__sqrt-sign,.ML__contains-caret>.ML__close,.ML__contains-caret>.ML__open{color:var(--caret,hsl(var(--hue,212),40%,49%))}.ML__contains-highlight{background:var(--contains-highlight,var(--highlight,hsl(var(--hue,212),40%,95%)));box-sizing:border-box}.ML__latex{color:var(--primary,hsl(var(--hue,212),40%,50%));font-family:IBM Plex Mono,Source Code Pro,Consolas,Roboto Mono,Menlo,Bitstream Vera Sans Mono,DejaVu Sans Mono,Monaco,Courier,monospace;font-weight:400}:not(.ML__latex)+.ML__latex{margin-left:.25em}.ML__latex+:not(.ML__latex){padding-left:.25em}.ML__suggestion{opacity:.5}.ML__virtual-keyboard-toggle.is-visible.is-pressed:hover{fill:currentColor;background:hsl(var(--hue,212),25%,35%);color:#fafafa}.ML__virtual-keyboard-toggle:focus{border:2px solid var(--primary,hsl(var(--hue,212),40%,50%));border-radius:8px;outline:none}.ML__virtual-keyboard-toggle.is-active,.ML__virtual-keyboard-toggle.is-active:hover,.ML__virtual-keyboard-toggle.is-pressed{fill:currentColor;background:hsl(var(--hue,212),25%,35%);color:#fafafa}.ML__scroller{height:100vh;position:fixed;top:0;width:200px;z-index:1}[data-ML__tooltip]{position:relative}[data-ML__tooltip][data-placement=top]:after{bottom:100%;top:inherit}[data-ML__tooltip]:after{background:#616161;border-radius:2px;box-shadow:0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12),0 3px 1px -2px rgba(0,0,0,.2);color:#fff;content:attr(data-ML__tooltip);display:none;font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;font-size:12px;font-weight:400;max-width:200px;opacity:0;padding:8px;position:absolute;text-align:center;top:110%;transform:scale(.5);transition:all .15s cubic-bezier(.4,0,1,1);width:-webkit-max-content;width:-moz-max-content;width:max-content;z-index:2}@media only screen and (max-width:767px){[data-ML__tooltip]:after{font-size:14px;padding:8px 16px}}:not(.tracking) [data-ML__tooltip]:hover{position:relative}:not(.tracking) [data-ML__tooltip]:hover:after{display:inline-table;opacity:1;transform:scale(1);visibility:visible}[data-ML__tooltip][data-delay]:after{transition-delay:0s}[data-ML__tooltip][data-delay]:hover:after{transition-delay:1s}';let as,ss;new class extends ir{constructor(){super("text")}onPaste(e,t){if(!t.clipboardData)return!1;const n=t.clipboardData.getData("text/plain");return!!n&&(e.snapshot(),this.insert(e.model,n)&&Yi(e),t.preventDefault(),t.stopPropagation(),!0)}insert(e,t,n={}){var i;n.insertionMode||(n.insertionMode="replaceSelection"),n.selectionMode||(n.selectionMode="placeholder"),n.format||(n.format="auto"),n.macros=null!==(i=n.macros)&&void 0!==i?i:e.options.macros;const{suppressChangeNotifications:r}=e;n.suppressChangeNotifications&&(e.suppressChangeNotifications=!0);const o=e.suppressChangeNotifications;e.suppressChangeNotifications=!0,"replaceSelection"!==n.insertionMode||e.selectionIsCollapsed?"replaceAll"===n.insertionMode?(e.root.setChildren([],"body"),e.position=0):"insertBefore"===n.insertionMode?e.collapseSelection("backward"):"insertAfter"===n.insertionMode&&e.collapseSelection("forward"):e.position=e.deleteAtoms(tr(e.selection));const a=function(e){return Nt(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=e.replace(/\\/g,"\\textbackslash ")).replace(/#/g,"\\#")).replace(/\$/g,"\\$")).replace(/%/g,"\\%")).replace(/&/g,"\\&")).replace(/_/g,"\\_")).replace(/{/g,"\\textbraceleft ")).replace(/}/g,"\\textbraceright ")).replace(/\^/g,"\\textasciicircum ")).replace(/~/g,"\\textasciitilde ")).replace(/\xa3/g,"\\textsterling "),{parseMode:"text",registers:{}})}(t);if(ma(a,n.style),!a)return!1;const s=e.at(e.position),l=s.parent.addChildrenAfter(a,s);return e.suppressChangeNotifications=o,"before"===n.selectionMode||("item"===n.selectionMode?e.setSelection(e.anchor,e.offsetOf(l)):l&&(e.position=e.offsetOf(l))),or(e),e.suppressChangeNotifications=r,!0}};class ls{constructor(e,t){var n,i,r;this.eventHandlingInProgress="",this.stylesheets=[],this.options=Br(Vr(),t.readOnly?{...t,virtualKeyboardMode:"off"}:{plonkSound:"plonk.wav",keypressSound:{spacebar:"keypress-spacebar.wav",return:"keypress-return.wav",delete:"keypress-delete.wav",default:"keypress-standard.wav"},...t}),this.macros=this.options.macros,this.colorMap=e=>{let t;return"function"==typeof this.options.colorMap&&(t=this.options.colorMap(e)),t||(t=u(e)),t},this.backgroundColorMap=e=>{let t;return"function"==typeof this.options.backgroundColorMap&&(t=this.options.backgroundColorMap(e)),t||"function"!=typeof this.options.colorMap||(t=this.options.colorMap(e)),t||(t=d(e)),t},this.options.readOnly||(this.virtualKeyboard=t.useSharedVirtualKeyboard?new Hr({targetOrigin:this.options.sharedVirtualKeyboardTargetOrigin,focus:()=>this.focus(),blur:()=>this.blur(),executeCommand:e=>this.executeCommand(e),originValidator:this.options.originValidator}):new vr(this.options,{focus:()=>this.focus(),blur:()=>this.blur(),executeCommand:e=>this.executeCommand(e)})),this.plonkSound=this.options.plonkSound,this.options.keypressSound?!this.options.keypressSound||"string"==typeof this.options.keypressSound||this.options.keypressSound instanceof HTMLAudioElement||(this.keypressSound=this.options.keypressSound.default,this.spacebarKeypressSound=this.options.keypressSound.spacebar,this.returnKeypressSound=this.options.keypressSound.return,this.deleteKeypressSound=this.options.keypressSound.delete):(this.keypressSound=null,this.spacebarKeypressSound=null,this.returnKeypressSound=null,this.deleteKeypressSound=null),this.element=e,e.mathfield=this;let o=null!==(n=t.value)&&void 0!==n?n:this.element.textContent;o&&(o=o.trim()),cn(this.options.fontsDirectory,this.options.onError),as||(as=_n(dn).toString(36)),this.stylesheets.push(un(e,dn,as)),ss||(ss=_n(os).toString(36)),this.stylesheets.push(un(e,os,ss));let a="";if(a+="<span class='ML__textarea'>",a+=Ce()?'<span class=\'ML__textarea__textarea\' tabindex="-1" role="textbox"></span>':`<textarea class="ML__textarea__textarea" autocapitalize="off" autocomplete="off" autocorrect="off" spellcheck="false" aria-hidden="true" tabindex="${null!==(i=e.tabIndex)&&void 0!==i?i:0}"></textarea>`,a+="</span>",a+='<span class="ML__fieldcontainer"><span class="ML__fieldcontainer__field"></span>',a+=`<div part='virtual-keyboard-toggle' class="ML__virtual-keyboard-toggle" role="button" data-ML__tooltip="${di("tooltip.toggle virtual keyboard")}">`,a+=null!==(r=this.options.virtualKeyboardToggleGlyph)&&void 0!==r?r:Wr,a+="</div>",a+="</span>",a+='<div class="ML__sr-only"><span aria-live="assertive" aria-atomic="true"></span><span></span></div>',this.element.innerHTML=this.options.createHTML(a),!this.element.children)return;let s=0;const l=this.element.children[s++].firstElementChild;this.field=this.element.children[s].children[0],this.field.addEventListener("wheel",e=>{var t;e.preventDefault(),e.stopPropagation();const n=null!==(t=e.detail)&&void 0!==t?t:-e.deltaX;Number.isFinite(n)&&this.field.scroll({top:0,left:this.field.scrollLeft-5*n})},{passive:!1}),s++,this.virtualKeyboardToggle=this.element.querySelector(".ML__virtual-keyboard-toggle"),"manual"===this.options.virtualKeyboardMode?this.virtualKeyboardToggle.classList.add("is-visible"):this.virtualKeyboardToggle.classList.remove("is-visible"),this.options.readOnly?this.element.classList.add("ML__isReadOnly"):this.element.classList.remove("ML__isReadOnly"),"inline-math"===this.options.defaultMode?this.element.classList.add("ML__isInline"):this.element.classList.remove("ML__isInline"),Si(e=>this.executeCommand(e),this.virtualKeyboardToggle,{default:"toggleVirtualKeyboard",alt:"toggleVirtualKeyboardAlt",shift:"toggleVirtualKeyboardShift"}),this.ariaLiveText=this.element.children[s].children[0],this.accessibleNode=this.element.children[s++].children[1],this.keystrokeCaptionVisible=!1,this.popoverVisible=!1,this.suggestionIndex=0,this.keystrokeBuffer="",this.keystrokeBufferStates=[],this.keystrokeBufferResetTimer=0,this.mode=Ur(this.options),this.smartModeSuppressed=!1,this.style={},this.blurred=!0,hi(this.element,"focus",this),hi(this.element,"blur",this),this.keyboardDelegate=function(e,t){let n,i=null,r=null,o=!1,a=!1,s=!1;function l(e){clearTimeout(n),n=setTimeout(()=>{clearTimeout(n),e()})}function c(){if(e.selectionStart!==e.selectionEnd)return;const n=e.value;e.value="",n.length>0&&t.typedText(n)}const u=e;return u.addEventListener("keydown",n=>{o||"Process"===n.key||"CapsLock"===n.code||/(Control|Meta|Alt|Shift)(Left|Right)/.test(n.code)?i=null:(i=n,r=null,t.keystroke(Aa(n),n)?Ce()&&t.typedText(n.key):(i=null,e.value=""))},!0),u.addEventListener("keypress",e=>{o||o||(i&&r&&t.keystroke(Aa(i),i),r=e,l(c))},!0),u.addEventListener("keyup",()=>{o||i&&!r&&c()},!0),u.addEventListener("paste",n=>{e.focus(),e.value="",t.paste(n)},!0),u.addEventListener("cut",e=>t.cut(e),!0),u.addEventListener("copy",e=>t.copy(e),!0),u.addEventListener("blur",e=>{if(e.relatedTarget===e.target.getRootNode().host)return e.preventDefault(),void e.stopPropagation();s||a||(s=!0,i=null,r=null,t.blur&&t.blur(),s=!1)},!0),u.addEventListener("focus",e=>{s||a||(a=!0,t.focus&&t.focus(),a=!1)},!0),u.addEventListener("compositionstart",n=>{o=!0,e.value="",t.compositionStart&&t.compositionStart(n.data)},!0),u.addEventListener("compositionupdate",e=>{o&&t.compositionUpdate&&t.compositionUpdate(e.data)},!0),u.addEventListener("compositionend",n=>{e.value="",o&&(o=!1,t.compositionEnd&&t.compositionEnd(n.data))},!0),u.addEventListener("input",e=>{if(!o&&"insertCompositionText"!==e.inputType){if("insertFromPaste"===e.inputType)return e.preventDefault(),void e.stopPropagation();l(c),e.preventDefault(),e.stopPropagation()}}),{cancelComposition:()=>{const n=t.blur,i=t.focus;t.blur=null,t.focus=null,e.blur(),e.focus(),t.blur=n,t.focus=i},blur:()=>{"function"==typeof e.blur&&e.blur()},focus:()=>{"function"==typeof e.focus&&e.focus()},hasFocus:()=>Ea()===e,setValue:t=>{t?(e.value=t,Ea()===e&&e.select&&e.select()):(e.value="",e.setAttribute("aria-label",""))},setAriaLabel:t=>{e.setAttribute("aria-label","after: "+t)},moveTo:(t,n)=>{e.style.top=n+"px",e.style.left=t+"px"}}}(l,{typedText:e=>Za(this,e),cut:e=>{this.options.readOnly?this.model.announce("plonk"):(this.snapshot(),setTimeout(()=>{ha(this.model,tr(this.model.selection)),Yi(this)},0))},copy:e=>ir.onCopy(this,e),paste:e=>{this.options.readOnly?this.model.announce("plonk"):ir.onPaste(this.model.at(this.model.position).mode,this,e)},keystroke:(e,t)=>Xa(this,e,t),focus:()=>this.onFocus(),blur:()=>this.onBlur(),compositionStart:e=>this.onCompositionStart(e),compositionUpdate:e=>this.onCompositionUpdate(e),compositionEnd:e=>this.onCompositionEnd(e)}),window.PointerEvent?hi(this.field,"pointerdown",this):hi(this.field,"touchstart:active mousedown",this),hi(window,"resize",this),this.model=new aa({mode:Ur(this.options),macros:this.macros,removeExtraneousParentheses:this.options.removeExtraneousParentheses},{onContentDidChange:e=>this.options.onContentDidChange(this),onSelectionDidChange:e=>this._onSelectionDidChange(),onContentWillChange:()=>this.options.onContentWillChange(this),onSelectionWillChange:()=>this.options.onSelectionWillChange(this),onError:this.options.onError},{announce:(e,t,n,i)=>{var r,o;return null===(o=(r=this.options).onAnnounce)||void 0===o?void 0:o.call(r,this,t,n,i)},moveOut:(e,t)=>this.options.onMoveOutOf(this,t),tabOut:(e,t)=>this.options.onTabOutOf(this,t)},this),this.undoManager=new Na(this.model),o&&ir.insert("math",this.model,o,{insertionMode:"replaceAll",selectionMode:"after",format:"latex",suppressChangeNotifications:!0,macros:this.options.macros}),this.undoManager.startRecording(),this.undoManager.snapshot(this.options),this.model.setListeners({onContentDidChange:e=>this.options.onContentDidChange(this),onSelectionDidChange:e=>this._onSelectionDidChange(),onContentWillChange:()=>this.options.onContentWillChange(this),onSelectionWillChange:()=>this.options.onSelectionWillChange(this),onError:this.options.onError}),this.model.setHooks({announce:(e,t,n,i)=>{var r,o;return null===(o=(r=this.options).onAnnounce)||void 0===o?void 0:o.call(r,this,t,n,i)},moveOut:(e,t)=>this.options.onMoveOutOf(this,t),tabOut:(e,t)=>this.options.onTabOutOf(this,t)}),this.options.locale.startsWith(Nn().locale)||Tn(this.options.locale),Yi(this),Se()&&document.fonts.ready.then(()=>Qi(this))}get virtualKeyboardState(){var e;return(null===(e=this.virtualKeyboard)||void 0===e?void 0:e.visible)?"visible":"hidden"}set virtualKeyboardState(e){this.virtualKeyboard&&("hidden"===e?this.virtualKeyboard.executeCommand("hideVirtualKeyboard"):"visible"===e&&this.virtualKeyboard.executeCommand("showVirtualKeyboard"))}get keybindings(){var e;return this._keybindings||(this._keybindings=function(e,t,n){const i=[],r=[];for(const o of e)try{const e=qn(o,t);if(e){const n=i.filter(t=>t.key===e.key&&t.ifMode===e.ifMode);if(n.length>0)throw new Error(`Ambiguous key binding ${o.key} (${In(o.command)}) matches ${n[0].key} (${In(n[0].command)}) with the ${t.displayName} keyboard layout`);i.push(e)}}catch(e){e instanceof Error&&r.push(e.message)}return r.length>0&&n(r),i}(this.options.keybindings,null!==(e=Nn())&&void 0!==e?e:Mn,e=>{"function"==typeof this.options.onError&&this.options.onError({code:"invalid-keybinding",arg:e.join("\n")})})),this._keybindings}setOptions(e){var t,n,i,r;if(this.options=Br(this.options,e),this.model.setListeners({onContentDidChange:e=>this.options.onContentDidChange(this),onSelectionDidChange:e=>this._onSelectionDidChange(),onContentWillChange:()=>this.options.onContentWillChange(this),onSelectionWillChange:()=>this.options.onSelectionWillChange(this),onError:this.options.onError}),this.model.setHooks({announce:(e,t,n,i)=>{var r,o;return null===(o=(r=this.options).onAnnounce)||void 0===o?void 0:o.call(r,this,t,n,i)},moveOut:(e,t)=>this.options.onMoveOutOf(this,t),tabOut:(e,t)=>this.options.onTabOutOf(this,t)}),this.options.locale.startsWith(Nn().locale)||Tn(this.options.locale),this._keybindings=void 0,this.plonkSound=this.options.plonkSound,!this.options.keypressSound||"string"==typeof this.options.keypressSound||this.options.keypressSound instanceof HTMLAudioElement||(this.keypressSound=this.options.keypressSound.default,this.spacebarKeypressSound=this.options.keypressSound.spacebar,this.returnKeypressSound=this.options.keypressSound.return,this.deleteKeypressSound=this.options.keypressSound.delete),this.options.readOnly?(this.onBlur(),this.element.classList.add("ML__isReadOnly")):this.element.classList.remove("ML__isReadOnly"),"inline-math"===this.options.defaultMode?this.element.classList.add("ML__isInline"):this.element.classList.remove("ML__isInline"),null===(t=this.virtualKeyboard)||void 0===t||t.setOptions(this.options),"manual"===this.options.virtualKeyboardMode?null===(n=this.virtualKeyboardToggle)||void 0===n||n.classList.add("is-visible"):null===(i=this.virtualKeyboardToggle)||void 0===i||i.classList.remove("is-visible"),"virtualKeyboardToggleGlyph"in e){const e=null===(r=this.element)||void 0===r?void 0:r.querySelector(".ML__virtual-keyboard-toggle");e&&(e.innerHTML=this.options.createHTML(this.options.virtualKeyboardToggleGlyph))}this.colorMap=e=>{let t;return"function"==typeof this.options.colorMap&&(t=this.options.colorMap(e)),t||(t=u(e)),t},this.backgroundColorMap=e=>{let t;return"function"==typeof this.options.backgroundColorMap&&(t=this.options.backgroundColorMap(e)),t||"function"!=typeof this.options.colorMap||(t=this.options.colorMap(e)),t||(t=d(e)),t};const o=ot.serialize(this.model.root,{expandMacro:!1,defaultMode:this.options.defaultMode});("macros"in e||this.model.getValue()!==o)&&ir.insert("math",this.model,o,{insertionMode:"replaceAll",selectionMode:"after",format:"latex",suppressChangeNotifications:!0,macros:this.options.macros}),Yi(this)}getOptions(e){return Kr(this.options,e)}getOption(e){return Kr(this.options,e)}handleEvent(e){switch(e.type){case"focus":this.eventHandlingInProgress||(this.eventHandlingInProgress="focus",this.onFocus(),this.eventHandlingInProgress="");break;case"blur":this.eventHandlingInProgress||(this.eventHandlingInProgress="blur",this.onBlur(),this.eventHandlingInProgress="");break;case"touchstart":case"mousedown":case"pointerdown":!function(e,t){var n;e._atomBoundsCache=new Map;const i=e;let r,o=!1,a="none";if(t instanceof PointerEvent&&1!==t.buttons&&0!==t.buttons)return;let s=!1,l=!1;const c=es(t)?t.touches[0].clientX:t.clientX,u=es(t)?t.touches[0].clientY:t.clientY,d=Date.now(),h=i.field,p=setInterval(()=>{s?h.scroll({top:0,left:h.scrollLeft-16}):l&&h.scroll({top:0,left:h.scrollLeft+16})},32);function f(t){window.PointerEvent?(pi(h,"pointermove",m),pi(h,"pointerup pointercancel",f),t instanceof PointerEvent&&h.releasePointerCapture(t.pointerId)):(pi(h,"touchmove",m),pi(h,"touchcancel touchend",f),pi(window,"mousemove",m),pi(window,"mouseup blur",f)),o=!1,clearInterval(p),e.element.classList.remove("tracking"),t&&(t.preventDefault(),t.stopPropagation())}function m(t){if(!i.hasFocus())return void f(null);const n=es(t)?t.touches[0].clientX:t.clientX,o=es(t)?t.touches[0].clientY:t.clientY,a=es(t)||"touch"===t.pointerType?20:5;if(Date.now()<d+500&&Math.abs(c-n)<a&&Math.abs(u-o)<a)return t.preventDefault(),void t.stopPropagation();const p=h.getBoundingClientRect();l=n>p.right,s=n<p.left;let m=r;t instanceof PointerEvent?t.isPrimary||(m=rs(i,t.clientX,t.clientY,{bias:0})):t.touches&&2===t.touches.length&&(m=rs(i,t.touches[1].clientX,t.touches[1].clientY,{bias:0}));const g=rs(i,n,o,{bias:n<=c?n===c?0:-1:1});m>=0&&g>=0&&(i.model.extendSelectionTo(m,g),Yi(e)),t.preventDefault(),t.stopPropagation()}Qa&&Math.abs(Qa.x-c)<5&&Math.abs(Qa.y-u)<5&&Date.now()<Qa.time+500?(Ja+=1,Qa.time=d):(Qa={x:c,y:u,time:d},Ja=1);const g=h.getBoundingClientRect();if(c>=g.left&&c<=g.right&&u>=g.top&&u<=g.bottom){if(e.hasFocus()||(a="all",e.keyboardDelegate.focus()),e.resetKeystrokeBuffer(),e.smartModeSuppressed=!1,r=rs(e,c,u,{bias:0}),r>=0){if(e.element.classList.add("tracking"),t.shiftKey){const t=e.model.selectionIsCollapsed;e.model.extendSelectionTo(e.model.anchor,r),a=cr(e.model)||t?"all":"selection"}else"placeholder"===e.model.at(r).type?(e.model.setSelection(r-1,r),a="selection"):"placeholder"===(null===(n=e.model.at(r).rightSibling)||void 0===n?void 0:n.type)?(e.model.setSelection(r,r+1),a="selection"):(e.model.position=r,a=cr(e.model)?"all":"selection");e.style={},3===t.detail||Ja>2?(f(t),3!==t.detail&&3!==Ja||(e.model.selection={ranges:[[0,e.model.lastOffset]]},a="all")):o||(o=!0,window.PointerEvent?(hi(h,"pointermove",m),hi(h,"pointerup pointercancel",f),t instanceof PointerEvent&&h.setPointerCapture(t.pointerId)):(hi(window,"blur",f),es(t)&&t.touches?(hi(t.target,"touchmove",m),hi(t.target,"touchcancel touchend",f)):(hi(window,"mousemove",m),hi(window,"mouseup",f))),2!==t.detail&&2!==Ja||(Ca(e.model),a="all"))}}else Qa=null;"none"!==a&&(e.model.selectionIsCollapsed&&(a="all"),Yi(e)),t.preventDefault()}(this,e);break;case"resize":this.resizeTimer&&cancelAnimationFrame(this.resizeTimer),this.resizeTimer=requestAnimationFrame(()=>gi(this)&&this.onResize())}}dispose(){gi(this)&&(pi(this.element,"pointerdown",this),pi(this.element,"touchstart:active mousedown",this),pi(this.element,"focus",this),pi(this.element,"blur",this),pi(window,"resize",this),this.element.innerHTML=this.getValue(),delete this.element.mathfield,delete this.accessibleNode,delete this.ariaLiveText,delete this.field,delete this.fieldContent,delete this.keyboardDelegate,this.virtualKeyboardToggle.remove(),delete this.virtualKeyboardToggle,this.virtualKeyboard&&(this.virtualKeyboard.dispose(),delete this.virtualKeyboard),mi(this.popover),Wi&&Wi.release(),Vi&&Vi.release(),delete this.popover,mi(this.keystrokeCaption),Ua&&Ua.release(),Ha&&Ha.release(),delete this.keystrokeCaption,delete this.element,this.stylesheets.forEach(e=>null==e?void 0:e.release()))}resetKeystrokeBuffer(e){(e=null!=e?e:{defer:!1}).defer?this.options.inlineShortcutTimeout>0&&(this.keystrokeBufferResetTimer=setTimeout(()=>{this.resetKeystrokeBuffer()},this.options.inlineShortcutTimeout)):(this.keystrokeBuffer="",this.keystrokeBufferStates=[],clearTimeout(this.keystrokeBufferResetTimer))}executeCommand(e){var t,n;return"virtual-keyboard"===pr(e)?null!==(n=null===(t=this.virtualKeyboard)||void 0===t?void 0:t.executeCommand(e))&&void 0!==n&&n:function(e,t){var n,r,o;if(!t)return!1;let a,s=[],l=!1,c=!1;i(t)?(a=t[0],s=t.slice(1)):a=t,a=a.replace(/-\w/g,e=>e[1].toUpperCase());const u=null===(n=dr[a])||void 0===n?void 0:n.target;if("model"===u){if(e.options.readOnly&&/^(paste|cut|insert|delete|transpose|add)/.test(a))return e.model.announce("plonk"),!1;/^(delete|transpose|add)/.test(a)&&"deleteBackward"!==a&&e.resetKeystrokeBuffer(),/^(delete|transpose|add)/.test(a)&&"latex"!==e.mode&&(e.popUndoStack(),e.snapshot()),dr[a].fn(e.model,...s),/^(delete|transpose|add)/.test(a)&&"latex"!==e.mode&&e.snapshot(),"latex"===e.mode&&lr(e),c=!0,l=!0}else if("virtual-keyboard"===u)c=null!==(o=null===(r=e.virtualKeyboard)||void 0===r?void 0:r.executeCommand(t))&&void 0!==o&&o,l=!0;else{if(!dr[a])throw new Error('Unknown command "'+a+'"');c=dr[a].fn(e,...s),l=!0}return"virtual-keyboard"!==u&&(e.model.selectionIsCollapsed&&!/^(transpose|paste|complete|((moveToNextChar|moveToPreviousChar|extend).*))_$/.test(a)||(e.resetKeystrokeBuffer(),e.style={})),c&&Yi(e),l}(this,e)}get lastOffset(){return this.model.lastOffset}get selection(){return this.model.selection}set selection(e){this.model.selection=e}getValue(e,t,n){return this.model.getValue(e,t,n)}setValue(e,t){var n;void 0===(t=null!=t?t:{mode:"math"}).insertionMode&&(t.insertionMode="replaceAll"),void 0!==t.format&&"auto"!==t.format||(t.format="latex");let i="math";void 0!==t.mode&&"auto"!==t.mode||(i=null!==(n=fa(this.model,this.model.position))&&void 0!==n?n:"math"),ir.insert(i,this.model,e,{...t,colorMap:this.colorMap,backgroundColorMap:this.backgroundColorMap})&&(this.undoManager.snapshot(this.options),Yi(this))}find(e,t){return function(e,t,n){return Pa(e,e.root,"body",t,n).sort((e,t)=>t[0]===e[0]?t[1]-e[1]:t[0]-e[0])}(this.model,e,t)}replace(e,t,n){!function(e,t,n,i){Ia(e,e.root,"body",t,n,i),e.position=e.normalizeOffset(e.position)}(this.model,e,t,n)}scrollIntoView(){var e;this.dirty&&Qi(this);const t=this.field.getBoundingClientRect();let n;if(this.model.selectionIsCollapsed)n=null===(e=yi(this.field))||void 0===e?void 0:e.x;else{const e=ki(this);if(e.length>0){let i=-1/0;for(const t of e)t.right>i&&(i=t.right);n=i+t.left-this.field.scrollLeft}}if(void 0!==n){const e=n-window.scrollX;e<t.left?this.field.scroll({top:0,left:e-t.left+this.field.scrollLeft-20,behavior:"smooth"}):e>t.right&&this.field.scroll({top:0,left:e-t.right+this.field.scrollLeft+20,behavior:"smooth"})}}insert(e,t){var n;if("string"==typeof e&&e.length>0){if((t=null!=t?t:{mode:"math"}).focus&&this.focus(),t.feedback&&(this.options.keypressVibration&&Le()&&navigator.vibrate(3),null===(n=this.keypressSound)||void 0===n||n.play().catch(console.warn)),"\\\\"===e)ca(this.model);else if("&"===e)ua(this.model);else{const n=this.style;ir.insert(this.mode,this.model,e,{style:this.model.at(this.model.position).computedStyle,...t}),t.resetStyle&&(this.style=n)}return this.undoManager.snapshot(this.options),Yi(this),!0}return!1}switchMode(e,t="",n=""){if(this.mode===e)return;const{model:i}=this;i.deferNotifications({content:Boolean(n)||Boolean(t),selection:!0},()=>{var r;let o=!1;if(this.resetKeystrokeBuffer(),this.smartModeSuppressed=/text|math/.test(this.mode)&&/text|math/.test(e),t&&"latex"!==e){const n=Nt(t,{parseMode:{math:"text",text:"math"}[e]});i.collapseSelection("forward");const r=i.at(i.position);i.position=i.offsetOf(r.parent.addChildrenAfter(n,r)),o=!0}if(this.mode=e,"latex"===e){let e,n=i.selectionIsCollapsed;ur(this,"accept"),(null===(r=this.virtualKeyboard)||void 0===r?void 0:r.visible)&&this.executeCommand(["switchKeyboardLayer","latex-lower"]);let o=i.at(i.position);if(n)e="\\";else{const r=tr(i.selection);e=this.model.getValue(r,"latex");const a=this.model.extractAtoms(r);1===a.length&&a[0]instanceof Ct&&(e=t,n=!0),o=i.at(r[0])}const a=new qi(e);o.parent.addChildAfter(a,o),n?i.position=i.offsetOf(a.lastChild):i.setSelection(i.offsetOf(a.firstChild),i.offsetOf(a.lastChild))}else ar(i).forEach(e=>{e.isError=!1});if(n){const t=Nt(n,{parseMode:{math:"text",text:"math"}[e]});i.collapseSelection("forward");const r=i.at(i.position);i.position=i.offsetOf(r.parent.addChildrenAfter(t,r)),o=!0}return"function"==typeof this.options.onModeChange&&this.options.onModeChange(this,this.mode),Yi(this),o})}hasFocus(){return Se()&&document.hasFocus()&&this.keyboardDelegate.hasFocus()}focus(){this.hasFocus()||(this.keyboardDelegate.focus(),this.model.announce("line"))}blur(){this.hasFocus()&&this.keyboardDelegate.blur()}select(){this.model.selection={ranges:[[0,this.model.lastOffset]]}}applyStyle(e,t={}){var n,i;const r={operation:"set",suppressChangeNotifications:!1};Xr(t)?r.range=t:(r.range=t.range,r.suppressChangeNotifications=null!==(n=t.suppressChangeNotifications)&&void 0!==n&&n);const o=Ya(this,e),a=null!==(i=r.operation)&&void 0!==i?i:"set";this.model.deferNotifications({content:!r.suppressChangeNotifications},()=>{void 0===r.range?this.model.selection.ranges.forEach(e=>ga(this.model,e,o,{operation:a})):ga(this.model,r.range,o,{operation:a})}),Yi(this)}getCaretPoint(){const e=yi(this.field);return e?{x:e.x,y:e.y}:null}setCaretPoint(e,t){const n=rs(this,e,t,{bias:0});if(n<0)return!1;const i=this.model.position;return this.model.position=n,this.model.announce("move",i),Yi(this),!0}canUndo(){return this.undoManager.canUndo()}canRedo(){return this.undoManager.canRedo()}popUndoStack(){this.undoManager.pop()}snapshot(){this.undoManager.snapshot({...this.options,onUndoStateDidChange:(e,t)=>{var n;null===(n=this.virtualKeyboard)||void 0===n||n.executeCommand(["onUndoStateChanged",this.canUndo(),this.canRedo()]),this.options.onUndoStateDidChange(e,t)}})}snapshotAndCoalesce(){this.undoManager.snapshotAndCoalesce({...this.options,onUndoStateDidChange:(e,t)=>{var n;null===(n=this.virtualKeyboard)||void 0===n||n.executeCommand(["onUndoStateChanged",this.canUndo(),this.canRedo()]),this.options.onUndoStateDidChange(e,t)}})}getUndoRecord(){return this.undoManager.save()}restoreToUndoRecord(e){this.undoManager.restore(e,{...this.options,suppressChangeNotifications:!0})}undo(){return this.undoManager.undo({...this.options,onUndoStateDidChange:(e,t)=>{this.virtualKeyboard.executeCommand(["onUndoStateChanged",this.canUndo(),this.canRedo()]),this.options.onUndoStateDidChange(e,t)}})}redo(){return this.undoManager.redo({...this.options,onUndoStateDidChange:(e,t)=>{var n;null===(n=this.virtualKeyboard)||void 0===n||n.executeCommand(["onUndoStateChanged",this.canUndo(),this.canRedo()]),this.options.onUndoStateDidChange(e,t)}})}_onSelectionDidChange(){var e;this.keyboardDelegate.setValue(this.getValue(this.model.selection,"latex-expanded"));{const t=this.model.at(this.model.position),n=null!==(e=t.mode)&&void 0!==e?e:Ur(this.options);this.mode!==n&&("latex"===this.mode?(ur(this,"accept",{mode:n}),this.model.position=this.model.offsetOf(t)):this.switchMode(n))}"function"==typeof this.options.onSelectionDidChange&&this.options.onSelectionDidChange(this)}onFocus(){var e,t,n;this.blurred&&(this.blurred=!1,this.keyboardDelegate.focus(),null===(e=this.virtualKeyboard)||void 0===e||e.enable(),"onfocus"===this.options.virtualKeyboardMode&&this.executeCommand("showVirtualKeyboard"),Hi(this),null===(n=(t=this.options).onFocus)||void 0===n||n.call(t,this),this.valueOnFocus=this.getValue(),Yi(this))}onBlur(){var e;this.blurred||(this.blurred=!0,this.ariaLiveText.textContent="",/onfocus|manual/.test(this.options.virtualKeyboardMode)&&this.executeCommand("hideVirtualKeyboard"),ur(this,"accept"),Yi(this),"function"==typeof this.options.onBlur&&this.options.onBlur(this),null===(e=this.virtualKeyboard)||void 0===e||e.disable(),"function"==typeof this.options.onCommit&&this.getValue()!==this.valueOnFocus&&this.options.onCommit(this))}onCompositionStart(e){this.model.position=this.model.deleteAtoms(tr(this.model.selection)),requestAnimationFrame(()=>{Qi(this);const e=yi(this.field);e&&this.keyboardDelegate.moveTo(e.x,e.y)})}onCompositionUpdate(e){!function(e,t){const n=e.at(e.position);if("composition"===n.type)n.value=t;else{const{caret:i}=n;n.caret="";const r=new pa(t,{mode:n.mode});r.caret=i,n.parent.addChildAfter(r,n),e.position+=1}}(this.model,e),Yi(this)}onCompositionEnd(e){!function(e){const t=e.at(e.position);"composition"===t.type&&(t.parent.removeChild(t),e.position-=1)}(this.model),Za(this,e,{simulateKeystroke:!0})}onResize(){gi(this)&&(this.element.classList.remove("ML__isNarrowWidth","ML__isWideWidth","ML__isExtendedWidth"),window.innerWidth>=1024?this.element.classList.add("ML__isExtendedWidth"):window.innerWidth>=768?this.element.classList.add("ML__isWideWidth"):this.element.classList.add("ML__isNarrowWidth"),Hi(this))}}var cs,us;const ds=document.createElement("template");ds.innerHTML='<style>\n:host { display: block; position: relative; }\n:host([hidden]) { display: none; }\n:host([disabled]) { opacity:  .5; }\n:host(:focus), :host(:focus-within) {\n  outline: Highlight auto 1px;    /* For Firefox */\n  outline: -webkit-focus-ring-color auto 1px;\n}\n:host([readonly]), :host([read-only]) { outline: none; }\n</style>\n<div></div><slot style="display:none"></slot>';const hs=new WeakMap;class ps extends HTMLElement{constructor(e){Me(),super(),this.attachShadow({mode:"open"}),this.shadowRoot.append(ds.content.cloneNode(!0)),this.shadowRoot.host.addEventListener("focus",e=>{var t;return null===(t=this._mathfield)||void 0===t?void 0:t.focus()},!0),this.shadowRoot.host.addEventListener("blur",e=>{var t;return null===(t=this._mathfield)||void 0===t?void 0:t.blur()},!0);const t=this.shadowRoot.querySelector("slot:not([name])");this._slotValue=t.assignedNodes().map(e=>3===e.nodeType?e.textContent:"").join("").trim();try{const e=t.assignedElements().filter(e=>"script"===e.tagName.toLowerCase()&&"application/json"===e.type).map(e=>e.textContent).join("");e&&this.setOptions(JSON.parse(e))}catch(e){}try{this._style=t.assignedElements().filter(e=>"style"===e.tagName.toLowerCase()).map(e=>e.textContent).join("")}catch(e){}e&&this.setOptions(e)}static get optionsAttributes(){return{"default-mode":"string","fonts-directory":"string","horizontal-spacing-scale":"string","math-mode-space":"string","inline-shortcut-timeout":"string","keypress-vibration":"boolean","keypress-sound":"string","plonk-sound":"string","letter-shape-style":"string",locale:"string","read-only":"boolean","remove-extraneous-parentheses":"boolean","smart-fence":"boolean","smart-mode":"boolean","smart-superscript":"boolean","speech-engine":"string","speech-engine-rate":"string","speech-engine-voice":"string","text-to-speech-markup":"string","text-to-speech-rules":"string","virtual-keyboard-layout":"string","virtual-keyboard-mode":"string","virtual-keyboard-theme":"string","virtual-keyboards":"string","use-shared-virtual-keyboard":"boolean","shared-virtual-keyboard-target-origin":"string"}}static get observedAttributes(){return[...Object.keys(ps.optionsAttributes),"disabled","readonly"]}addEventListener(e,t,n){return super.addEventListener(e,t,n)}removeEventListener(e,t,n){super.removeEventListener(e,t,n)}get mode(){var e,t;return null!==(t=null===(e=this._mathfield)||void 0===e?void 0:e.mode)&&void 0!==t?t:"math"}set mode(e){this._mathfield&&(this._mathfield.mode=e)}getOptions(e){return this._mathfield?Kr(this._mathfield.options,e):hs.has(this)?Kr(Br(Vr(),hs.get(this).options),e):null}getOption(e){return this.getOptions([e])[e]}setOptions(e){if(this._mathfield)this._mathfield.setOptions(e);else if(hs.has(this)){const t={...hs.get(this).options,...e};hs.set(this,{value:hs.get(this).value,selection:{ranges:t.readOnly?[[0,0]]:[[0,-1]]},options:t})}else hs.set(this,{value:"",selection:{ranges:[[0,0]]},options:e});!function(e){const t=Vr(),n=e.getOptions();Object.keys(ps.optionsAttributes).forEach(i=>{const r=fs(i);t[r]!==n[r]&&("boolean"===ps.optionsAttributes[i]?n[r]?e.setAttribute(i,""):e.removeAttribute(i):"string"!=typeof n[r]&&"number"!=typeof n[r]||e.setAttribute(i,n[r].toString()))})}(this)}executeCommand(e){var t,n;return null!==(n=null===(t=this._mathfield)||void 0===t?void 0:t.executeCommand(e))&&void 0!==n&&n}getValue(e,t,n){if(this._mathfield)return this._mathfield.getValue(e,t,n);if(hs.has(this)){let i,r,o;if(Zr(e)?([i,r]=e.ranges[0],o=t):Xr(e)?([i,r]=e,o=t):Gr(e)&&Gr(t)?(i=e,r=t,o=n):(i=0,r=-1,o=e),(void 0===o||"latex"===o)&&0===i&&-1===r)return hs.get(this).value}return""}setValue(e,t){if(this._mathfield)return void this._mathfield.setValue(null!=e?e:"",t);if(hs.has(this)){const t=hs.get(this).options;return void hs.set(this,{value:null!=e?e:"",selection:{ranges:t.readOnly?[[0,0]]:[[0,-1]],direction:"forward"},options:t})}const n=ms(this);hs.set(this,{value:null!=e?e:"",selection:{ranges:n.readOnly?[[0,0]]:[[0,-1]],direction:"forward"},options:n})}hasFocus(){var e,t;return null!==(t=null===(e=this._mathfield)||void 0===e?void 0:e.hasFocus())&&void 0!==t&&t}get virtualKeyboardState(){var e,t;return null!==(t=null===(e=this._mathfield)||void 0===e?void 0:e.virtualKeyboardState)&&void 0!==t?t:"hidden"}set virtualKeyboardState(e){this._mathfield&&(this._mathfield.virtualKeyboardState=e)}focus(){super.focus()}blur(){super.blur()}select(){var e;null===(e=this._mathfield)||void 0===e||e.select()}insert(e,t){var n,i;return null!==(i=null===(n=this._mathfield)||void 0===n?void 0:n.insert(e,t))&&void 0!==i&&i}applyStyle(e,t){var n;return null===(n=this._mathfield)||void 0===n?void 0:n.applyStyle(e,t)}get caretPoint(){var e,t;return null!==(t=null===(e=this._mathfield)||void 0===e?void 0:e.getCaretPoint())&&void 0!==t?t:null}set caretPoint(e){var t;e&&(null===(t=this._mathfield)||void 0===t||t.setCaretPoint(e.x,e.y))}setCaretPoint(e,t){var n,i;return null!==(i=null===(n=this._mathfield)||void 0===n?void 0:n.setCaretPoint(e,t))&&void 0!==i&&i}find(e,t){var n,i;return null!==(i=null===(n=this._mathfield)||void 0===n?void 0:n.find(e,t))&&void 0!==i?i:[]}replace(e,t,n){var i;null===(i=this._mathfield)||void 0===i||i.replace(e,t,n)}connectedCallback(){var e,t;if(this.hasAttribute("role")||this.setAttribute("role","textbox"),this.hasAttribute("tabindex")||this.setAttribute("tabindex","0"),this._style){const e=document.createElement("style");e.textContent=this._style,this.shadowRoot.appendChild(e)}const n=this.shadowRoot.querySelector("slot:not([name])");let i="";if(i=this.hasAttribute("value")?null!==(e=this.getAttribute("value"))&&void 0!==e?e:"":null!==(t=null==n?void 0:n.assignedNodes().map(e=>3===e.nodeType?e.textContent:"").join("").trim())&&void 0!==t?t:"",this._mathfield=new ls(this.shadowRoot.querySelector(":host > div"),{onBlur:()=>{this.dispatchEvent(new Event("blur",{cancelable:!1,bubbles:!1,composed:!0}))},onContentDidChange:()=>{this.dispatchEvent(new Event("input",{cancelable:!1,bubbles:!0,composed:!0}))},onError:e=>{this.dispatchEvent(new CustomEvent("math-error",{detail:{code:e.code,arg:e.arg,latex:e.latex,before:e.before,after:e.after},cancelable:!1,bubbles:!0,composed:!0}))},onFocus:()=>{this.dispatchEvent(new Event("focus",{cancelable:!1,bubbles:!1,composed:!0}))},onKeystroke:(e,t,n)=>this.dispatchEvent(new CustomEvent("keystroke",{detail:{keystroke:t,event:n},cancelable:!0,bubbles:!0,composed:!0})),onModeChange:(e,t)=>{this.dispatchEvent(new Event("mode-change",{cancelable:!1,bubbles:!0,composed:!0}))},onCommit:e=>{this.dispatchEvent(new Event("change",{cancelable:!1,bubbles:!0,composed:!0}))},onMoveOutOf:(e,t)=>this.dispatchEvent(new CustomEvent("move-out",{detail:{direction:t},cancelable:!0,bubbles:!0,composed:!0})),onTabOutOf:(e,t)=>this.dispatchEvent(new CustomEvent("focus-out",{detail:{direction:t},cancelable:!0,bubbles:!0,composed:!0})),onReadAloudStatus:()=>{this.dispatchEvent(new Event("read-aloud-status-change",{cancelable:!1,bubbles:!0,composed:!0}))},onSelectionDidChange:()=>{this.dispatchEvent(new Event("selection-change",{cancelable:!1,bubbles:!0,composed:!0}))},onUndoStateDidChange:()=>{this.dispatchEvent(new Event("undo-state-change",{cancelable:!1,bubbles:!0,composed:!0}))},...hs.has(this)?hs.get(this).options:ms(this),value:i}),!hs.has(this)){this.upgradeProperty("disabled"),this.upgradeProperty("readonly");for(const e of Object.keys(ps.optionsAttributes))this.upgradeProperty(fs(e))}this._mathfield&&this._mathfield.model?(hs.has(this)&&this._mathfield.model.deferNotifications({content:!1,selection:!1},()=>{this._mathfield.setValue(hs.get(this).value),this._mathfield.selection=hs.get(this).selection,hs.delete(this)}),n.addEventListener("slotchange",e=>{if(e.target!==n)return;const t=n.assignedNodes().map(e=>3===e.nodeType?e.textContent:"").join("").trim();t!==this._slotValue&&(this._mathfield?this._mathfield.setValue(t):this.value=t)}),this.dispatchEvent(new Event("mount",{cancelable:!1,bubbles:!0,composed:!0}))):this._mathfield=null}disconnectedCallback(){if(this.dispatchEvent(new Event("unmount",{cancelable:!1,bubbles:!0,composed:!0})),!this._mathfield)return;const e=Kr(this._mathfield.options,Object.keys(ps.optionsAttributes).map(e=>fs(e)));hs.set(this,{value:this._mathfield.getValue(),selection:this._mathfield.selection,options:e}),this._mathfield.dispose(),this._mathfield=null}upgradeProperty(e){if(this.hasOwnProperty(e)){const t=this[e];delete this[e],"readonly"===e&&(e="readOnly"),this[e]=t}}attributeChangedCallback(e,t,n){if(t===n)return;const i=null!==n;switch(e){case"disabled":this.disabled=i;break;case"readonly":this.readOnly=i}}get readonly(){return this.hasAttribute("readonly")||this.hasAttribute("read-only")}set readonly(e){const t=Boolean(e);t?this.setAttribute("disabled",""):this.removeAttribute("disabled"),this.setAttribute("aria-disabled",t?"true":"false"),this.setOptions({readOnly:t})}get disabled(){return this.hasAttribute("disabled")}set disabled(e){const t=Boolean(e);t?this.setAttribute("disabled",""):this.removeAttribute("disabled"),this.setAttribute("aria-disabled",t?"true":"false"),this.setOptions({readOnly:t})}get value(){return this.getValue()}set value(e){this.setValue(e)}get defaultMode(){return this.getOption("defaultMode")}set defaultMode(e){this.setOptions({defaultMode:e})}get fontsDirectory(){return this.getOption("fontsDirectory")}set fontsDirectory(e){this.setOptions({fontsDirectory:e})}get mathModeSpace(){return this.getOption("fontsDirectory")}set mathModeSpace(e){this.setOptions({mathModeSpace:e})}get inlineShortcutTimeout(){return this.getOption("inlineShortcutTimeout")}set inlineShortcutTimeout(e){this.setOptions({inlineShortcutTimeout:e})}get keypressVibration(){return this.getOption("keypressVibration")}set keypressVibration(e){this.setOptions({keypressVibration:e})}get keypressSound(){return this.getOption("keypressSound")}set keypressSound(e){this.setOptions({keypressSound:e})}get plonkSound(){var e;return null!==(e=this.getOption("plonkSound"))&&void 0!==e?e:null}set plonkSound(e){this.setOptions({plonkSound:e})}get letterShapeStyle(){return this.getOption("letterShapeStyle")}set letterShapeStyle(e){this.setOptions({letterShapeStyle:e})}get locale(){return this.getOption("locale")}set locale(e){this.setOptions({locale:e})}get readOnly(){return this.getOption("readOnly")}set readOnly(e){this.setOptions({readOnly:e})}get removeExtraneousParentheses(){return this.getOption("removeExtraneousParentheses")}set removeExtraneousParentheses(e){this.setOptions({removeExtraneousParentheses:e})}get smartFence(){return this.getOption("smartFence")}set smartFence(e){this.setOptions({smartFence:e})}get smartMode(){return this.getOption("smartMode")}set smartMode(e){this.setOptions({smartMode:e})}get smartSuperscript(){return this.getOption("smartSuperscript")}set smartSuperscript(e){this.setOptions({smartSuperscript:e})}get speechEngine(){return this.getOption("speechEngine")}set speechEngine(e){this.setOptions({speechEngine:e})}get speechEngineRate(){return this.getOption("speechEngineRate")}set speechEngineRate(e){this.setOptions({speechEngineRate:e})}get speechEngineVoice(){return this.getOption("speechEngineVoice")}set speechEngineVoice(e){this.setOptions({speechEngineVoice:e})}get textToSpeechMarkup(){return this.getOption("textToSpeechMarkup")}set textToSpeechMarkup(e){this.setOptions({textToSpeechMarkup:e})}get textToSpeechRules(){return this.getOption("textToSpeechRules")}set textToSpeechRule(e){this.setOptions({textToSpeechRules:e})}get virtualKeyboardLayout(){return this.getOption("virtualKeyboardLayout")}set virtualKeyboardLayout(e){this.setOptions({virtualKeyboardLayout:e})}get virtualKeyboardMode(){return this.getOption("virtualKeyboardMode")}set virtualKeyboardMode(e){this.setOptions({virtualKeyboardMode:e})}get virtualKeyboardTheme(){return this.getOption("virtualKeyboardTheme")}set virtualKeyboardTheme(e){this.setOptions({virtualKeyboardTheme:e})}get virtualKeyboars(){return this.getOption("virtualKeyboards")}set virtualKeyboars(e){this.setOptions({virtualKeyboards:e})}get useSharedVirtualKeyboard(){return this.getOption("useSharedVirtualKeyboard")}set useSharedVirtualKeyboard(e){this.setOptions({useSharedVirtualKeyboard:e})}get sharedVirtualKeyboardTargetOrigin(){return this.getOption("sharedVirtualKeyboardTargetOrigin")}set sharedVirtualKeyboardTargetOrigin(e){this.setOptions({sharedVirtualKeyboardTargetOrigin:e})}get selection(){return this._mathfield?this._mathfield.selection:hs.has(this)?hs.get(this).selection:{ranges:[[0,0]],direction:"forward"}}set selection(e){"number"==typeof e&&(e={ranges:[[e,e]]}),this._mathfield?this._mathfield.selection=e:hs.has(this)?hs.set(this,{value:hs.get(this).value,selection:e,options:hs.get(this).options}):hs.set(this,{value:"",selection:e,options:ms(this)})}get position(){return this._mathfield?this._mathfield.model.position:hs.has(this)?hs.get(this).selection.ranges[0][0]:0}set position(e){this._mathfield&&(this._mathfield.model.position=e),hs.has(this)?hs.set(this,{value:hs.get(this).value,selection:{ranges:[[e,e]]},options:hs.get(this).options}):hs.set(this,{value:"",selection:{ranges:[[e,e]]},options:ms(this)})}getOffsetDepth(e){var t,n;return this._mathfield&&null!==(n=(null===(t=this._mathfield.model.at(e))||void 0===t?void 0:t.treeDepth)-2)&&void 0!==n?n:0}get lastOffset(){var e,t;return null!==(t=null===(e=this._mathfield)||void 0===e?void 0:e.lastOffset)&&void 0!==t?t:-1}}function fs(e){return e.toLowerCase().replace(/[^a-zA-Z\d]+(.)/g,(e,t)=>t.toUpperCase())}function ms(e){const t={},n=ps.optionsAttributes;return Object.keys(n).forEach(i=>{if(e.hasAttribute(i)){const r=e.getAttribute(i);"boolean"===n[i]?t[fs(i)]=!0:"number"===n[i]?t[fs(i)]=Number.parseFloat(null!=r?r:"0"):t[fs(i)]=r}else"boolean"===n[i]&&(t[fs(i)]=!1)}),t}(null===(cs=window.customElements)||void 0===cs?void 0:cs.get("math-field"))||(window.MathfieldElement=ps,null===(us=window.customElements)||void 0===us||us.define("math-field",ps));Bn.FUNCTIONS,Bn.MATH_SYMBOLS,Bn.TEXT_SYMBOLS,Bn.ENVIRONMENTS,Bn.DEFAULT_KEYBINDINGS,Bn.getKeybindingMarkup,Bn.INLINE_SHORTCUTS},fea9:function(e,t,n){var i=n("da84");e.exports=i.Promise},ffa6:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return d}));function i(e,t,n,i){function r(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function a(e){try{l(i.next(e))}catch(t){o(t)}}function s(e){try{l(i["throw"](e))}catch(t){o(t)}}function l(e){e.done?n(e.value):r(e.value).then(a,s)}l((i=i.apply(e,t||[])).next())}))}function r(e,t){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(e){return function(t){return l([e,t])}}function l(o){if(n)throw new TypeError("Generator is already executing.");while(a)try{if(n=1,i&&(r=2&o[0]?i["return"]:o[0]?i["throw"]||((r=i["return"])&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(r=a.trys,!(r=r.length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}}Object.create;function o(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function a(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,r,o=n.call(e),a=[];try{while((void 0===t||t-- >0)&&!(i=o.next()).done)a.push(i.value)}catch(s){r={error:s}}finally{try{i&&!i.done&&(n=o["return"])&&n.call(o)}finally{if(r)throw r.error}}return a}function s(e,t,n){if(n||2===arguments.length)for(var i,r=0,o=t.length;r<o;r++)!i&&r in t||(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||t)}Object.create;var l=n("a8e9"),c=function(){function e(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},e.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},e.prototype.setServiceProps=function(e){return this.serviceProps=e,this},e.prototype.setInstanceCreatedCallback=function(e){return this.onInstanceCreated=e,this},e}(),u="[DEFAULT]",d=function(){function e(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.onInitCallbacks=new Map}return e.prototype.get=function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new l["a"];if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var i=this.getOrInitializeService({instanceIdentifier:t});i&&n.resolve(i)}catch(r){}}return this.instancesDeferred.get(t).promise},e.prototype.getImmediate=function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),i=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(i)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(r){if(i)return null;throw r}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(e){var t,n;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,this.shouldAutoInitialize()){if(p(e))try{this.getOrInitializeService({instanceIdentifier:u})}catch(f){}try{for(var i=o(this.instancesDeferred.entries()),r=i.next();!r.done;r=i.next()){var s=a(r.value,2),l=s[0],c=s[1],d=this.normalizeInstanceIdentifier(l);try{var h=this.getOrInitializeService({instanceIdentifier:d});c.resolve(h)}catch(f){}}}catch(m){t={error:m}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}}},e.prototype.clearInstance=function(e){void 0===e&&(e=u),this.instancesDeferred.delete(e),this.instances.delete(e)},e.prototype.delete=function(){return i(this,void 0,void 0,(function(){var e;return r(this,(function(t){switch(t.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all(s(s([],a(e.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()})))),a(e.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))))];case 1:return t.sent(),[2]}}))}))},e.prototype.isComponentSet=function(){return null!=this.component},e.prototype.isInitialized=function(e){return void 0===e&&(e=u),this.instances.has(e)},e.prototype.initialize=function(e){var t,n;void 0===e&&(e={});var i=e.options,r=void 0===i?{}:i,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(this.name+"("+s+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var l=this.getOrInitializeService({instanceIdentifier:s,options:r});try{for(var c=o(this.instancesDeferred.entries()),u=c.next();!u.done;u=c.next()){var d=a(u.value,2),h=d[0],p=d[1],f=this.normalizeInstanceIdentifier(h);s===f&&p.resolve(l)}}catch(m){t={error:m}}finally{try{u&&!u.done&&(n=c.return)&&n.call(c)}finally{if(t)throw t.error}}return l},e.prototype.onInit=function(e,t){var n,i=this.normalizeInstanceIdentifier(t),r=null!==(n=this.onInitCallbacks.get(i))&&void 0!==n?n:new Set;r.add(e),this.onInitCallbacks.set(i,r);var o=this.instances.get(i);return o&&e(o,i),function(){r.delete(e)}},e.prototype.invokeOnInitCallbacks=function(e,t){var n,i,r=this.onInitCallbacks.get(t);if(r)try{for(var a=o(r),s=a.next();!s.done;s=a.next()){var l=s.value;try{l(e,t)}catch(c){}}}catch(u){n={error:u}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}},e.prototype.getOrInitializeService=function(e){var t=e.instanceIdentifier,n=e.options,i=void 0===n?{}:n,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:h(t),options:i}),this.instances.set(t,r),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(o){}return r||null},e.prototype.normalizeInstanceIdentifier=function(e){return void 0===e&&(e=u),this.component?this.component.multipleInstances?e:u:e},e.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},e}();function h(e){return e===u?void 0:e}function p(e){return"EAGER"===e.instantiationMode}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var f=function(){function e(e){this.name=e,this.providers=new Map}return e.prototype.addComponent=function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);t.setComponent(e)},e.prototype.addOrOverwriteComponent=function(e){var t=this.getProvider(e.name);t.isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},e.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var t=new d(e,this);return this.providers.set(e,t),t},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}()}}]);
//# sourceMappingURL=chunk-vendors.4b5edf72.js.map